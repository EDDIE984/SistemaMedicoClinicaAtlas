function rq(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Xf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ct(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Kv={exports:{}},uu={},Yv={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dC;function nq(){if(dC)return dt;dC=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;function g(q){return q===null||typeof q!="object"?null:(q=h&&q[h]||q["@@iterator"],typeof q=="function"?q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,b={};function v(q,Q,U){this.props=q,this.context=Q,this.refs=b,this.updater=U||x}v.prototype.isReactComponent={},v.prototype.setState=function(q,Q){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Q,"setState")},v.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function j(){}j.prototype=v.prototype;function S(q,Q,U){this.props=q,this.context=Q,this.refs=b,this.updater=U||x}var A=S.prototype=new j;A.constructor=S,_(A,v.prototype),A.isPureReactComponent=!0;var P=Array.isArray,E=Object.prototype.hasOwnProperty,O={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function T(q,Q,U){var ne,se={},ve=null,re=null;if(Q!=null)for(ne in Q.ref!==void 0&&(re=Q.ref),Q.key!==void 0&&(ve=""+Q.key),Q)E.call(Q,ne)&&!C.hasOwnProperty(ne)&&(se[ne]=Q[ne]);var oe=arguments.length-2;if(oe===1)se.children=U;else if(1<oe){for(var ee=Array(oe),me=0;me<oe;me++)ee[me]=arguments[me+2];se.children=ee}if(q&&q.defaultProps)for(ne in oe=q.defaultProps,oe)se[ne]===void 0&&(se[ne]=oe[ne]);return{$$typeof:e,type:q,key:ve,ref:re,props:se,_owner:O.current}}function I(q,Q){return{$$typeof:e,type:q.type,key:Q,ref:q.ref,props:q.props,_owner:q._owner}}function R(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function D(q){var Q={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(U){return Q[U]})}var B=/\/+/g;function W(q,Q){return typeof q=="object"&&q!==null&&q.key!=null?D(""+q.key):Q.toString(36)}function Y(q,Q,U,ne,se){var ve=typeof q;(ve==="undefined"||ve==="boolean")&&(q=null);var re=!1;if(q===null)re=!0;else switch(ve){case"string":case"number":re=!0;break;case"object":switch(q.$$typeof){case e:case t:re=!0}}if(re)return re=q,se=se(re),q=ne===""?"."+W(re,0):ne,P(se)?(U="",q!=null&&(U=q.replace(B,"$&/")+"/"),Y(se,Q,U,"",function(me){return me})):se!=null&&(R(se)&&(se=I(se,U+(!se.key||re&&re.key===se.key?"":(""+se.key).replace(B,"$&/")+"/")+q)),Q.push(se)),1;if(re=0,ne=ne===""?".":ne+":",P(q))for(var oe=0;oe<q.length;oe++){ve=q[oe];var ee=ne+W(ve,oe);re+=Y(ve,Q,U,ee,se)}else if(ee=g(q),typeof ee=="function")for(q=ee.call(q),oe=0;!(ve=q.next()).done;)ve=ve.value,ee=ne+W(ve,oe++),re+=Y(ve,Q,U,ee,se);else if(ve==="object")throw Q=String(q),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return re}function J(q,Q,U){if(q==null)return q;var ne=[],se=0;return Y(q,ne,"","",function(ve){return Q.call(U,ve,se++)}),ne}function F(q){if(q._status===-1){var Q=q._result;Q=Q(),Q.then(function(U){(q._status===0||q._status===-1)&&(q._status=1,q._result=U)},function(U){(q._status===0||q._status===-1)&&(q._status=2,q._result=U)}),q._status===-1&&(q._status=0,q._result=Q)}if(q._status===1)return q._result.default;throw q._result}var K={current:null},L={transition:null},H={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:L,ReactCurrentOwner:O};function te(){throw Error("act(...) is not supported in production builds of React.")}return dt.Children={map:J,forEach:function(q,Q,U){J(q,function(){Q.apply(this,arguments)},U)},count:function(q){var Q=0;return J(q,function(){Q++}),Q},toArray:function(q){return J(q,function(Q){return Q})||[]},only:function(q){if(!R(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},dt.Component=v,dt.Fragment=r,dt.Profiler=a,dt.PureComponent=S,dt.StrictMode=n,dt.Suspense=d,dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,dt.act=te,dt.cloneElement=function(q,Q,U){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var ne=_({},q.props),se=q.key,ve=q.ref,re=q._owner;if(Q!=null){if(Q.ref!==void 0&&(ve=Q.ref,re=O.current),Q.key!==void 0&&(se=""+Q.key),q.type&&q.type.defaultProps)var oe=q.type.defaultProps;for(ee in Q)E.call(Q,ee)&&!C.hasOwnProperty(ee)&&(ne[ee]=Q[ee]===void 0&&oe!==void 0?oe[ee]:Q[ee])}var ee=arguments.length-2;if(ee===1)ne.children=U;else if(1<ee){oe=Array(ee);for(var me=0;me<ee;me++)oe[me]=arguments[me+2];ne.children=oe}return{$$typeof:e,type:q.type,key:se,ref:ve,props:ne,_owner:re}},dt.createContext=function(q){return q={$$typeof:s,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:i,_context:q},q.Consumer=q},dt.createElement=T,dt.createFactory=function(q){var Q=T.bind(null,q);return Q.type=q,Q},dt.createRef=function(){return{current:null}},dt.forwardRef=function(q){return{$$typeof:c,render:q}},dt.isValidElement=R,dt.lazy=function(q){return{$$typeof:p,_payload:{_status:-1,_result:q},_init:F}},dt.memo=function(q,Q){return{$$typeof:f,type:q,compare:Q===void 0?null:Q}},dt.startTransition=function(q){var Q=L.transition;L.transition={};try{q()}finally{L.transition=Q}},dt.unstable_act=te,dt.useCallback=function(q,Q){return K.current.useCallback(q,Q)},dt.useContext=function(q){return K.current.useContext(q)},dt.useDebugValue=function(){},dt.useDeferredValue=function(q){return K.current.useDeferredValue(q)},dt.useEffect=function(q,Q){return K.current.useEffect(q,Q)},dt.useId=function(){return K.current.useId()},dt.useImperativeHandle=function(q,Q,U){return K.current.useImperativeHandle(q,Q,U)},dt.useInsertionEffect=function(q,Q){return K.current.useInsertionEffect(q,Q)},dt.useLayoutEffect=function(q,Q){return K.current.useLayoutEffect(q,Q)},dt.useMemo=function(q,Q){return K.current.useMemo(q,Q)},dt.useReducer=function(q,Q,U){return K.current.useReducer(q,Q,U)},dt.useRef=function(q){return K.current.useRef(q)},dt.useState=function(q){return K.current.useState(q)},dt.useSyncExternalStore=function(q,Q,U){return K.current.useSyncExternalStore(q,Q,U)},dt.useTransition=function(){return K.current.useTransition()},dt.version="18.3.1",dt}var fC;function Jp(){return fC||(fC=1,Yv.exports=nq()),Yv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hC;function aq(){if(hC)return uu;hC=1;var e=Jp(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function s(c,d,f){var p,h={},g=null,x=null;f!==void 0&&(g=""+f),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(x=d.ref);for(p in d)n.call(d,p)&&!i.hasOwnProperty(p)&&(h[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)h[p]===void 0&&(h[p]=d[p]);return{$$typeof:t,type:c,key:g,ref:x,props:h,_owner:a.current}}return uu.Fragment=r,uu.jsx=s,uu.jsxs=s,uu}var pC;function iq(){return pC||(pC=1,Kv.exports=aq()),Kv.exports}var o=iq(),Jf={},Xv={exports:{}},pn={},Jv={exports:{}},Qv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mC;function oq(){return mC||(mC=1,(function(e){function t(L,H){var te=L.length;L.push(H);e:for(;0<te;){var q=te-1>>>1,Q=L[q];if(0<a(Q,H))L[q]=H,L[te]=Q,te=q;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var H=L[0],te=L.pop();if(te!==H){L[0]=te;e:for(var q=0,Q=L.length,U=Q>>>1;q<U;){var ne=2*(q+1)-1,se=L[ne],ve=ne+1,re=L[ve];if(0>a(se,te))ve<Q&&0>a(re,se)?(L[q]=re,L[ve]=te,q=ve):(L[q]=se,L[ne]=te,q=ne);else if(ve<Q&&0>a(re,te))L[q]=re,L[ve]=te,q=ve;else break e}}return H}function a(L,H){var te=L.sortIndex-H.sortIndex;return te!==0?te:L.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,c=s.now();e.unstable_now=function(){return s.now()-c}}var d=[],f=[],p=1,h=null,g=3,x=!1,_=!1,b=!1,v=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(L){for(var H=r(f);H!==null;){if(H.callback===null)n(f);else if(H.startTime<=L)n(f),H.sortIndex=H.expirationTime,t(d,H);else break;H=r(f)}}function P(L){if(b=!1,A(L),!_)if(r(d)!==null)_=!0,F(E);else{var H=r(f);H!==null&&K(P,H.startTime-L)}}function E(L,H){_=!1,b&&(b=!1,j(T),T=-1),x=!0;var te=g;try{for(A(H),h=r(d);h!==null&&(!(h.expirationTime>H)||L&&!D());){var q=h.callback;if(typeof q=="function"){h.callback=null,g=h.priorityLevel;var Q=q(h.expirationTime<=H);H=e.unstable_now(),typeof Q=="function"?h.callback=Q:h===r(d)&&n(d),A(H)}else n(d);h=r(d)}if(h!==null)var U=!0;else{var ne=r(f);ne!==null&&K(P,ne.startTime-H),U=!1}return U}finally{h=null,g=te,x=!1}}var O=!1,C=null,T=-1,I=5,R=-1;function D(){return!(e.unstable_now()-R<I)}function B(){if(C!==null){var L=e.unstable_now();R=L;var H=!0;try{H=C(!0,L)}finally{H?W():(O=!1,C=null)}}else O=!1}var W;if(typeof S=="function")W=function(){S(B)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,J=Y.port2;Y.port1.onmessage=B,W=function(){J.postMessage(null)}}else W=function(){v(B,0)};function F(L){C=L,O||(O=!0,W())}function K(L,H){T=v(function(){L(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){_||x||(_=!0,F(E))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(L){switch(g){case 1:case 2:case 3:var H=3;break;default:H=g}var te=g;g=H;try{return L()}finally{g=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,H){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var te=g;g=L;try{return H()}finally{g=te}},e.unstable_scheduleCallback=function(L,H,te){var q=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?q+te:q):te=q,L){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=te+Q,L={id:p++,callback:H,priorityLevel:L,startTime:te,expirationTime:Q,sortIndex:-1},te>q?(L.sortIndex=te,t(f,L),r(d)===null&&L===r(f)&&(b?(j(T),T=-1):b=!0,K(P,te-q))):(L.sortIndex=Q,t(d,L),_||x||(_=!0,F(E))),L},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(L){var H=g;return function(){var te=g;g=H;try{return L.apply(this,arguments)}finally{g=te}}}})(Qv)),Qv}var gC;function sq(){return gC||(gC=1,Jv.exports=oq()),Jv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vC;function lq(){if(vC)return pn;vC=1;var e=Jp(),t=sq();function r(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(l,u){s(l,u),s(l+"Capture",u)}function s(l,u){for(a[l]=u,l=0;l<u.length;l++)n.add(u[l])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function g(l){return d.call(h,l)?!0:d.call(p,l)?!1:f.test(l)?h[l]=!0:(p[l]=!0,!1)}function x(l,u,m,y){if(m!==null&&m.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return y?!1:m!==null?!m.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function _(l,u,m,y){if(u===null||typeof u>"u"||x(l,u,m,y))return!0;if(y)return!1;if(m!==null)switch(m.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function b(l,u,m,y,N,k,M){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=y,this.attributeNamespace=N,this.mustUseProperty=m,this.propertyName=l,this.type=u,this.sanitizeURL=k,this.removeEmptyString=M}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){v[l]=new b(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var u=l[0];v[u]=new b(u,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){v[l]=new b(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){v[l]=new b(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){v[l]=new b(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){v[l]=new b(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){v[l]=new b(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){v[l]=new b(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){v[l]=new b(l,5,!1,l.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function S(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var u=l.replace(j,S);v[u]=new b(u,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var u=l.replace(j,S);v[u]=new b(u,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var u=l.replace(j,S);v[u]=new b(u,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){v[l]=new b(l,1,!1,l.toLowerCase(),null,!1,!1)}),v.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){v[l]=new b(l,1,!1,l.toLowerCase(),null,!0,!0)});function A(l,u,m,y){var N=v.hasOwnProperty(u)?v[u]:null;(N!==null?N.type!==0:y||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(_(u,m,N,y)&&(m=null),y||N===null?g(u)&&(m===null?l.removeAttribute(u):l.setAttribute(u,""+m)):N.mustUseProperty?l[N.propertyName]=m===null?N.type===3?!1:"":m:(u=N.attributeName,y=N.attributeNamespace,m===null?l.removeAttribute(u):(N=N.type,m=N===3||N===4&&m===!0?"":""+m,y?l.setAttributeNS(y,u,m):l.setAttribute(u,m))))}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),O=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),D=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),L=Symbol.iterator;function H(l){return l===null||typeof l!="object"?null:(l=L&&l[L]||l["@@iterator"],typeof l=="function"?l:null)}var te=Object.assign,q;function Q(l){if(q===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);q=u&&u[1]||""}return`
`+q+l}var U=!1;function ne(l,u){if(!l||U)return"";U=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(ce){var y=ce}Reflect.construct(l,[],u)}else{try{u.call()}catch(ce){y=ce}l.call(u.prototype)}else{try{throw Error()}catch(ce){y=ce}l()}}catch(ce){if(ce&&y&&typeof ce.stack=="string"){for(var N=ce.stack.split(`
`),k=y.stack.split(`
`),M=N.length-1,V=k.length-1;1<=M&&0<=V&&N[M]!==k[V];)V--;for(;1<=M&&0<=V;M--,V--)if(N[M]!==k[V]){if(M!==1||V!==1)do if(M--,V--,0>V||N[M]!==k[V]){var X=`
`+N[M].replace(" at new "," at ");return l.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",l.displayName)),X}while(1<=M&&0<=V);break}}}finally{U=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?Q(l):""}function se(l){switch(l.tag){case 5:return Q(l.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return l=ne(l.type,!1),l;case 11:return l=ne(l.type.render,!1),l;case 1:return l=ne(l.type,!0),l;default:return""}}function ve(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case C:return"Fragment";case O:return"Portal";case I:return"Profiler";case T:return"StrictMode";case W:return"Suspense";case Y:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case D:return(l.displayName||"Context")+".Consumer";case R:return(l._context.displayName||"Context")+".Provider";case B:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case J:return u=l.displayName||null,u!==null?u:ve(l.type)||"Memo";case F:u=l._payload,l=l._init;try{return ve(l(u))}catch{}}return null}function re(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(u);case 8:return u===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function oe(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function ee(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function me(l){var u=ee(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),y=""+l[u];if(!l.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var N=m.get,k=m.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return N.call(this)},set:function(M){y=""+M,k.call(this,M)}}),Object.defineProperty(l,u,{enumerable:m.enumerable}),{getValue:function(){return y},setValue:function(M){y=""+M},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function xe(l){l._valueTracker||(l._valueTracker=me(l))}function ue(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var m=u.getValue(),y="";return l&&(y=ee(l)?l.checked?"true":"false":l.value),l=y,l!==m?(u.setValue(l),!0):!1}function He(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function Fe(l,u){var m=u.checked;return te({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??l._wrapperState.initialChecked})}function ut(l,u){var m=u.defaultValue==null?"":u.defaultValue,y=u.checked!=null?u.checked:u.defaultChecked;m=oe(u.value!=null?u.value:m),l._wrapperState={initialChecked:y,initialValue:m,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function vt(l,u){u=u.checked,u!=null&&A(l,"checked",u,!1)}function yt(l,u){vt(l,u);var m=oe(u.value),y=u.type;if(m!=null)y==="number"?(m===0&&l.value===""||l.value!=m)&&(l.value=""+m):l.value!==""+m&&(l.value=""+m);else if(y==="submit"||y==="reset"){l.removeAttribute("value");return}u.hasOwnProperty("value")?kt(l,u.type,m):u.hasOwnProperty("defaultValue")&&kt(l,u.type,oe(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(l.defaultChecked=!!u.defaultChecked)}function tr(l,u,m){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var y=u.type;if(!(y!=="submit"&&y!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+l._wrapperState.initialValue,m||u===l.value||(l.value=u),l.defaultValue=u}m=l.name,m!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,m!==""&&(l.name=m)}function kt(l,u,m){(u!=="number"||He(l.ownerDocument)!==l)&&(m==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+m&&(l.defaultValue=""+m))}var dr=Array.isArray;function Gt(l,u,m,y){if(l=l.options,u){u={};for(var N=0;N<m.length;N++)u["$"+m[N]]=!0;for(m=0;m<l.length;m++)N=u.hasOwnProperty("$"+l[m].value),l[m].selected!==N&&(l[m].selected=N),N&&y&&(l[m].defaultSelected=!0)}else{for(m=""+oe(m),u=null,N=0;N<l.length;N++){if(l[N].value===m){l[N].selected=!0,y&&(l[N].defaultSelected=!0);return}u!==null||l[N].disabled||(u=l[N])}u!==null&&(u.selected=!0)}}function G(l,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return te({},u,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function pe(l,u){var m=u.value;if(m==null){if(m=u.children,u=u.defaultValue,m!=null){if(u!=null)throw Error(r(92));if(dr(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),m=u}l._wrapperState={initialValue:oe(m)}}function ke(l,u){var m=oe(u.value),y=oe(u.defaultValue);m!=null&&(m=""+m,m!==l.value&&(l.value=m),u.defaultValue==null&&l.defaultValue!==m&&(l.defaultValue=m)),y!=null&&(l.defaultValue=""+y)}function Le(l){var u=l.textContent;u===l._wrapperState.initialValue&&u!==""&&u!==null&&(l.value=u)}function qe(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rr(l,u){return l==null||l==="http://www.w3.org/1999/xhtml"?qe(u):l==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var le,Ve=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,m,y,N){MSApp.execUnsafeLocalFunction(function(){return l(u,m,y,N)})}:l})(function(l,u){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=u;else{for(le=le||document.createElement("div"),le.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=le.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;u.firstChild;)l.appendChild(u.firstChild)}});function ot(l,u){if(u){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=u;return}}l.textContent=u}var bt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wt=["Webkit","ms","Moz","O"];Object.keys(bt).forEach(function(l){wt.forEach(function(u){u=u+l.charAt(0).toUpperCase()+l.substring(1),bt[u]=bt[l]})});function nr(l,u,m){return u==null||typeof u=="boolean"||u===""?"":m||typeof u!="number"||u===0||bt.hasOwnProperty(l)&&bt[l]?(""+u).trim():u+"px"}function Qr(l,u){l=l.style;for(var m in u)if(u.hasOwnProperty(m)){var y=m.indexOf("--")===0,N=nr(m,u[m],y);m==="float"&&(m="cssFloat"),y?l.setProperty(m,N):l[m]=N}}var xn=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ta(l,u){if(u){if(xn[l]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,l));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function Za(l,u){if(l.indexOf("-")===-1)return typeof u.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ei=null;function Zr(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var ti=null,zn=null,ln=null;function ri(l){if(l=Yc(l)){if(typeof ti!="function")throw Error(r(280));var u=l.stateNode;u&&(u=df(u),ti(l.stateNode,l.type,u))}}function rt(l){zn?ln?ln.push(l):ln=[l]:zn=l}function Jt(){if(zn){var l=zn,u=ln;if(ln=zn=null,ri(l),u)for(l=0;l<u.length;l++)ri(u[l])}}function fr(l,u){return l(u)}function Ur(){}var Ui=!1;function ar(l,u,m){if(Ui)return l(u,m);Ui=!0;try{return fr(l,u,m)}finally{Ui=!1,(zn!==null||ln!==null)&&(Ur(),Jt())}}function _r(l,u){var m=l.stateNode;if(m===null)return null;var y=df(m);if(y===null)return null;m=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(l=l.type,y=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!y;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(r(231,u,typeof m));return m}var Vi=!1;if(c)try{var $r={};Object.defineProperty($r,"passive",{get:function(){Vi=!0}}),window.addEventListener("test",$r,$r),window.removeEventListener("test",$r,$r)}catch{Vi=!1}function bn(l,u,m,y,N,k,M,V,X){var ce=Array.prototype.slice.call(arguments,3);try{u.apply(m,ce)}catch(be){this.onError(be)}}var Wi=!1,Fn=null,Oc=!1,hg=null,c3={onError:function(l){Wi=!0,Fn=l}};function u3(l,u,m,y,N,k,M,V,X){Wi=!1,Fn=null,bn.apply(c3,arguments)}function d3(l,u,m,y,N,k,M,V,X){if(u3.apply(this,arguments),Wi){if(Wi){var ce=Fn;Wi=!1,Fn=null}else throw Error(r(198));Oc||(Oc=!0,hg=ce)}}function Mo(l){var u=l,m=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(m=u.return),l=u.return;while(l)}return u.tag===3?m:null}function I1(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function M1(l){if(Mo(l)!==l)throw Error(r(188))}function f3(l){var u=l.alternate;if(!u){if(u=Mo(l),u===null)throw Error(r(188));return u!==l?null:l}for(var m=l,y=u;;){var N=m.return;if(N===null)break;var k=N.alternate;if(k===null){if(y=N.return,y!==null){m=y;continue}break}if(N.child===k.child){for(k=N.child;k;){if(k===m)return M1(N),l;if(k===y)return M1(N),u;k=k.sibling}throw Error(r(188))}if(m.return!==y.return)m=N,y=k;else{for(var M=!1,V=N.child;V;){if(V===m){M=!0,m=N,y=k;break}if(V===y){M=!0,y=N,m=k;break}V=V.sibling}if(!M){for(V=k.child;V;){if(V===m){M=!0,m=k,y=N;break}if(V===y){M=!0,y=k,m=N;break}V=V.sibling}if(!M)throw Error(r(189))}}if(m.alternate!==y)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?l:u}function D1(l){return l=f3(l),l!==null?$1(l):null}function $1(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=$1(l);if(u!==null)return u;l=l.sibling}return null}var L1=t.unstable_scheduleCallback,z1=t.unstable_cancelCallback,h3=t.unstable_shouldYield,p3=t.unstable_requestPaint,Qt=t.unstable_now,m3=t.unstable_getCurrentPriorityLevel,pg=t.unstable_ImmediatePriority,F1=t.unstable_UserBlockingPriority,Vd=t.unstable_NormalPriority,g3=t.unstable_LowPriority,B1=t.unstable_IdlePriority,Wd=null,Ra=null;function v3(l){if(Ra&&typeof Ra.onCommitFiberRoot=="function")try{Ra.onCommitFiberRoot(Wd,l,void 0,(l.current.flags&128)===128)}catch{}}var ua=Math.clz32?Math.clz32:b3,y3=Math.log,x3=Math.LN2;function b3(l){return l>>>=0,l===0?32:31-(y3(l)/x3|0)|0}var Hd=64,Gd=4194304;function kc(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Kd(l,u){var m=l.pendingLanes;if(m===0)return 0;var y=0,N=l.suspendedLanes,k=l.pingedLanes,M=m&268435455;if(M!==0){var V=M&~N;V!==0?y=kc(V):(k&=M,k!==0&&(y=kc(k)))}else M=m&~N,M!==0?y=kc(M):k!==0&&(y=kc(k));if(y===0)return 0;if(u!==0&&u!==y&&(u&N)===0&&(N=y&-y,k=u&-u,N>=k||N===16&&(k&4194240)!==0))return u;if((y&4)!==0&&(y|=m&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=y;0<u;)m=31-ua(u),N=1<<m,y|=l[m],u&=~N;return y}function w3(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _3(l,u){for(var m=l.suspendedLanes,y=l.pingedLanes,N=l.expirationTimes,k=l.pendingLanes;0<k;){var M=31-ua(k),V=1<<M,X=N[M];X===-1?((V&m)===0||(V&y)!==0)&&(N[M]=w3(V,u)):X<=u&&(l.expiredLanes|=V),k&=~V}}function mg(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function q1(){var l=Hd;return Hd<<=1,(Hd&4194240)===0&&(Hd=64),l}function gg(l){for(var u=[],m=0;31>m;m++)u.push(l);return u}function Tc(l,u,m){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-ua(u),l[u]=m}function j3(l,u){var m=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var y=l.eventTimes;for(l=l.expirationTimes;0<m;){var N=31-ua(m),k=1<<N;u[N]=0,y[N]=-1,l[N]=-1,m&=~k}}function vg(l,u){var m=l.entangledLanes|=u;for(l=l.entanglements;m;){var y=31-ua(m),N=1<<y;N&u|l[y]&u&&(l[y]|=u),m&=~N}}var At=0;function U1(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var V1,yg,W1,H1,G1,xg=!1,Yd=[],Hi=null,Gi=null,Ki=null,Rc=new Map,Ic=new Map,Yi=[],S3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function K1(l,u){switch(l){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":Rc.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ic.delete(u.pointerId)}}function Mc(l,u,m,y,N,k){return l===null||l.nativeEvent!==k?(l={blockedOn:u,domEventName:m,eventSystemFlags:y,nativeEvent:k,targetContainers:[N]},u!==null&&(u=Yc(u),u!==null&&yg(u)),l):(l.eventSystemFlags|=y,u=l.targetContainers,N!==null&&u.indexOf(N)===-1&&u.push(N),l)}function E3(l,u,m,y,N){switch(u){case"focusin":return Hi=Mc(Hi,l,u,m,y,N),!0;case"dragenter":return Gi=Mc(Gi,l,u,m,y,N),!0;case"mouseover":return Ki=Mc(Ki,l,u,m,y,N),!0;case"pointerover":var k=N.pointerId;return Rc.set(k,Mc(Rc.get(k)||null,l,u,m,y,N)),!0;case"gotpointercapture":return k=N.pointerId,Ic.set(k,Mc(Ic.get(k)||null,l,u,m,y,N)),!0}return!1}function Y1(l){var u=Do(l.target);if(u!==null){var m=Mo(u);if(m!==null){if(u=m.tag,u===13){if(u=I1(m),u!==null){l.blockedOn=u,G1(l.priority,function(){W1(m)});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Xd(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var m=wg(l.domEventName,l.eventSystemFlags,u[0],l.nativeEvent);if(m===null){m=l.nativeEvent;var y=new m.constructor(m.type,m);ei=y,m.target.dispatchEvent(y),ei=null}else return u=Yc(m),u!==null&&yg(u),l.blockedOn=m,!1;u.shift()}return!0}function X1(l,u,m){Xd(l)&&m.delete(u)}function N3(){xg=!1,Hi!==null&&Xd(Hi)&&(Hi=null),Gi!==null&&Xd(Gi)&&(Gi=null),Ki!==null&&Xd(Ki)&&(Ki=null),Rc.forEach(X1),Ic.forEach(X1)}function Dc(l,u){l.blockedOn===u&&(l.blockedOn=null,xg||(xg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,N3)))}function $c(l){function u(N){return Dc(N,l)}if(0<Yd.length){Dc(Yd[0],l);for(var m=1;m<Yd.length;m++){var y=Yd[m];y.blockedOn===l&&(y.blockedOn=null)}}for(Hi!==null&&Dc(Hi,l),Gi!==null&&Dc(Gi,l),Ki!==null&&Dc(Ki,l),Rc.forEach(u),Ic.forEach(u),m=0;m<Yi.length;m++)y=Yi[m],y.blockedOn===l&&(y.blockedOn=null);for(;0<Yi.length&&(m=Yi[0],m.blockedOn===null);)Y1(m),m.blockedOn===null&&Yi.shift()}var Ds=P.ReactCurrentBatchConfig,Jd=!0;function C3(l,u,m,y){var N=At,k=Ds.transition;Ds.transition=null;try{At=1,bg(l,u,m,y)}finally{At=N,Ds.transition=k}}function A3(l,u,m,y){var N=At,k=Ds.transition;Ds.transition=null;try{At=4,bg(l,u,m,y)}finally{At=N,Ds.transition=k}}function bg(l,u,m,y){if(Jd){var N=wg(l,u,m,y);if(N===null)Lg(l,u,y,Qd,m),K1(l,y);else if(E3(N,l,u,m,y))y.stopPropagation();else if(K1(l,y),u&4&&-1<S3.indexOf(l)){for(;N!==null;){var k=Yc(N);if(k!==null&&V1(k),k=wg(l,u,m,y),k===null&&Lg(l,u,y,Qd,m),k===N)break;N=k}N!==null&&y.stopPropagation()}else Lg(l,u,y,null,m)}}var Qd=null;function wg(l,u,m,y){if(Qd=null,l=Zr(y),l=Do(l),l!==null)if(u=Mo(l),u===null)l=null;else if(m=u.tag,m===13){if(l=I1(u),l!==null)return l;l=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null);return Qd=l,null}function J1(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m3()){case pg:return 1;case F1:return 4;case Vd:case g3:return 16;case B1:return 536870912;default:return 16}default:return 16}}var Xi=null,_g=null,Zd=null;function Q1(){if(Zd)return Zd;var l,u=_g,m=u.length,y,N="value"in Xi?Xi.value:Xi.textContent,k=N.length;for(l=0;l<m&&u[l]===N[l];l++);var M=m-l;for(y=1;y<=M&&u[m-y]===N[k-y];y++);return Zd=N.slice(l,1<y?1-y:void 0)}function ef(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function tf(){return!0}function Z1(){return!1}function wn(l){function u(m,y,N,k,M){this._reactName=m,this._targetInst=N,this.type=y,this.nativeEvent=k,this.target=M,this.currentTarget=null;for(var V in l)l.hasOwnProperty(V)&&(m=l[V],this[V]=m?m(k):k[V]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?tf:Z1,this.isPropagationStopped=Z1,this}return te(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=tf)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=tf)},persist:function(){},isPersistent:tf}),u}var $s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jg=wn($s),Lc=te({},$s,{view:0,detail:0}),P3=wn(Lc),Sg,Eg,zc,rf=te({},Lc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cg,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==zc&&(zc&&l.type==="mousemove"?(Sg=l.screenX-zc.screenX,Eg=l.screenY-zc.screenY):Eg=Sg=0,zc=l),Sg)},movementY:function(l){return"movementY"in l?l.movementY:Eg}}),eE=wn(rf),O3=te({},rf,{dataTransfer:0}),k3=wn(O3),T3=te({},Lc,{relatedTarget:0}),Ng=wn(T3),R3=te({},$s,{animationName:0,elapsedTime:0,pseudoElement:0}),I3=wn(R3),M3=te({},$s,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),D3=wn(M3),$3=te({},$s,{data:0}),tE=wn($3),L3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B3(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=F3[l])?!!u[l]:!1}function Cg(){return B3}var q3=te({},Lc,{key:function(l){if(l.key){var u=L3[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=ef(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?z3[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cg,charCode:function(l){return l.type==="keypress"?ef(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?ef(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),U3=wn(q3),V3=te({},rf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rE=wn(V3),W3=te({},Lc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cg}),H3=wn(W3),G3=te({},$s,{propertyName:0,elapsedTime:0,pseudoElement:0}),K3=wn(G3),Y3=te({},rf,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),X3=wn(Y3),J3=[9,13,27,32],Ag=c&&"CompositionEvent"in window,Fc=null;c&&"documentMode"in document&&(Fc=document.documentMode);var Q3=c&&"TextEvent"in window&&!Fc,nE=c&&(!Ag||Fc&&8<Fc&&11>=Fc),aE=" ",iE=!1;function oE(l,u){switch(l){case"keyup":return J3.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sE(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Ls=!1;function Z3(l,u){switch(l){case"compositionend":return sE(u);case"keypress":return u.which!==32?null:(iE=!0,aE);case"textInput":return l=u.data,l===aE&&iE?null:l;default:return null}}function eB(l,u){if(Ls)return l==="compositionend"||!Ag&&oE(l,u)?(l=Q1(),Zd=_g=Xi=null,Ls=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return nE&&u.locale!=="ko"?null:u.data;default:return null}}var tB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lE(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!tB[l.type]:u==="textarea"}function cE(l,u,m,y){rt(y),u=lf(u,"onChange"),0<u.length&&(m=new jg("onChange","change",null,m,y),l.push({event:m,listeners:u}))}var Bc=null,qc=null;function rB(l){CE(l,0)}function nf(l){var u=Us(l);if(ue(u))return l}function nB(l,u){if(l==="change")return u}var uE=!1;if(c){var Pg;if(c){var Og="oninput"in document;if(!Og){var dE=document.createElement("div");dE.setAttribute("oninput","return;"),Og=typeof dE.oninput=="function"}Pg=Og}else Pg=!1;uE=Pg&&(!document.documentMode||9<document.documentMode)}function fE(){Bc&&(Bc.detachEvent("onpropertychange",hE),qc=Bc=null)}function hE(l){if(l.propertyName==="value"&&nf(qc)){var u=[];cE(u,qc,l,Zr(l)),ar(rB,u)}}function aB(l,u,m){l==="focusin"?(fE(),Bc=u,qc=m,Bc.attachEvent("onpropertychange",hE)):l==="focusout"&&fE()}function iB(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return nf(qc)}function oB(l,u){if(l==="click")return nf(u)}function sB(l,u){if(l==="input"||l==="change")return nf(u)}function lB(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var da=typeof Object.is=="function"?Object.is:lB;function Uc(l,u){if(da(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var m=Object.keys(l),y=Object.keys(u);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var N=m[y];if(!d.call(u,N)||!da(l[N],u[N]))return!1}return!0}function pE(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function mE(l,u){var m=pE(l);l=0;for(var y;m;){if(m.nodeType===3){if(y=l+m.textContent.length,l<=u&&y>=u)return{node:m,offset:u-l};l=y}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=pE(m)}}function gE(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?gE(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function vE(){for(var l=window,u=He();u instanceof l.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)l=u.contentWindow;else break;u=He(l.document)}return u}function kg(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}function cB(l){var u=vE(),m=l.focusedElem,y=l.selectionRange;if(u!==m&&m&&m.ownerDocument&&gE(m.ownerDocument.documentElement,m)){if(y!==null&&kg(m)){if(u=y.start,l=y.end,l===void 0&&(l=u),"selectionStart"in m)m.selectionStart=u,m.selectionEnd=Math.min(l,m.value.length);else if(l=(u=m.ownerDocument||document)&&u.defaultView||window,l.getSelection){l=l.getSelection();var N=m.textContent.length,k=Math.min(y.start,N);y=y.end===void 0?k:Math.min(y.end,N),!l.extend&&k>y&&(N=y,y=k,k=N),N=mE(m,k);var M=mE(m,y);N&&M&&(l.rangeCount!==1||l.anchorNode!==N.node||l.anchorOffset!==N.offset||l.focusNode!==M.node||l.focusOffset!==M.offset)&&(u=u.createRange(),u.setStart(N.node,N.offset),l.removeAllRanges(),k>y?(l.addRange(u),l.extend(M.node,M.offset)):(u.setEnd(M.node,M.offset),l.addRange(u)))}}for(u=[],l=m;l=l.parentNode;)l.nodeType===1&&u.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<u.length;m++)l=u[m],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var uB=c&&"documentMode"in document&&11>=document.documentMode,zs=null,Tg=null,Vc=null,Rg=!1;function yE(l,u,m){var y=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Rg||zs==null||zs!==He(y)||(y=zs,"selectionStart"in y&&kg(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Vc&&Uc(Vc,y)||(Vc=y,y=lf(Tg,"onSelect"),0<y.length&&(u=new jg("onSelect","select",null,u,m),l.push({event:u,listeners:y}),u.target=zs)))}function af(l,u){var m={};return m[l.toLowerCase()]=u.toLowerCase(),m["Webkit"+l]="webkit"+u,m["Moz"+l]="moz"+u,m}var Fs={animationend:af("Animation","AnimationEnd"),animationiteration:af("Animation","AnimationIteration"),animationstart:af("Animation","AnimationStart"),transitionend:af("Transition","TransitionEnd")},Ig={},xE={};c&&(xE=document.createElement("div").style,"AnimationEvent"in window||(delete Fs.animationend.animation,delete Fs.animationiteration.animation,delete Fs.animationstart.animation),"TransitionEvent"in window||delete Fs.transitionend.transition);function of(l){if(Ig[l])return Ig[l];if(!Fs[l])return l;var u=Fs[l],m;for(m in u)if(u.hasOwnProperty(m)&&m in xE)return Ig[l]=u[m];return l}var bE=of("animationend"),wE=of("animationiteration"),_E=of("animationstart"),jE=of("transitionend"),SE=new Map,EE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ji(l,u){SE.set(l,u),i(u,[l])}for(var Mg=0;Mg<EE.length;Mg++){var Dg=EE[Mg],dB=Dg.toLowerCase(),fB=Dg[0].toUpperCase()+Dg.slice(1);Ji(dB,"on"+fB)}Ji(bE,"onAnimationEnd"),Ji(wE,"onAnimationIteration"),Ji(_E,"onAnimationStart"),Ji("dblclick","onDoubleClick"),Ji("focusin","onFocus"),Ji("focusout","onBlur"),Ji(jE,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wc));function NE(l,u,m){var y=l.type||"unknown-event";l.currentTarget=m,d3(y,u,void 0,l),l.currentTarget=null}function CE(l,u){u=(u&4)!==0;for(var m=0;m<l.length;m++){var y=l[m],N=y.event;y=y.listeners;e:{var k=void 0;if(u)for(var M=y.length-1;0<=M;M--){var V=y[M],X=V.instance,ce=V.currentTarget;if(V=V.listener,X!==k&&N.isPropagationStopped())break e;NE(N,V,ce),k=X}else for(M=0;M<y.length;M++){if(V=y[M],X=V.instance,ce=V.currentTarget,V=V.listener,X!==k&&N.isPropagationStopped())break e;NE(N,V,ce),k=X}}}if(Oc)throw l=hg,Oc=!1,hg=null,l}function Lt(l,u){var m=u[Vg];m===void 0&&(m=u[Vg]=new Set);var y=l+"__bubble";m.has(y)||(AE(u,l,2,!1),m.add(y))}function $g(l,u,m){var y=0;u&&(y|=4),AE(m,l,y,u)}var sf="_reactListening"+Math.random().toString(36).slice(2);function Hc(l){if(!l[sf]){l[sf]=!0,n.forEach(function(m){m!=="selectionchange"&&(hB.has(m)||$g(m,!1,l),$g(m,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[sf]||(u[sf]=!0,$g("selectionchange",!1,u))}}function AE(l,u,m,y){switch(J1(u)){case 1:var N=C3;break;case 4:N=A3;break;default:N=bg}m=N.bind(null,u,m,l),N=void 0,!Vi||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(N=!0),y?N!==void 0?l.addEventListener(u,m,{capture:!0,passive:N}):l.addEventListener(u,m,!0):N!==void 0?l.addEventListener(u,m,{passive:N}):l.addEventListener(u,m,!1)}function Lg(l,u,m,y,N){var k=y;if((u&1)===0&&(u&2)===0&&y!==null)e:for(;;){if(y===null)return;var M=y.tag;if(M===3||M===4){var V=y.stateNode.containerInfo;if(V===N||V.nodeType===8&&V.parentNode===N)break;if(M===4)for(M=y.return;M!==null;){var X=M.tag;if((X===3||X===4)&&(X=M.stateNode.containerInfo,X===N||X.nodeType===8&&X.parentNode===N))return;M=M.return}for(;V!==null;){if(M=Do(V),M===null)return;if(X=M.tag,X===5||X===6){y=k=M;continue e}V=V.parentNode}}y=y.return}ar(function(){var ce=k,be=Zr(m),je=[];e:{var ye=SE.get(l);if(ye!==void 0){var Oe=jg,Ie=l;switch(l){case"keypress":if(ef(m)===0)break e;case"keydown":case"keyup":Oe=U3;break;case"focusin":Ie="focus",Oe=Ng;break;case"focusout":Ie="blur",Oe=Ng;break;case"beforeblur":case"afterblur":Oe=Ng;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=eE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=k3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=H3;break;case bE:case wE:case _E:Oe=I3;break;case jE:Oe=K3;break;case"scroll":Oe=P3;break;case"wheel":Oe=X3;break;case"copy":case"cut":case"paste":Oe=D3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=rE}var $e=(u&4)!==0,Zt=!$e&&l==="scroll",ae=$e?ye!==null?ye+"Capture":null:ye;$e=[];for(var Z=ce,ie;Z!==null;){ie=Z;var Ee=ie.stateNode;if(ie.tag===5&&Ee!==null&&(ie=Ee,ae!==null&&(Ee=_r(Z,ae),Ee!=null&&$e.push(Gc(Z,Ee,ie)))),Zt)break;Z=Z.return}0<$e.length&&(ye=new Oe(ye,Ie,null,m,be),je.push({event:ye,listeners:$e}))}}if((u&7)===0){e:{if(ye=l==="mouseover"||l==="pointerover",Oe=l==="mouseout"||l==="pointerout",ye&&m!==ei&&(Ie=m.relatedTarget||m.fromElement)&&(Do(Ie)||Ie[ni]))break e;if((Oe||ye)&&(ye=be.window===be?be:(ye=be.ownerDocument)?ye.defaultView||ye.parentWindow:window,Oe?(Ie=m.relatedTarget||m.toElement,Oe=ce,Ie=Ie?Do(Ie):null,Ie!==null&&(Zt=Mo(Ie),Ie!==Zt||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(Oe=null,Ie=ce),Oe!==Ie)){if($e=eE,Ee="onMouseLeave",ae="onMouseEnter",Z="mouse",(l==="pointerout"||l==="pointerover")&&($e=rE,Ee="onPointerLeave",ae="onPointerEnter",Z="pointer"),Zt=Oe==null?ye:Us(Oe),ie=Ie==null?ye:Us(Ie),ye=new $e(Ee,Z+"leave",Oe,m,be),ye.target=Zt,ye.relatedTarget=ie,Ee=null,Do(be)===ce&&($e=new $e(ae,Z+"enter",Ie,m,be),$e.target=ie,$e.relatedTarget=Zt,Ee=$e),Zt=Ee,Oe&&Ie)t:{for($e=Oe,ae=Ie,Z=0,ie=$e;ie;ie=Bs(ie))Z++;for(ie=0,Ee=ae;Ee;Ee=Bs(Ee))ie++;for(;0<Z-ie;)$e=Bs($e),Z--;for(;0<ie-Z;)ae=Bs(ae),ie--;for(;Z--;){if($e===ae||ae!==null&&$e===ae.alternate)break t;$e=Bs($e),ae=Bs(ae)}$e=null}else $e=null;Oe!==null&&PE(je,ye,Oe,$e,!1),Ie!==null&&Zt!==null&&PE(je,Zt,Ie,$e,!0)}}e:{if(ye=ce?Us(ce):window,Oe=ye.nodeName&&ye.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&ye.type==="file")var ze=nB;else if(lE(ye))if(uE)ze=sB;else{ze=iB;var Ge=aB}else(Oe=ye.nodeName)&&Oe.toLowerCase()==="input"&&(ye.type==="checkbox"||ye.type==="radio")&&(ze=oB);if(ze&&(ze=ze(l,ce))){cE(je,ze,m,be);break e}Ge&&Ge(l,ye,ce),l==="focusout"&&(Ge=ye._wrapperState)&&Ge.controlled&&ye.type==="number"&&kt(ye,"number",ye.value)}switch(Ge=ce?Us(ce):window,l){case"focusin":(lE(Ge)||Ge.contentEditable==="true")&&(zs=Ge,Tg=ce,Vc=null);break;case"focusout":Vc=Tg=zs=null;break;case"mousedown":Rg=!0;break;case"contextmenu":case"mouseup":case"dragend":Rg=!1,yE(je,m,be);break;case"selectionchange":if(uB)break;case"keydown":case"keyup":yE(je,m,be)}var Ke;if(Ag)e:{switch(l){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else Ls?oE(l,m)&&(nt="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(nt="onCompositionStart");nt&&(nE&&m.locale!=="ko"&&(Ls||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&Ls&&(Ke=Q1()):(Xi=be,_g="value"in Xi?Xi.value:Xi.textContent,Ls=!0)),Ge=lf(ce,nt),0<Ge.length&&(nt=new tE(nt,l,null,m,be),je.push({event:nt,listeners:Ge}),Ke?nt.data=Ke:(Ke=sE(m),Ke!==null&&(nt.data=Ke)))),(Ke=Q3?Z3(l,m):eB(l,m))&&(ce=lf(ce,"onBeforeInput"),0<ce.length&&(be=new tE("onBeforeInput","beforeinput",null,m,be),je.push({event:be,listeners:ce}),be.data=Ke))}CE(je,u)})}function Gc(l,u,m){return{instance:l,listener:u,currentTarget:m}}function lf(l,u){for(var m=u+"Capture",y=[];l!==null;){var N=l,k=N.stateNode;N.tag===5&&k!==null&&(N=k,k=_r(l,m),k!=null&&y.unshift(Gc(l,k,N)),k=_r(l,u),k!=null&&y.push(Gc(l,k,N))),l=l.return}return y}function Bs(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function PE(l,u,m,y,N){for(var k=u._reactName,M=[];m!==null&&m!==y;){var V=m,X=V.alternate,ce=V.stateNode;if(X!==null&&X===y)break;V.tag===5&&ce!==null&&(V=ce,N?(X=_r(m,k),X!=null&&M.unshift(Gc(m,X,V))):N||(X=_r(m,k),X!=null&&M.push(Gc(m,X,V)))),m=m.return}M.length!==0&&l.push({event:u,listeners:M})}var pB=/\r\n?/g,mB=/\u0000|\uFFFD/g;function OE(l){return(typeof l=="string"?l:""+l).replace(pB,`
`).replace(mB,"")}function cf(l,u,m){if(u=OE(u),OE(l)!==u&&m)throw Error(r(425))}function uf(){}var zg=null,Fg=null;function Bg(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var qg=typeof setTimeout=="function"?setTimeout:void 0,gB=typeof clearTimeout=="function"?clearTimeout:void 0,kE=typeof Promise=="function"?Promise:void 0,vB=typeof queueMicrotask=="function"?queueMicrotask:typeof kE<"u"?function(l){return kE.resolve(null).then(l).catch(yB)}:qg;function yB(l){setTimeout(function(){throw l})}function Ug(l,u){var m=u,y=0;do{var N=m.nextSibling;if(l.removeChild(m),N&&N.nodeType===8)if(m=N.data,m==="/$"){if(y===0){l.removeChild(N),$c(u);return}y--}else m!=="$"&&m!=="$?"&&m!=="$!"||y++;m=N}while(m);$c(u)}function Qi(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return l}function TE(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(u===0)return l;u--}else m==="/$"&&u++}l=l.previousSibling}return null}var qs=Math.random().toString(36).slice(2),Ia="__reactFiber$"+qs,Kc="__reactProps$"+qs,ni="__reactContainer$"+qs,Vg="__reactEvents$"+qs,xB="__reactListeners$"+qs,bB="__reactHandles$"+qs;function Do(l){var u=l[Ia];if(u)return u;for(var m=l.parentNode;m;){if(u=m[ni]||m[Ia]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(l=TE(l);l!==null;){if(m=l[Ia])return m;l=TE(l)}return u}l=m,m=l.parentNode}return null}function Yc(l){return l=l[Ia]||l[ni],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Us(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(r(33))}function df(l){return l[Kc]||null}var Wg=[],Vs=-1;function Zi(l){return{current:l}}function zt(l){0>Vs||(l.current=Wg[Vs],Wg[Vs]=null,Vs--)}function Tt(l,u){Vs++,Wg[Vs]=l.current,l.current=u}var eo={},Vr=Zi(eo),cn=Zi(!1),$o=eo;function Ws(l,u){var m=l.type.contextTypes;if(!m)return eo;var y=l.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===u)return y.__reactInternalMemoizedMaskedChildContext;var N={},k;for(k in m)N[k]=u[k];return y&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=N),N}function un(l){return l=l.childContextTypes,l!=null}function ff(){zt(cn),zt(Vr)}function RE(l,u,m){if(Vr.current!==eo)throw Error(r(168));Tt(Vr,u),Tt(cn,m)}function IE(l,u,m){var y=l.stateNode;if(u=u.childContextTypes,typeof y.getChildContext!="function")return m;y=y.getChildContext();for(var N in y)if(!(N in u))throw Error(r(108,re(l)||"Unknown",N));return te({},m,y)}function hf(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||eo,$o=Vr.current,Tt(Vr,l),Tt(cn,cn.current),!0}function ME(l,u,m){var y=l.stateNode;if(!y)throw Error(r(169));m?(l=IE(l,u,$o),y.__reactInternalMemoizedMergedChildContext=l,zt(cn),zt(Vr),Tt(Vr,l)):zt(cn),Tt(cn,m)}var ai=null,pf=!1,Hg=!1;function DE(l){ai===null?ai=[l]:ai.push(l)}function wB(l){pf=!0,DE(l)}function to(){if(!Hg&&ai!==null){Hg=!0;var l=0,u=At;try{var m=ai;for(At=1;l<m.length;l++){var y=m[l];do y=y(!0);while(y!==null)}ai=null,pf=!1}catch(N){throw ai!==null&&(ai=ai.slice(l+1)),L1(pg,to),N}finally{At=u,Hg=!1}}return null}var Hs=[],Gs=0,mf=null,gf=0,Bn=[],qn=0,Lo=null,ii=1,oi="";function zo(l,u){Hs[Gs++]=gf,Hs[Gs++]=mf,mf=l,gf=u}function $E(l,u,m){Bn[qn++]=ii,Bn[qn++]=oi,Bn[qn++]=Lo,Lo=l;var y=ii;l=oi;var N=32-ua(y)-1;y&=~(1<<N),m+=1;var k=32-ua(u)+N;if(30<k){var M=N-N%5;k=(y&(1<<M)-1).toString(32),y>>=M,N-=M,ii=1<<32-ua(u)+N|m<<N|y,oi=k+l}else ii=1<<k|m<<N|y,oi=l}function Gg(l){l.return!==null&&(zo(l,1),$E(l,1,0))}function Kg(l){for(;l===mf;)mf=Hs[--Gs],Hs[Gs]=null,gf=Hs[--Gs],Hs[Gs]=null;for(;l===Lo;)Lo=Bn[--qn],Bn[qn]=null,oi=Bn[--qn],Bn[qn]=null,ii=Bn[--qn],Bn[qn]=null}var _n=null,jn=null,Bt=!1,fa=null;function LE(l,u){var m=Hn(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=l,u=l.deletions,u===null?(l.deletions=[m],l.flags|=16):u.push(m)}function zE(l,u){switch(l.tag){case 5:var m=l.type;return u=u.nodeType!==1||m.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(l.stateNode=u,_n=l,jn=Qi(u.firstChild),!0):!1;case 6:return u=l.pendingProps===""||u.nodeType!==3?null:u,u!==null?(l.stateNode=u,_n=l,jn=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(m=Lo!==null?{id:ii,overflow:oi}:null,l.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},m=Hn(18,null,null,0),m.stateNode=u,m.return=l,l.child=m,_n=l,jn=null,!0):!1;default:return!1}}function Yg(l){return(l.mode&1)!==0&&(l.flags&128)===0}function Xg(l){if(Bt){var u=jn;if(u){var m=u;if(!zE(l,u)){if(Yg(l))throw Error(r(418));u=Qi(m.nextSibling);var y=_n;u&&zE(l,u)?LE(y,m):(l.flags=l.flags&-4097|2,Bt=!1,_n=l)}}else{if(Yg(l))throw Error(r(418));l.flags=l.flags&-4097|2,Bt=!1,_n=l}}}function FE(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;_n=l}function vf(l){if(l!==_n)return!1;if(!Bt)return FE(l),Bt=!0,!1;var u;if((u=l.tag!==3)&&!(u=l.tag!==5)&&(u=l.type,u=u!=="head"&&u!=="body"&&!Bg(l.type,l.memoizedProps)),u&&(u=jn)){if(Yg(l))throw BE(),Error(r(418));for(;u;)LE(l,u),u=Qi(u.nextSibling)}if(FE(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"){if(u===0){jn=Qi(l.nextSibling);break e}u--}else m!=="$"&&m!=="$!"&&m!=="$?"||u++}l=l.nextSibling}jn=null}}else jn=_n?Qi(l.stateNode.nextSibling):null;return!0}function BE(){for(var l=jn;l;)l=Qi(l.nextSibling)}function Ks(){jn=_n=null,Bt=!1}function Jg(l){fa===null?fa=[l]:fa.push(l)}var _B=P.ReactCurrentBatchConfig;function Xc(l,u,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(r(309));var y=m.stateNode}if(!y)throw Error(r(147,l));var N=y,k=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===k?u.ref:(u=function(M){var V=N.refs;M===null?delete V[k]:V[k]=M},u._stringRef=k,u)}if(typeof l!="string")throw Error(r(284));if(!m._owner)throw Error(r(290,l))}return l}function yf(l,u){throw l=Object.prototype.toString.call(u),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function qE(l){var u=l._init;return u(l._payload)}function UE(l){function u(ae,Z){if(l){var ie=ae.deletions;ie===null?(ae.deletions=[Z],ae.flags|=16):ie.push(Z)}}function m(ae,Z){if(!l)return null;for(;Z!==null;)u(ae,Z),Z=Z.sibling;return null}function y(ae,Z){for(ae=new Map;Z!==null;)Z.key!==null?ae.set(Z.key,Z):ae.set(Z.index,Z),Z=Z.sibling;return ae}function N(ae,Z){return ae=co(ae,Z),ae.index=0,ae.sibling=null,ae}function k(ae,Z,ie){return ae.index=ie,l?(ie=ae.alternate,ie!==null?(ie=ie.index,ie<Z?(ae.flags|=2,Z):ie):(ae.flags|=2,Z)):(ae.flags|=1048576,Z)}function M(ae){return l&&ae.alternate===null&&(ae.flags|=2),ae}function V(ae,Z,ie,Ee){return Z===null||Z.tag!==6?(Z=qv(ie,ae.mode,Ee),Z.return=ae,Z):(Z=N(Z,ie),Z.return=ae,Z)}function X(ae,Z,ie,Ee){var ze=ie.type;return ze===C?be(ae,Z,ie.props.children,Ee,ie.key):Z!==null&&(Z.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===F&&qE(ze)===Z.type)?(Ee=N(Z,ie.props),Ee.ref=Xc(ae,Z,ie),Ee.return=ae,Ee):(Ee=qf(ie.type,ie.key,ie.props,null,ae.mode,Ee),Ee.ref=Xc(ae,Z,ie),Ee.return=ae,Ee)}function ce(ae,Z,ie,Ee){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ie.containerInfo||Z.stateNode.implementation!==ie.implementation?(Z=Uv(ie,ae.mode,Ee),Z.return=ae,Z):(Z=N(Z,ie.children||[]),Z.return=ae,Z)}function be(ae,Z,ie,Ee,ze){return Z===null||Z.tag!==7?(Z=Go(ie,ae.mode,Ee,ze),Z.return=ae,Z):(Z=N(Z,ie),Z.return=ae,Z)}function je(ae,Z,ie){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=qv(""+Z,ae.mode,ie),Z.return=ae,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case E:return ie=qf(Z.type,Z.key,Z.props,null,ae.mode,ie),ie.ref=Xc(ae,null,Z),ie.return=ae,ie;case O:return Z=Uv(Z,ae.mode,ie),Z.return=ae,Z;case F:var Ee=Z._init;return je(ae,Ee(Z._payload),ie)}if(dr(Z)||H(Z))return Z=Go(Z,ae.mode,ie,null),Z.return=ae,Z;yf(ae,Z)}return null}function ye(ae,Z,ie,Ee){var ze=Z!==null?Z.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ze!==null?null:V(ae,Z,""+ie,Ee);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case E:return ie.key===ze?X(ae,Z,ie,Ee):null;case O:return ie.key===ze?ce(ae,Z,ie,Ee):null;case F:return ze=ie._init,ye(ae,Z,ze(ie._payload),Ee)}if(dr(ie)||H(ie))return ze!==null?null:be(ae,Z,ie,Ee,null);yf(ae,ie)}return null}function Oe(ae,Z,ie,Ee,ze){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return ae=ae.get(ie)||null,V(Z,ae,""+Ee,ze);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case E:return ae=ae.get(Ee.key===null?ie:Ee.key)||null,X(Z,ae,Ee,ze);case O:return ae=ae.get(Ee.key===null?ie:Ee.key)||null,ce(Z,ae,Ee,ze);case F:var Ge=Ee._init;return Oe(ae,Z,ie,Ge(Ee._payload),ze)}if(dr(Ee)||H(Ee))return ae=ae.get(ie)||null,be(Z,ae,Ee,ze,null);yf(Z,Ee)}return null}function Ie(ae,Z,ie,Ee){for(var ze=null,Ge=null,Ke=Z,nt=Z=0,Er=null;Ke!==null&&nt<ie.length;nt++){Ke.index>nt?(Er=Ke,Ke=null):Er=Ke.sibling;var _t=ye(ae,Ke,ie[nt],Ee);if(_t===null){Ke===null&&(Ke=Er);break}l&&Ke&&_t.alternate===null&&u(ae,Ke),Z=k(_t,Z,nt),Ge===null?ze=_t:Ge.sibling=_t,Ge=_t,Ke=Er}if(nt===ie.length)return m(ae,Ke),Bt&&zo(ae,nt),ze;if(Ke===null){for(;nt<ie.length;nt++)Ke=je(ae,ie[nt],Ee),Ke!==null&&(Z=k(Ke,Z,nt),Ge===null?ze=Ke:Ge.sibling=Ke,Ge=Ke);return Bt&&zo(ae,nt),ze}for(Ke=y(ae,Ke);nt<ie.length;nt++)Er=Oe(Ke,ae,nt,ie[nt],Ee),Er!==null&&(l&&Er.alternate!==null&&Ke.delete(Er.key===null?nt:Er.key),Z=k(Er,Z,nt),Ge===null?ze=Er:Ge.sibling=Er,Ge=Er);return l&&Ke.forEach(function(uo){return u(ae,uo)}),Bt&&zo(ae,nt),ze}function $e(ae,Z,ie,Ee){var ze=H(ie);if(typeof ze!="function")throw Error(r(150));if(ie=ze.call(ie),ie==null)throw Error(r(151));for(var Ge=ze=null,Ke=Z,nt=Z=0,Er=null,_t=ie.next();Ke!==null&&!_t.done;nt++,_t=ie.next()){Ke.index>nt?(Er=Ke,Ke=null):Er=Ke.sibling;var uo=ye(ae,Ke,_t.value,Ee);if(uo===null){Ke===null&&(Ke=Er);break}l&&Ke&&uo.alternate===null&&u(ae,Ke),Z=k(uo,Z,nt),Ge===null?ze=uo:Ge.sibling=uo,Ge=uo,Ke=Er}if(_t.done)return m(ae,Ke),Bt&&zo(ae,nt),ze;if(Ke===null){for(;!_t.done;nt++,_t=ie.next())_t=je(ae,_t.value,Ee),_t!==null&&(Z=k(_t,Z,nt),Ge===null?ze=_t:Ge.sibling=_t,Ge=_t);return Bt&&zo(ae,nt),ze}for(Ke=y(ae,Ke);!_t.done;nt++,_t=ie.next())_t=Oe(Ke,ae,nt,_t.value,Ee),_t!==null&&(l&&_t.alternate!==null&&Ke.delete(_t.key===null?nt:_t.key),Z=k(_t,Z,nt),Ge===null?ze=_t:Ge.sibling=_t,Ge=_t);return l&&Ke.forEach(function(tq){return u(ae,tq)}),Bt&&zo(ae,nt),ze}function Zt(ae,Z,ie,Ee){if(typeof ie=="object"&&ie!==null&&ie.type===C&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case E:e:{for(var ze=ie.key,Ge=Z;Ge!==null;){if(Ge.key===ze){if(ze=ie.type,ze===C){if(Ge.tag===7){m(ae,Ge.sibling),Z=N(Ge,ie.props.children),Z.return=ae,ae=Z;break e}}else if(Ge.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===F&&qE(ze)===Ge.type){m(ae,Ge.sibling),Z=N(Ge,ie.props),Z.ref=Xc(ae,Ge,ie),Z.return=ae,ae=Z;break e}m(ae,Ge);break}else u(ae,Ge);Ge=Ge.sibling}ie.type===C?(Z=Go(ie.props.children,ae.mode,Ee,ie.key),Z.return=ae,ae=Z):(Ee=qf(ie.type,ie.key,ie.props,null,ae.mode,Ee),Ee.ref=Xc(ae,Z,ie),Ee.return=ae,ae=Ee)}return M(ae);case O:e:{for(Ge=ie.key;Z!==null;){if(Z.key===Ge)if(Z.tag===4&&Z.stateNode.containerInfo===ie.containerInfo&&Z.stateNode.implementation===ie.implementation){m(ae,Z.sibling),Z=N(Z,ie.children||[]),Z.return=ae,ae=Z;break e}else{m(ae,Z);break}else u(ae,Z);Z=Z.sibling}Z=Uv(ie,ae.mode,Ee),Z.return=ae,ae=Z}return M(ae);case F:return Ge=ie._init,Zt(ae,Z,Ge(ie._payload),Ee)}if(dr(ie))return Ie(ae,Z,ie,Ee);if(H(ie))return $e(ae,Z,ie,Ee);yf(ae,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,Z!==null&&Z.tag===6?(m(ae,Z.sibling),Z=N(Z,ie),Z.return=ae,ae=Z):(m(ae,Z),Z=qv(ie,ae.mode,Ee),Z.return=ae,ae=Z),M(ae)):m(ae,Z)}return Zt}var Ys=UE(!0),VE=UE(!1),xf=Zi(null),bf=null,Xs=null,Qg=null;function Zg(){Qg=Xs=bf=null}function ev(l){var u=xf.current;zt(xf),l._currentValue=u}function tv(l,u,m){for(;l!==null;){var y=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),l===m)break;l=l.return}}function Js(l,u){bf=l,Qg=Xs=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&u)!==0&&(dn=!0),l.firstContext=null)}function Un(l){var u=l._currentValue;if(Qg!==l)if(l={context:l,memoizedValue:u,next:null},Xs===null){if(bf===null)throw Error(r(308));Xs=l,bf.dependencies={lanes:0,firstContext:l}}else Xs=Xs.next=l;return u}var Fo=null;function rv(l){Fo===null?Fo=[l]:Fo.push(l)}function WE(l,u,m,y){var N=u.interleaved;return N===null?(m.next=m,rv(u)):(m.next=N.next,N.next=m),u.interleaved=m,si(l,y)}function si(l,u){l.lanes|=u;var m=l.alternate;for(m!==null&&(m.lanes|=u),m=l,l=l.return;l!==null;)l.childLanes|=u,m=l.alternate,m!==null&&(m.childLanes|=u),m=l,l=l.return;return m.tag===3?m.stateNode:null}var ro=!1;function nv(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HE(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function li(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function no(l,u,m){var y=l.updateQueue;if(y===null)return null;if(y=y.shared,(xt&2)!==0){var N=y.pending;return N===null?u.next=u:(u.next=N.next,N.next=u),y.pending=u,si(l,m)}return N=y.interleaved,N===null?(u.next=u,rv(y)):(u.next=N.next,N.next=u),y.interleaved=u,si(l,m)}function wf(l,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194240)!==0)){var y=u.lanes;y&=l.pendingLanes,m|=y,u.lanes=m,vg(l,m)}}function GE(l,u){var m=l.updateQueue,y=l.alternate;if(y!==null&&(y=y.updateQueue,m===y)){var N=null,k=null;if(m=m.firstBaseUpdate,m!==null){do{var M={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};k===null?N=k=M:k=k.next=M,m=m.next}while(m!==null);k===null?N=k=u:k=k.next=u}else N=k=u;m={baseState:y.baseState,firstBaseUpdate:N,lastBaseUpdate:k,shared:y.shared,effects:y.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=u}function _f(l,u,m,y){var N=l.updateQueue;ro=!1;var k=N.firstBaseUpdate,M=N.lastBaseUpdate,V=N.shared.pending;if(V!==null){N.shared.pending=null;var X=V,ce=X.next;X.next=null,M===null?k=ce:M.next=ce,M=X;var be=l.alternate;be!==null&&(be=be.updateQueue,V=be.lastBaseUpdate,V!==M&&(V===null?be.firstBaseUpdate=ce:V.next=ce,be.lastBaseUpdate=X))}if(k!==null){var je=N.baseState;M=0,be=ce=X=null,V=k;do{var ye=V.lane,Oe=V.eventTime;if((y&ye)===ye){be!==null&&(be=be.next={eventTime:Oe,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var Ie=l,$e=V;switch(ye=u,Oe=m,$e.tag){case 1:if(Ie=$e.payload,typeof Ie=="function"){je=Ie.call(Oe,je,ye);break e}je=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=$e.payload,ye=typeof Ie=="function"?Ie.call(Oe,je,ye):Ie,ye==null)break e;je=te({},je,ye);break e;case 2:ro=!0}}V.callback!==null&&V.lane!==0&&(l.flags|=64,ye=N.effects,ye===null?N.effects=[V]:ye.push(V))}else Oe={eventTime:Oe,lane:ye,tag:V.tag,payload:V.payload,callback:V.callback,next:null},be===null?(ce=be=Oe,X=je):be=be.next=Oe,M|=ye;if(V=V.next,V===null){if(V=N.shared.pending,V===null)break;ye=V,V=ye.next,ye.next=null,N.lastBaseUpdate=ye,N.shared.pending=null}}while(!0);if(be===null&&(X=je),N.baseState=X,N.firstBaseUpdate=ce,N.lastBaseUpdate=be,u=N.shared.interleaved,u!==null){N=u;do M|=N.lane,N=N.next;while(N!==u)}else k===null&&(N.shared.lanes=0);Uo|=M,l.lanes=M,l.memoizedState=je}}function KE(l,u,m){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var y=l[u],N=y.callback;if(N!==null){if(y.callback=null,y=m,typeof N!="function")throw Error(r(191,N));N.call(y)}}}var Jc={},Ma=Zi(Jc),Qc=Zi(Jc),Zc=Zi(Jc);function Bo(l){if(l===Jc)throw Error(r(174));return l}function av(l,u){switch(Tt(Zc,u),Tt(Qc,l),Tt(Ma,Jc),l=u.nodeType,l){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:rr(null,"");break;default:l=l===8?u.parentNode:u,u=l.namespaceURI||null,l=l.tagName,u=rr(u,l)}zt(Ma),Tt(Ma,u)}function Qs(){zt(Ma),zt(Qc),zt(Zc)}function YE(l){Bo(Zc.current);var u=Bo(Ma.current),m=rr(u,l.type);u!==m&&(Tt(Qc,l),Tt(Ma,m))}function iv(l){Qc.current===l&&(zt(Ma),zt(Qc))}var Vt=Zi(0);function jf(l){for(var u=l;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var ov=[];function sv(){for(var l=0;l<ov.length;l++)ov[l]._workInProgressVersionPrimary=null;ov.length=0}var Sf=P.ReactCurrentDispatcher,lv=P.ReactCurrentBatchConfig,qo=0,Wt=null,hr=null,jr=null,Ef=!1,eu=!1,tu=0,jB=0;function Wr(){throw Error(r(321))}function cv(l,u){if(u===null)return!1;for(var m=0;m<u.length&&m<l.length;m++)if(!da(l[m],u[m]))return!1;return!0}function uv(l,u,m,y,N,k){if(qo=k,Wt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Sf.current=l===null||l.memoizedState===null?CB:AB,l=m(y,N),eu){k=0;do{if(eu=!1,tu=0,25<=k)throw Error(r(301));k+=1,jr=hr=null,u.updateQueue=null,Sf.current=PB,l=m(y,N)}while(eu)}if(Sf.current=Af,u=hr!==null&&hr.next!==null,qo=0,jr=hr=Wt=null,Ef=!1,u)throw Error(r(300));return l}function dv(){var l=tu!==0;return tu=0,l}function Da(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jr===null?Wt.memoizedState=jr=l:jr=jr.next=l,jr}function Vn(){if(hr===null){var l=Wt.alternate;l=l!==null?l.memoizedState:null}else l=hr.next;var u=jr===null?Wt.memoizedState:jr.next;if(u!==null)jr=u,hr=l;else{if(l===null)throw Error(r(310));hr=l,l={memoizedState:hr.memoizedState,baseState:hr.baseState,baseQueue:hr.baseQueue,queue:hr.queue,next:null},jr===null?Wt.memoizedState=jr=l:jr=jr.next=l}return jr}function ru(l,u){return typeof u=="function"?u(l):u}function fv(l){var u=Vn(),m=u.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=l;var y=hr,N=y.baseQueue,k=m.pending;if(k!==null){if(N!==null){var M=N.next;N.next=k.next,k.next=M}y.baseQueue=N=k,m.pending=null}if(N!==null){k=N.next,y=y.baseState;var V=M=null,X=null,ce=k;do{var be=ce.lane;if((qo&be)===be)X!==null&&(X=X.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),y=ce.hasEagerState?ce.eagerState:l(y,ce.action);else{var je={lane:be,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};X===null?(V=X=je,M=y):X=X.next=je,Wt.lanes|=be,Uo|=be}ce=ce.next}while(ce!==null&&ce!==k);X===null?M=y:X.next=V,da(y,u.memoizedState)||(dn=!0),u.memoizedState=y,u.baseState=M,u.baseQueue=X,m.lastRenderedState=y}if(l=m.interleaved,l!==null){N=l;do k=N.lane,Wt.lanes|=k,Uo|=k,N=N.next;while(N!==l)}else N===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function hv(l){var u=Vn(),m=u.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=l;var y=m.dispatch,N=m.pending,k=u.memoizedState;if(N!==null){m.pending=null;var M=N=N.next;do k=l(k,M.action),M=M.next;while(M!==N);da(k,u.memoizedState)||(dn=!0),u.memoizedState=k,u.baseQueue===null&&(u.baseState=k),m.lastRenderedState=k}return[k,y]}function XE(){}function JE(l,u){var m=Wt,y=Vn(),N=u(),k=!da(y.memoizedState,N);if(k&&(y.memoizedState=N,dn=!0),y=y.queue,pv(eN.bind(null,m,y,l),[l]),y.getSnapshot!==u||k||jr!==null&&jr.memoizedState.tag&1){if(m.flags|=2048,nu(9,ZE.bind(null,m,y,N,u),void 0,null),Sr===null)throw Error(r(349));(qo&30)!==0||QE(m,u,N)}return N}function QE(l,u,m){l.flags|=16384,l={getSnapshot:u,value:m},u=Wt.updateQueue,u===null?(u={lastEffect:null,stores:null},Wt.updateQueue=u,u.stores=[l]):(m=u.stores,m===null?u.stores=[l]:m.push(l))}function ZE(l,u,m,y){u.value=m,u.getSnapshot=y,tN(u)&&rN(l)}function eN(l,u,m){return m(function(){tN(u)&&rN(l)})}function tN(l){var u=l.getSnapshot;l=l.value;try{var m=u();return!da(l,m)}catch{return!0}}function rN(l){var u=si(l,1);u!==null&&ga(u,l,1,-1)}function nN(l){var u=Da();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ru,lastRenderedState:l},u.queue=l,l=l.dispatch=NB.bind(null,Wt,l),[u.memoizedState,l]}function nu(l,u,m,y){return l={tag:l,create:u,destroy:m,deps:y,next:null},u=Wt.updateQueue,u===null?(u={lastEffect:null,stores:null},Wt.updateQueue=u,u.lastEffect=l.next=l):(m=u.lastEffect,m===null?u.lastEffect=l.next=l:(y=m.next,m.next=l,l.next=y,u.lastEffect=l)),l}function aN(){return Vn().memoizedState}function Nf(l,u,m,y){var N=Da();Wt.flags|=l,N.memoizedState=nu(1|u,m,void 0,y===void 0?null:y)}function Cf(l,u,m,y){var N=Vn();y=y===void 0?null:y;var k=void 0;if(hr!==null){var M=hr.memoizedState;if(k=M.destroy,y!==null&&cv(y,M.deps)){N.memoizedState=nu(u,m,k,y);return}}Wt.flags|=l,N.memoizedState=nu(1|u,m,k,y)}function iN(l,u){return Nf(8390656,8,l,u)}function pv(l,u){return Cf(2048,8,l,u)}function oN(l,u){return Cf(4,2,l,u)}function sN(l,u){return Cf(4,4,l,u)}function lN(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function cN(l,u,m){return m=m!=null?m.concat([l]):null,Cf(4,4,lN.bind(null,u,l),m)}function mv(){}function uN(l,u){var m=Vn();u=u===void 0?null:u;var y=m.memoizedState;return y!==null&&u!==null&&cv(u,y[1])?y[0]:(m.memoizedState=[l,u],l)}function dN(l,u){var m=Vn();u=u===void 0?null:u;var y=m.memoizedState;return y!==null&&u!==null&&cv(u,y[1])?y[0]:(l=l(),m.memoizedState=[l,u],l)}function fN(l,u,m){return(qo&21)===0?(l.baseState&&(l.baseState=!1,dn=!0),l.memoizedState=m):(da(m,u)||(m=q1(),Wt.lanes|=m,Uo|=m,l.baseState=!0),u)}function SB(l,u){var m=At;At=m!==0&&4>m?m:4,l(!0);var y=lv.transition;lv.transition={};try{l(!1),u()}finally{At=m,lv.transition=y}}function hN(){return Vn().memoizedState}function EB(l,u,m){var y=so(l);if(m={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null},pN(l))mN(u,m);else if(m=WE(l,u,m,y),m!==null){var N=tn();ga(m,l,y,N),gN(m,u,y)}}function NB(l,u,m){var y=so(l),N={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null};if(pN(l))mN(u,N);else{var k=l.alternate;if(l.lanes===0&&(k===null||k.lanes===0)&&(k=u.lastRenderedReducer,k!==null))try{var M=u.lastRenderedState,V=k(M,m);if(N.hasEagerState=!0,N.eagerState=V,da(V,M)){var X=u.interleaved;X===null?(N.next=N,rv(u)):(N.next=X.next,X.next=N),u.interleaved=N;return}}catch{}finally{}m=WE(l,u,N,y),m!==null&&(N=tn(),ga(m,l,y,N),gN(m,u,y))}}function pN(l){var u=l.alternate;return l===Wt||u!==null&&u===Wt}function mN(l,u){eu=Ef=!0;var m=l.pending;m===null?u.next=u:(u.next=m.next,m.next=u),l.pending=u}function gN(l,u,m){if((m&4194240)!==0){var y=u.lanes;y&=l.pendingLanes,m|=y,u.lanes=m,vg(l,m)}}var Af={readContext:Un,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useInsertionEffect:Wr,useLayoutEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useMutableSource:Wr,useSyncExternalStore:Wr,useId:Wr,unstable_isNewReconciler:!1},CB={readContext:Un,useCallback:function(l,u){return Da().memoizedState=[l,u===void 0?null:u],l},useContext:Un,useEffect:iN,useImperativeHandle:function(l,u,m){return m=m!=null?m.concat([l]):null,Nf(4194308,4,lN.bind(null,u,l),m)},useLayoutEffect:function(l,u){return Nf(4194308,4,l,u)},useInsertionEffect:function(l,u){return Nf(4,2,l,u)},useMemo:function(l,u){var m=Da();return u=u===void 0?null:u,l=l(),m.memoizedState=[l,u],l},useReducer:function(l,u,m){var y=Da();return u=m!==void 0?m(u):u,y.memoizedState=y.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},y.queue=l,l=l.dispatch=EB.bind(null,Wt,l),[y.memoizedState,l]},useRef:function(l){var u=Da();return l={current:l},u.memoizedState=l},useState:nN,useDebugValue:mv,useDeferredValue:function(l){return Da().memoizedState=l},useTransition:function(){var l=nN(!1),u=l[0];return l=SB.bind(null,l[1]),Da().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,m){var y=Wt,N=Da();if(Bt){if(m===void 0)throw Error(r(407));m=m()}else{if(m=u(),Sr===null)throw Error(r(349));(qo&30)!==0||QE(y,u,m)}N.memoizedState=m;var k={value:m,getSnapshot:u};return N.queue=k,iN(eN.bind(null,y,k,l),[l]),y.flags|=2048,nu(9,ZE.bind(null,y,k,m,u),void 0,null),m},useId:function(){var l=Da(),u=Sr.identifierPrefix;if(Bt){var m=oi,y=ii;m=(y&~(1<<32-ua(y)-1)).toString(32)+m,u=":"+u+"R"+m,m=tu++,0<m&&(u+="H"+m.toString(32)),u+=":"}else m=jB++,u=":"+u+"r"+m.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},AB={readContext:Un,useCallback:uN,useContext:Un,useEffect:pv,useImperativeHandle:cN,useInsertionEffect:oN,useLayoutEffect:sN,useMemo:dN,useReducer:fv,useRef:aN,useState:function(){return fv(ru)},useDebugValue:mv,useDeferredValue:function(l){var u=Vn();return fN(u,hr.memoizedState,l)},useTransition:function(){var l=fv(ru)[0],u=Vn().memoizedState;return[l,u]},useMutableSource:XE,useSyncExternalStore:JE,useId:hN,unstable_isNewReconciler:!1},PB={readContext:Un,useCallback:uN,useContext:Un,useEffect:pv,useImperativeHandle:cN,useInsertionEffect:oN,useLayoutEffect:sN,useMemo:dN,useReducer:hv,useRef:aN,useState:function(){return hv(ru)},useDebugValue:mv,useDeferredValue:function(l){var u=Vn();return hr===null?u.memoizedState=l:fN(u,hr.memoizedState,l)},useTransition:function(){var l=hv(ru)[0],u=Vn().memoizedState;return[l,u]},useMutableSource:XE,useSyncExternalStore:JE,useId:hN,unstable_isNewReconciler:!1};function ha(l,u){if(l&&l.defaultProps){u=te({},u),l=l.defaultProps;for(var m in l)u[m]===void 0&&(u[m]=l[m]);return u}return u}function gv(l,u,m,y){u=l.memoizedState,m=m(y,u),m=m==null?u:te({},u,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var Pf={isMounted:function(l){return(l=l._reactInternals)?Mo(l)===l:!1},enqueueSetState:function(l,u,m){l=l._reactInternals;var y=tn(),N=so(l),k=li(y,N);k.payload=u,m!=null&&(k.callback=m),u=no(l,k,N),u!==null&&(ga(u,l,N,y),wf(u,l,N))},enqueueReplaceState:function(l,u,m){l=l._reactInternals;var y=tn(),N=so(l),k=li(y,N);k.tag=1,k.payload=u,m!=null&&(k.callback=m),u=no(l,k,N),u!==null&&(ga(u,l,N,y),wf(u,l,N))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var m=tn(),y=so(l),N=li(m,y);N.tag=2,u!=null&&(N.callback=u),u=no(l,N,y),u!==null&&(ga(u,l,y,m),wf(u,l,y))}};function vN(l,u,m,y,N,k,M){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(y,k,M):u.prototype&&u.prototype.isPureReactComponent?!Uc(m,y)||!Uc(N,k):!0}function yN(l,u,m){var y=!1,N=eo,k=u.contextType;return typeof k=="object"&&k!==null?k=Un(k):(N=un(u)?$o:Vr.current,y=u.contextTypes,k=(y=y!=null)?Ws(l,N):eo),u=new u(m,k),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Pf,l.stateNode=u,u._reactInternals=l,y&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=N,l.__reactInternalMemoizedMaskedChildContext=k),u}function xN(l,u,m,y){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,y),u.state!==l&&Pf.enqueueReplaceState(u,u.state,null)}function vv(l,u,m,y){var N=l.stateNode;N.props=m,N.state=l.memoizedState,N.refs={},nv(l);var k=u.contextType;typeof k=="object"&&k!==null?N.context=Un(k):(k=un(u)?$o:Vr.current,N.context=Ws(l,k)),N.state=l.memoizedState,k=u.getDerivedStateFromProps,typeof k=="function"&&(gv(l,u,k,m),N.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(u=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),u!==N.state&&Pf.enqueueReplaceState(N,N.state,null),_f(l,m,N,y),N.state=l.memoizedState),typeof N.componentDidMount=="function"&&(l.flags|=4194308)}function Zs(l,u){try{var m="",y=u;do m+=se(y),y=y.return;while(y);var N=m}catch(k){N=`
Error generating stack: `+k.message+`
`+k.stack}return{value:l,source:u,stack:N,digest:null}}function yv(l,u,m){return{value:l,source:null,stack:m??null,digest:u??null}}function xv(l,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var OB=typeof WeakMap=="function"?WeakMap:Map;function bN(l,u,m){m=li(-1,m),m.tag=3,m.payload={element:null};var y=u.value;return m.callback=function(){Df||(Df=!0,Iv=y),xv(l,u)},m}function wN(l,u,m){m=li(-1,m),m.tag=3;var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var N=u.value;m.payload=function(){return y(N)},m.callback=function(){xv(l,u)}}var k=l.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(m.callback=function(){xv(l,u),typeof y!="function"&&(io===null?io=new Set([this]):io.add(this));var M=u.stack;this.componentDidCatch(u.value,{componentStack:M!==null?M:""})}),m}function _N(l,u,m){var y=l.pingCache;if(y===null){y=l.pingCache=new OB;var N=new Set;y.set(u,N)}else N=y.get(u),N===void 0&&(N=new Set,y.set(u,N));N.has(m)||(N.add(m),l=VB.bind(null,l,u,m),u.then(l,l))}function jN(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function SN(l,u,m,y,N){return(l.mode&1)===0?(l===u?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(u=li(-1,1),u.tag=2,no(m,u,1))),m.lanes|=1),l):(l.flags|=65536,l.lanes=N,l)}var kB=P.ReactCurrentOwner,dn=!1;function en(l,u,m,y){u.child=l===null?VE(u,null,m,y):Ys(u,l.child,m,y)}function EN(l,u,m,y,N){m=m.render;var k=u.ref;return Js(u,N),y=uv(l,u,m,y,k,N),m=dv(),l!==null&&!dn?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~N,ci(l,u,N)):(Bt&&m&&Gg(u),u.flags|=1,en(l,u,y,N),u.child)}function NN(l,u,m,y,N){if(l===null){var k=m.type;return typeof k=="function"&&!Bv(k)&&k.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(u.tag=15,u.type=k,CN(l,u,k,y,N)):(l=qf(m.type,null,y,u,u.mode,N),l.ref=u.ref,l.return=u,u.child=l)}if(k=l.child,(l.lanes&N)===0){var M=k.memoizedProps;if(m=m.compare,m=m!==null?m:Uc,m(M,y)&&l.ref===u.ref)return ci(l,u,N)}return u.flags|=1,l=co(k,y),l.ref=u.ref,l.return=u,u.child=l}function CN(l,u,m,y,N){if(l!==null){var k=l.memoizedProps;if(Uc(k,y)&&l.ref===u.ref)if(dn=!1,u.pendingProps=y=k,(l.lanes&N)!==0)(l.flags&131072)!==0&&(dn=!0);else return u.lanes=l.lanes,ci(l,u,N)}return bv(l,u,m,y,N)}function AN(l,u,m){var y=u.pendingProps,N=y.children,k=l!==null?l.memoizedState:null;if(y.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(tl,Sn),Sn|=m;else{if((m&1073741824)===0)return l=k!==null?k.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,Tt(tl,Sn),Sn|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=k!==null?k.baseLanes:m,Tt(tl,Sn),Sn|=y}else k!==null?(y=k.baseLanes|m,u.memoizedState=null):y=m,Tt(tl,Sn),Sn|=y;return en(l,u,N,m),u.child}function PN(l,u){var m=u.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function bv(l,u,m,y,N){var k=un(m)?$o:Vr.current;return k=Ws(u,k),Js(u,N),m=uv(l,u,m,y,k,N),y=dv(),l!==null&&!dn?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~N,ci(l,u,N)):(Bt&&y&&Gg(u),u.flags|=1,en(l,u,m,N),u.child)}function ON(l,u,m,y,N){if(un(m)){var k=!0;hf(u)}else k=!1;if(Js(u,N),u.stateNode===null)kf(l,u),yN(u,m,y),vv(u,m,y,N),y=!0;else if(l===null){var M=u.stateNode,V=u.memoizedProps;M.props=V;var X=M.context,ce=m.contextType;typeof ce=="object"&&ce!==null?ce=Un(ce):(ce=un(m)?$o:Vr.current,ce=Ws(u,ce));var be=m.getDerivedStateFromProps,je=typeof be=="function"||typeof M.getSnapshotBeforeUpdate=="function";je||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(V!==y||X!==ce)&&xN(u,M,y,ce),ro=!1;var ye=u.memoizedState;M.state=ye,_f(u,y,M,N),X=u.memoizedState,V!==y||ye!==X||cn.current||ro?(typeof be=="function"&&(gv(u,m,be,y),X=u.memoizedState),(V=ro||vN(u,m,V,y,ye,X,ce))?(je||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(u.flags|=4194308)):(typeof M.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=X),M.props=y,M.state=X,M.context=ce,y=V):(typeof M.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{M=u.stateNode,HE(l,u),V=u.memoizedProps,ce=u.type===u.elementType?V:ha(u.type,V),M.props=ce,je=u.pendingProps,ye=M.context,X=m.contextType,typeof X=="object"&&X!==null?X=Un(X):(X=un(m)?$o:Vr.current,X=Ws(u,X));var Oe=m.getDerivedStateFromProps;(be=typeof Oe=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(V!==je||ye!==X)&&xN(u,M,y,X),ro=!1,ye=u.memoizedState,M.state=ye,_f(u,y,M,N);var Ie=u.memoizedState;V!==je||ye!==Ie||cn.current||ro?(typeof Oe=="function"&&(gv(u,m,Oe,y),Ie=u.memoizedState),(ce=ro||vN(u,m,ce,y,ye,Ie,X)||!1)?(be||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(y,Ie,X),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(y,Ie,X)),typeof M.componentDidUpdate=="function"&&(u.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof M.componentDidUpdate!="function"||V===l.memoizedProps&&ye===l.memoizedState||(u.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&ye===l.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=Ie),M.props=y,M.state=Ie,M.context=X,y=ce):(typeof M.componentDidUpdate!="function"||V===l.memoizedProps&&ye===l.memoizedState||(u.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&ye===l.memoizedState||(u.flags|=1024),y=!1)}return wv(l,u,m,y,k,N)}function wv(l,u,m,y,N,k){PN(l,u);var M=(u.flags&128)!==0;if(!y&&!M)return N&&ME(u,m,!1),ci(l,u,k);y=u.stateNode,kB.current=u;var V=M&&typeof m.getDerivedStateFromError!="function"?null:y.render();return u.flags|=1,l!==null&&M?(u.child=Ys(u,l.child,null,k),u.child=Ys(u,null,V,k)):en(l,u,V,k),u.memoizedState=y.state,N&&ME(u,m,!0),u.child}function kN(l){var u=l.stateNode;u.pendingContext?RE(l,u.pendingContext,u.pendingContext!==u.context):u.context&&RE(l,u.context,!1),av(l,u.containerInfo)}function TN(l,u,m,y,N){return Ks(),Jg(N),u.flags|=256,en(l,u,m,y),u.child}var _v={dehydrated:null,treeContext:null,retryLane:0};function jv(l){return{baseLanes:l,cachePool:null,transitions:null}}function RN(l,u,m){var y=u.pendingProps,N=Vt.current,k=!1,M=(u.flags&128)!==0,V;if((V=M)||(V=l!==null&&l.memoizedState===null?!1:(N&2)!==0),V?(k=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(N|=1),Tt(Vt,N&1),l===null)return Xg(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((u.mode&1)===0?u.lanes=1:l.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(M=y.children,l=y.fallback,k?(y=u.mode,k=u.child,M={mode:"hidden",children:M},(y&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=M):k=Uf(M,y,0,null),l=Go(l,y,m,null),k.return=u,l.return=u,k.sibling=l,u.child=k,u.child.memoizedState=jv(m),u.memoizedState=_v,l):Sv(u,M));if(N=l.memoizedState,N!==null&&(V=N.dehydrated,V!==null))return TB(l,u,M,y,V,N,m);if(k){k=y.fallback,M=u.mode,N=l.child,V=N.sibling;var X={mode:"hidden",children:y.children};return(M&1)===0&&u.child!==N?(y=u.child,y.childLanes=0,y.pendingProps=X,u.deletions=null):(y=co(N,X),y.subtreeFlags=N.subtreeFlags&14680064),V!==null?k=co(V,k):(k=Go(k,M,m,null),k.flags|=2),k.return=u,y.return=u,y.sibling=k,u.child=y,y=k,k=u.child,M=l.child.memoizedState,M=M===null?jv(m):{baseLanes:M.baseLanes|m,cachePool:null,transitions:M.transitions},k.memoizedState=M,k.childLanes=l.childLanes&~m,u.memoizedState=_v,y}return k=l.child,l=k.sibling,y=co(k,{mode:"visible",children:y.children}),(u.mode&1)===0&&(y.lanes=m),y.return=u,y.sibling=null,l!==null&&(m=u.deletions,m===null?(u.deletions=[l],u.flags|=16):m.push(l)),u.child=y,u.memoizedState=null,y}function Sv(l,u){return u=Uf({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function Of(l,u,m,y){return y!==null&&Jg(y),Ys(u,l.child,null,m),l=Sv(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function TB(l,u,m,y,N,k,M){if(m)return u.flags&256?(u.flags&=-257,y=yv(Error(r(422))),Of(l,u,M,y)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(k=y.fallback,N=u.mode,y=Uf({mode:"visible",children:y.children},N,0,null),k=Go(k,N,M,null),k.flags|=2,y.return=u,k.return=u,y.sibling=k,u.child=y,(u.mode&1)!==0&&Ys(u,l.child,null,M),u.child.memoizedState=jv(M),u.memoizedState=_v,k);if((u.mode&1)===0)return Of(l,u,M,null);if(N.data==="$!"){if(y=N.nextSibling&&N.nextSibling.dataset,y)var V=y.dgst;return y=V,k=Error(r(419)),y=yv(k,y,void 0),Of(l,u,M,y)}if(V=(M&l.childLanes)!==0,dn||V){if(y=Sr,y!==null){switch(M&-M){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(y.suspendedLanes|M))!==0?0:N,N!==0&&N!==k.retryLane&&(k.retryLane=N,si(l,N),ga(y,l,N,-1))}return Fv(),y=yv(Error(r(421))),Of(l,u,M,y)}return N.data==="$?"?(u.flags|=128,u.child=l.child,u=WB.bind(null,l),N._reactRetry=u,null):(l=k.treeContext,jn=Qi(N.nextSibling),_n=u,Bt=!0,fa=null,l!==null&&(Bn[qn++]=ii,Bn[qn++]=oi,Bn[qn++]=Lo,ii=l.id,oi=l.overflow,Lo=u),u=Sv(u,y.children),u.flags|=4096,u)}function IN(l,u,m){l.lanes|=u;var y=l.alternate;y!==null&&(y.lanes|=u),tv(l.return,u,m)}function Ev(l,u,m,y,N){var k=l.memoizedState;k===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:N}:(k.isBackwards=u,k.rendering=null,k.renderingStartTime=0,k.last=y,k.tail=m,k.tailMode=N)}function MN(l,u,m){var y=u.pendingProps,N=y.revealOrder,k=y.tail;if(en(l,u,y.children,m),y=Vt.current,(y&2)!==0)y=y&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&IN(l,m,u);else if(l.tag===19)IN(l,m,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}y&=1}if(Tt(Vt,y),(u.mode&1)===0)u.memoizedState=null;else switch(N){case"forwards":for(m=u.child,N=null;m!==null;)l=m.alternate,l!==null&&jf(l)===null&&(N=m),m=m.sibling;m=N,m===null?(N=u.child,u.child=null):(N=m.sibling,m.sibling=null),Ev(u,!1,N,m,k);break;case"backwards":for(m=null,N=u.child,u.child=null;N!==null;){if(l=N.alternate,l!==null&&jf(l)===null){u.child=N;break}l=N.sibling,N.sibling=m,m=N,N=l}Ev(u,!0,m,null,k);break;case"together":Ev(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function kf(l,u){(u.mode&1)===0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function ci(l,u,m){if(l!==null&&(u.dependencies=l.dependencies),Uo|=u.lanes,(m&u.childLanes)===0)return null;if(l!==null&&u.child!==l.child)throw Error(r(153));if(u.child!==null){for(l=u.child,m=co(l,l.pendingProps),u.child=m,m.return=u;l.sibling!==null;)l=l.sibling,m=m.sibling=co(l,l.pendingProps),m.return=u;m.sibling=null}return u.child}function RB(l,u,m){switch(u.tag){case 3:kN(u),Ks();break;case 5:YE(u);break;case 1:un(u.type)&&hf(u);break;case 4:av(u,u.stateNode.containerInfo);break;case 10:var y=u.type._context,N=u.memoizedProps.value;Tt(xf,y._currentValue),y._currentValue=N;break;case 13:if(y=u.memoizedState,y!==null)return y.dehydrated!==null?(Tt(Vt,Vt.current&1),u.flags|=128,null):(m&u.child.childLanes)!==0?RN(l,u,m):(Tt(Vt,Vt.current&1),l=ci(l,u,m),l!==null?l.sibling:null);Tt(Vt,Vt.current&1);break;case 19:if(y=(m&u.childLanes)!==0,(l.flags&128)!==0){if(y)return MN(l,u,m);u.flags|=128}if(N=u.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),Tt(Vt,Vt.current),y)break;return null;case 22:case 23:return u.lanes=0,AN(l,u,m)}return ci(l,u,m)}var DN,Nv,$N,LN;DN=function(l,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)l.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Nv=function(){},$N=function(l,u,m,y){var N=l.memoizedProps;if(N!==y){l=u.stateNode,Bo(Ma.current);var k=null;switch(m){case"input":N=Fe(l,N),y=Fe(l,y),k=[];break;case"select":N=te({},N,{value:void 0}),y=te({},y,{value:void 0}),k=[];break;case"textarea":N=G(l,N),y=G(l,y),k=[];break;default:typeof N.onClick!="function"&&typeof y.onClick=="function"&&(l.onclick=uf)}Ta(m,y);var M;m=null;for(ce in N)if(!y.hasOwnProperty(ce)&&N.hasOwnProperty(ce)&&N[ce]!=null)if(ce==="style"){var V=N[ce];for(M in V)V.hasOwnProperty(M)&&(m||(m={}),m[M]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(a.hasOwnProperty(ce)?k||(k=[]):(k=k||[]).push(ce,null));for(ce in y){var X=y[ce];if(V=N?.[ce],y.hasOwnProperty(ce)&&X!==V&&(X!=null||V!=null))if(ce==="style")if(V){for(M in V)!V.hasOwnProperty(M)||X&&X.hasOwnProperty(M)||(m||(m={}),m[M]="");for(M in X)X.hasOwnProperty(M)&&V[M]!==X[M]&&(m||(m={}),m[M]=X[M])}else m||(k||(k=[]),k.push(ce,m)),m=X;else ce==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,V=V?V.__html:void 0,X!=null&&V!==X&&(k=k||[]).push(ce,X)):ce==="children"?typeof X!="string"&&typeof X!="number"||(k=k||[]).push(ce,""+X):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(a.hasOwnProperty(ce)?(X!=null&&ce==="onScroll"&&Lt("scroll",l),k||V===X||(k=[])):(k=k||[]).push(ce,X))}m&&(k=k||[]).push("style",m);var ce=k;(u.updateQueue=ce)&&(u.flags|=4)}},LN=function(l,u,m,y){m!==y&&(u.flags|=4)};function au(l,u){if(!Bt)switch(l.tailMode){case"hidden":u=l.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:y.sibling=null}}function Hr(l){var u=l.alternate!==null&&l.alternate.child===l.child,m=0,y=0;if(u)for(var N=l.child;N!==null;)m|=N.lanes|N.childLanes,y|=N.subtreeFlags&14680064,y|=N.flags&14680064,N.return=l,N=N.sibling;else for(N=l.child;N!==null;)m|=N.lanes|N.childLanes,y|=N.subtreeFlags,y|=N.flags,N.return=l,N=N.sibling;return l.subtreeFlags|=y,l.childLanes=m,u}function IB(l,u,m){var y=u.pendingProps;switch(Kg(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hr(u),null;case 1:return un(u.type)&&ff(),Hr(u),null;case 3:return y=u.stateNode,Qs(),zt(cn),zt(Vr),sv(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(l===null||l.child===null)&&(vf(u)?u.flags|=4:l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,fa!==null&&($v(fa),fa=null))),Nv(l,u),Hr(u),null;case 5:iv(u);var N=Bo(Zc.current);if(m=u.type,l!==null&&u.stateNode!=null)$N(l,u,m,y,N),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!y){if(u.stateNode===null)throw Error(r(166));return Hr(u),null}if(l=Bo(Ma.current),vf(u)){y=u.stateNode,m=u.type;var k=u.memoizedProps;switch(y[Ia]=u,y[Kc]=k,l=(u.mode&1)!==0,m){case"dialog":Lt("cancel",y),Lt("close",y);break;case"iframe":case"object":case"embed":Lt("load",y);break;case"video":case"audio":for(N=0;N<Wc.length;N++)Lt(Wc[N],y);break;case"source":Lt("error",y);break;case"img":case"image":case"link":Lt("error",y),Lt("load",y);break;case"details":Lt("toggle",y);break;case"input":ut(y,k),Lt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!k.multiple},Lt("invalid",y);break;case"textarea":pe(y,k),Lt("invalid",y)}Ta(m,k),N=null;for(var M in k)if(k.hasOwnProperty(M)){var V=k[M];M==="children"?typeof V=="string"?y.textContent!==V&&(k.suppressHydrationWarning!==!0&&cf(y.textContent,V,l),N=["children",V]):typeof V=="number"&&y.textContent!==""+V&&(k.suppressHydrationWarning!==!0&&cf(y.textContent,V,l),N=["children",""+V]):a.hasOwnProperty(M)&&V!=null&&M==="onScroll"&&Lt("scroll",y)}switch(m){case"input":xe(y),tr(y,k,!0);break;case"textarea":xe(y),Le(y);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(y.onclick=uf)}y=N,u.updateQueue=y,y!==null&&(u.flags|=4)}else{M=N.nodeType===9?N:N.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=qe(m)),l==="http://www.w3.org/1999/xhtml"?m==="script"?(l=M.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof y.is=="string"?l=M.createElement(m,{is:y.is}):(l=M.createElement(m),m==="select"&&(M=l,y.multiple?M.multiple=!0:y.size&&(M.size=y.size))):l=M.createElementNS(l,m),l[Ia]=u,l[Kc]=y,DN(l,u,!1,!1),u.stateNode=l;e:{switch(M=Za(m,y),m){case"dialog":Lt("cancel",l),Lt("close",l),N=y;break;case"iframe":case"object":case"embed":Lt("load",l),N=y;break;case"video":case"audio":for(N=0;N<Wc.length;N++)Lt(Wc[N],l);N=y;break;case"source":Lt("error",l),N=y;break;case"img":case"image":case"link":Lt("error",l),Lt("load",l),N=y;break;case"details":Lt("toggle",l),N=y;break;case"input":ut(l,y),N=Fe(l,y),Lt("invalid",l);break;case"option":N=y;break;case"select":l._wrapperState={wasMultiple:!!y.multiple},N=te({},y,{value:void 0}),Lt("invalid",l);break;case"textarea":pe(l,y),N=G(l,y),Lt("invalid",l);break;default:N=y}Ta(m,N),V=N;for(k in V)if(V.hasOwnProperty(k)){var X=V[k];k==="style"?Qr(l,X):k==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&Ve(l,X)):k==="children"?typeof X=="string"?(m!=="textarea"||X!=="")&&ot(l,X):typeof X=="number"&&ot(l,""+X):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(a.hasOwnProperty(k)?X!=null&&k==="onScroll"&&Lt("scroll",l):X!=null&&A(l,k,X,M))}switch(m){case"input":xe(l),tr(l,y,!1);break;case"textarea":xe(l),Le(l);break;case"option":y.value!=null&&l.setAttribute("value",""+oe(y.value));break;case"select":l.multiple=!!y.multiple,k=y.value,k!=null?Gt(l,!!y.multiple,k,!1):y.defaultValue!=null&&Gt(l,!!y.multiple,y.defaultValue,!0);break;default:typeof N.onClick=="function"&&(l.onclick=uf)}switch(m){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Hr(u),null;case 6:if(l&&u.stateNode!=null)LN(l,u,l.memoizedProps,y);else{if(typeof y!="string"&&u.stateNode===null)throw Error(r(166));if(m=Bo(Zc.current),Bo(Ma.current),vf(u)){if(y=u.stateNode,m=u.memoizedProps,y[Ia]=u,(k=y.nodeValue!==m)&&(l=_n,l!==null))switch(l.tag){case 3:cf(y.nodeValue,m,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&cf(y.nodeValue,m,(l.mode&1)!==0)}k&&(u.flags|=4)}else y=(m.nodeType===9?m:m.ownerDocument).createTextNode(y),y[Ia]=u,u.stateNode=y}return Hr(u),null;case 13:if(zt(Vt),y=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Bt&&jn!==null&&(u.mode&1)!==0&&(u.flags&128)===0)BE(),Ks(),u.flags|=98560,k=!1;else if(k=vf(u),y!==null&&y.dehydrated!==null){if(l===null){if(!k)throw Error(r(318));if(k=u.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(r(317));k[Ia]=u}else Ks(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Hr(u),k=!1}else fa!==null&&($v(fa),fa=null),k=!0;if(!k)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=m,u):(y=y!==null,y!==(l!==null&&l.memoizedState!==null)&&y&&(u.child.flags|=8192,(u.mode&1)!==0&&(l===null||(Vt.current&1)!==0?pr===0&&(pr=3):Fv())),u.updateQueue!==null&&(u.flags|=4),Hr(u),null);case 4:return Qs(),Nv(l,u),l===null&&Hc(u.stateNode.containerInfo),Hr(u),null;case 10:return ev(u.type._context),Hr(u),null;case 17:return un(u.type)&&ff(),Hr(u),null;case 19:if(zt(Vt),k=u.memoizedState,k===null)return Hr(u),null;if(y=(u.flags&128)!==0,M=k.rendering,M===null)if(y)au(k,!1);else{if(pr!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(M=jf(l),M!==null){for(u.flags|=128,au(k,!1),y=M.updateQueue,y!==null&&(u.updateQueue=y,u.flags|=4),u.subtreeFlags=0,y=m,m=u.child;m!==null;)k=m,l=y,k.flags&=14680066,M=k.alternate,M===null?(k.childLanes=0,k.lanes=l,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=M.childLanes,k.lanes=M.lanes,k.child=M.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=M.memoizedProps,k.memoizedState=M.memoizedState,k.updateQueue=M.updateQueue,k.type=M.type,l=M.dependencies,k.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),m=m.sibling;return Tt(Vt,Vt.current&1|2),u.child}l=l.sibling}k.tail!==null&&Qt()>rl&&(u.flags|=128,y=!0,au(k,!1),u.lanes=4194304)}else{if(!y)if(l=jf(M),l!==null){if(u.flags|=128,y=!0,m=l.updateQueue,m!==null&&(u.updateQueue=m,u.flags|=4),au(k,!0),k.tail===null&&k.tailMode==="hidden"&&!M.alternate&&!Bt)return Hr(u),null}else 2*Qt()-k.renderingStartTime>rl&&m!==1073741824&&(u.flags|=128,y=!0,au(k,!1),u.lanes=4194304);k.isBackwards?(M.sibling=u.child,u.child=M):(m=k.last,m!==null?m.sibling=M:u.child=M,k.last=M)}return k.tail!==null?(u=k.tail,k.rendering=u,k.tail=u.sibling,k.renderingStartTime=Qt(),u.sibling=null,m=Vt.current,Tt(Vt,y?m&1|2:m&1),u):(Hr(u),null);case 22:case 23:return zv(),y=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==y&&(u.flags|=8192),y&&(u.mode&1)!==0?(Sn&1073741824)!==0&&(Hr(u),u.subtreeFlags&6&&(u.flags|=8192)):Hr(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function MB(l,u){switch(Kg(u),u.tag){case 1:return un(u.type)&&ff(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return Qs(),zt(cn),zt(Vr),sv(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 5:return iv(u),null;case 13:if(zt(Vt),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Ks()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return zt(Vt),null;case 4:return Qs(),null;case 10:return ev(u.type._context),null;case 22:case 23:return zv(),null;case 24:return null;default:return null}}var Tf=!1,Gr=!1,DB=typeof WeakSet=="function"?WeakSet:Set,Te=null;function el(l,u){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(y){Kt(l,u,y)}else m.current=null}function Cv(l,u,m){try{m()}catch(y){Kt(l,u,y)}}var zN=!1;function $B(l,u){if(zg=Jd,l=vE(),kg(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var y=m.getSelection&&m.getSelection();if(y&&y.rangeCount!==0){m=y.anchorNode;var N=y.anchorOffset,k=y.focusNode;y=y.focusOffset;try{m.nodeType,k.nodeType}catch{m=null;break e}var M=0,V=-1,X=-1,ce=0,be=0,je=l,ye=null;t:for(;;){for(var Oe;je!==m||N!==0&&je.nodeType!==3||(V=M+N),je!==k||y!==0&&je.nodeType!==3||(X=M+y),je.nodeType===3&&(M+=je.nodeValue.length),(Oe=je.firstChild)!==null;)ye=je,je=Oe;for(;;){if(je===l)break t;if(ye===m&&++ce===N&&(V=M),ye===k&&++be===y&&(X=M),(Oe=je.nextSibling)!==null)break;je=ye,ye=je.parentNode}je=Oe}m=V===-1||X===-1?null:{start:V,end:X}}else m=null}m=m||{start:0,end:0}}else m=null;for(Fg={focusedElem:l,selectionRange:m},Jd=!1,Te=u;Te!==null;)if(u=Te,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,Te=l;else for(;Te!==null;){u=Te;try{var Ie=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var $e=Ie.memoizedProps,Zt=Ie.memoizedState,ae=u.stateNode,Z=ae.getSnapshotBeforeUpdate(u.elementType===u.type?$e:ha(u.type,$e),Zt);ae.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:var ie=u.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ee){Kt(u,u.return,Ee)}if(l=u.sibling,l!==null){l.return=u.return,Te=l;break}Te=u.return}return Ie=zN,zN=!1,Ie}function iu(l,u,m){var y=u.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var N=y=y.next;do{if((N.tag&l)===l){var k=N.destroy;N.destroy=void 0,k!==void 0&&Cv(u,m,k)}N=N.next}while(N!==y)}}function Rf(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var m=u=u.next;do{if((m.tag&l)===l){var y=m.create;m.destroy=y()}m=m.next}while(m!==u)}}function Av(l){var u=l.ref;if(u!==null){var m=l.stateNode;switch(l.tag){case 5:l=m;break;default:l=m}typeof u=="function"?u(l):u.current=l}}function FN(l){var u=l.alternate;u!==null&&(l.alternate=null,FN(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&(delete u[Ia],delete u[Kc],delete u[Vg],delete u[xB],delete u[bB])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function BN(l){return l.tag===5||l.tag===3||l.tag===4}function qN(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||BN(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Pv(l,u,m){var y=l.tag;if(y===5||y===6)l=l.stateNode,u?m.nodeType===8?m.parentNode.insertBefore(l,u):m.insertBefore(l,u):(m.nodeType===8?(u=m.parentNode,u.insertBefore(l,m)):(u=m,u.appendChild(l)),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=uf));else if(y!==4&&(l=l.child,l!==null))for(Pv(l,u,m),l=l.sibling;l!==null;)Pv(l,u,m),l=l.sibling}function Ov(l,u,m){var y=l.tag;if(y===5||y===6)l=l.stateNode,u?m.insertBefore(l,u):m.appendChild(l);else if(y!==4&&(l=l.child,l!==null))for(Ov(l,u,m),l=l.sibling;l!==null;)Ov(l,u,m),l=l.sibling}var Lr=null,pa=!1;function ao(l,u,m){for(m=m.child;m!==null;)UN(l,u,m),m=m.sibling}function UN(l,u,m){if(Ra&&typeof Ra.onCommitFiberUnmount=="function")try{Ra.onCommitFiberUnmount(Wd,m)}catch{}switch(m.tag){case 5:Gr||el(m,u);case 6:var y=Lr,N=pa;Lr=null,ao(l,u,m),Lr=y,pa=N,Lr!==null&&(pa?(l=Lr,m=m.stateNode,l.nodeType===8?l.parentNode.removeChild(m):l.removeChild(m)):Lr.removeChild(m.stateNode));break;case 18:Lr!==null&&(pa?(l=Lr,m=m.stateNode,l.nodeType===8?Ug(l.parentNode,m):l.nodeType===1&&Ug(l,m),$c(l)):Ug(Lr,m.stateNode));break;case 4:y=Lr,N=pa,Lr=m.stateNode.containerInfo,pa=!0,ao(l,u,m),Lr=y,pa=N;break;case 0:case 11:case 14:case 15:if(!Gr&&(y=m.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){N=y=y.next;do{var k=N,M=k.destroy;k=k.tag,M!==void 0&&((k&2)!==0||(k&4)!==0)&&Cv(m,u,M),N=N.next}while(N!==y)}ao(l,u,m);break;case 1:if(!Gr&&(el(m,u),y=m.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=m.memoizedProps,y.state=m.memoizedState,y.componentWillUnmount()}catch(V){Kt(m,u,V)}ao(l,u,m);break;case 21:ao(l,u,m);break;case 22:m.mode&1?(Gr=(y=Gr)||m.memoizedState!==null,ao(l,u,m),Gr=y):ao(l,u,m);break;default:ao(l,u,m)}}function VN(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new DB),u.forEach(function(y){var N=HB.bind(null,l,y);m.has(y)||(m.add(y),y.then(N,N))})}}function ma(l,u){var m=u.deletions;if(m!==null)for(var y=0;y<m.length;y++){var N=m[y];try{var k=l,M=u,V=M;e:for(;V!==null;){switch(V.tag){case 5:Lr=V.stateNode,pa=!1;break e;case 3:Lr=V.stateNode.containerInfo,pa=!0;break e;case 4:Lr=V.stateNode.containerInfo,pa=!0;break e}V=V.return}if(Lr===null)throw Error(r(160));UN(k,M,N),Lr=null,pa=!1;var X=N.alternate;X!==null&&(X.return=null),N.return=null}catch(ce){Kt(N,u,ce)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)WN(u,l),u=u.sibling}function WN(l,u){var m=l.alternate,y=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(ma(u,l),$a(l),y&4){try{iu(3,l,l.return),Rf(3,l)}catch($e){Kt(l,l.return,$e)}try{iu(5,l,l.return)}catch($e){Kt(l,l.return,$e)}}break;case 1:ma(u,l),$a(l),y&512&&m!==null&&el(m,m.return);break;case 5:if(ma(u,l),$a(l),y&512&&m!==null&&el(m,m.return),l.flags&32){var N=l.stateNode;try{ot(N,"")}catch($e){Kt(l,l.return,$e)}}if(y&4&&(N=l.stateNode,N!=null)){var k=l.memoizedProps,M=m!==null?m.memoizedProps:k,V=l.type,X=l.updateQueue;if(l.updateQueue=null,X!==null)try{V==="input"&&k.type==="radio"&&k.name!=null&&vt(N,k),Za(V,M);var ce=Za(V,k);for(M=0;M<X.length;M+=2){var be=X[M],je=X[M+1];be==="style"?Qr(N,je):be==="dangerouslySetInnerHTML"?Ve(N,je):be==="children"?ot(N,je):A(N,be,je,ce)}switch(V){case"input":yt(N,k);break;case"textarea":ke(N,k);break;case"select":var ye=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!k.multiple;var Oe=k.value;Oe!=null?Gt(N,!!k.multiple,Oe,!1):ye!==!!k.multiple&&(k.defaultValue!=null?Gt(N,!!k.multiple,k.defaultValue,!0):Gt(N,!!k.multiple,k.multiple?[]:"",!1))}N[Kc]=k}catch($e){Kt(l,l.return,$e)}}break;case 6:if(ma(u,l),$a(l),y&4){if(l.stateNode===null)throw Error(r(162));N=l.stateNode,k=l.memoizedProps;try{N.nodeValue=k}catch($e){Kt(l,l.return,$e)}}break;case 3:if(ma(u,l),$a(l),y&4&&m!==null&&m.memoizedState.isDehydrated)try{$c(u.containerInfo)}catch($e){Kt(l,l.return,$e)}break;case 4:ma(u,l),$a(l);break;case 13:ma(u,l),$a(l),N=l.child,N.flags&8192&&(k=N.memoizedState!==null,N.stateNode.isHidden=k,!k||N.alternate!==null&&N.alternate.memoizedState!==null||(Rv=Qt())),y&4&&VN(l);break;case 22:if(be=m!==null&&m.memoizedState!==null,l.mode&1?(Gr=(ce=Gr)||be,ma(u,l),Gr=ce):ma(u,l),$a(l),y&8192){if(ce=l.memoizedState!==null,(l.stateNode.isHidden=ce)&&!be&&(l.mode&1)!==0)for(Te=l,be=l.child;be!==null;){for(je=Te=be;Te!==null;){switch(ye=Te,Oe=ye.child,ye.tag){case 0:case 11:case 14:case 15:iu(4,ye,ye.return);break;case 1:el(ye,ye.return);var Ie=ye.stateNode;if(typeof Ie.componentWillUnmount=="function"){y=ye,m=ye.return;try{u=y,Ie.props=u.memoizedProps,Ie.state=u.memoizedState,Ie.componentWillUnmount()}catch($e){Kt(y,m,$e)}}break;case 5:el(ye,ye.return);break;case 22:if(ye.memoizedState!==null){KN(je);continue}}Oe!==null?(Oe.return=ye,Te=Oe):KN(je)}be=be.sibling}e:for(be=null,je=l;;){if(je.tag===5){if(be===null){be=je;try{N=je.stateNode,ce?(k=N.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(V=je.stateNode,X=je.memoizedProps.style,M=X!=null&&X.hasOwnProperty("display")?X.display:null,V.style.display=nr("display",M))}catch($e){Kt(l,l.return,$e)}}}else if(je.tag===6){if(be===null)try{je.stateNode.nodeValue=ce?"":je.memoizedProps}catch($e){Kt(l,l.return,$e)}}else if((je.tag!==22&&je.tag!==23||je.memoizedState===null||je===l)&&je.child!==null){je.child.return=je,je=je.child;continue}if(je===l)break e;for(;je.sibling===null;){if(je.return===null||je.return===l)break e;be===je&&(be=null),je=je.return}be===je&&(be=null),je.sibling.return=je.return,je=je.sibling}}break;case 19:ma(u,l),$a(l),y&4&&VN(l);break;case 21:break;default:ma(u,l),$a(l)}}function $a(l){var u=l.flags;if(u&2){try{e:{for(var m=l.return;m!==null;){if(BN(m)){var y=m;break e}m=m.return}throw Error(r(160))}switch(y.tag){case 5:var N=y.stateNode;y.flags&32&&(ot(N,""),y.flags&=-33);var k=qN(l);Ov(l,k,N);break;case 3:case 4:var M=y.stateNode.containerInfo,V=qN(l);Pv(l,V,M);break;default:throw Error(r(161))}}catch(X){Kt(l,l.return,X)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function LB(l,u,m){Te=l,HN(l)}function HN(l,u,m){for(var y=(l.mode&1)!==0;Te!==null;){var N=Te,k=N.child;if(N.tag===22&&y){var M=N.memoizedState!==null||Tf;if(!M){var V=N.alternate,X=V!==null&&V.memoizedState!==null||Gr;V=Tf;var ce=Gr;if(Tf=M,(Gr=X)&&!ce)for(Te=N;Te!==null;)M=Te,X=M.child,M.tag===22&&M.memoizedState!==null?YN(N):X!==null?(X.return=M,Te=X):YN(N);for(;k!==null;)Te=k,HN(k),k=k.sibling;Te=N,Tf=V,Gr=ce}GN(l)}else(N.subtreeFlags&8772)!==0&&k!==null?(k.return=N,Te=k):GN(l)}}function GN(l){for(;Te!==null;){var u=Te;if((u.flags&8772)!==0){var m=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Gr||Rf(5,u);break;case 1:var y=u.stateNode;if(u.flags&4&&!Gr)if(m===null)y.componentDidMount();else{var N=u.elementType===u.type?m.memoizedProps:ha(u.type,m.memoizedProps);y.componentDidUpdate(N,m.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var k=u.updateQueue;k!==null&&KE(u,k,y);break;case 3:var M=u.updateQueue;if(M!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=u.child.stateNode;break;case 1:m=u.child.stateNode}KE(u,M,m)}break;case 5:var V=u.stateNode;if(m===null&&u.flags&4){m=V;var X=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&m.focus();break;case"img":X.src&&(m.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var ce=u.alternate;if(ce!==null){var be=ce.memoizedState;if(be!==null){var je=be.dehydrated;je!==null&&$c(je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Gr||u.flags&512&&Av(u)}catch(ye){Kt(u,u.return,ye)}}if(u===l){Te=null;break}if(m=u.sibling,m!==null){m.return=u.return,Te=m;break}Te=u.return}}function KN(l){for(;Te!==null;){var u=Te;if(u===l){Te=null;break}var m=u.sibling;if(m!==null){m.return=u.return,Te=m;break}Te=u.return}}function YN(l){for(;Te!==null;){var u=Te;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{Rf(4,u)}catch(X){Kt(u,m,X)}break;case 1:var y=u.stateNode;if(typeof y.componentDidMount=="function"){var N=u.return;try{y.componentDidMount()}catch(X){Kt(u,N,X)}}var k=u.return;try{Av(u)}catch(X){Kt(u,k,X)}break;case 5:var M=u.return;try{Av(u)}catch(X){Kt(u,M,X)}}}catch(X){Kt(u,u.return,X)}if(u===l){Te=null;break}var V=u.sibling;if(V!==null){V.return=u.return,Te=V;break}Te=u.return}}var zB=Math.ceil,If=P.ReactCurrentDispatcher,kv=P.ReactCurrentOwner,Wn=P.ReactCurrentBatchConfig,xt=0,Sr=null,ir=null,zr=0,Sn=0,tl=Zi(0),pr=0,ou=null,Uo=0,Mf=0,Tv=0,su=null,fn=null,Rv=0,rl=1/0,ui=null,Df=!1,Iv=null,io=null,$f=!1,oo=null,Lf=0,lu=0,Mv=null,zf=-1,Ff=0;function tn(){return(xt&6)!==0?Qt():zf!==-1?zf:zf=Qt()}function so(l){return(l.mode&1)===0?1:(xt&2)!==0&&zr!==0?zr&-zr:_B.transition!==null?(Ff===0&&(Ff=q1()),Ff):(l=At,l!==0||(l=window.event,l=l===void 0?16:J1(l.type)),l)}function ga(l,u,m,y){if(50<lu)throw lu=0,Mv=null,Error(r(185));Tc(l,m,y),((xt&2)===0||l!==Sr)&&(l===Sr&&((xt&2)===0&&(Mf|=m),pr===4&&lo(l,zr)),hn(l,y),m===1&&xt===0&&(u.mode&1)===0&&(rl=Qt()+500,pf&&to()))}function hn(l,u){var m=l.callbackNode;_3(l,u);var y=Kd(l,l===Sr?zr:0);if(y===0)m!==null&&z1(m),l.callbackNode=null,l.callbackPriority=0;else if(u=y&-y,l.callbackPriority!==u){if(m!=null&&z1(m),u===1)l.tag===0?wB(JN.bind(null,l)):DE(JN.bind(null,l)),vB(function(){(xt&6)===0&&to()}),m=null;else{switch(U1(y)){case 1:m=pg;break;case 4:m=F1;break;case 16:m=Vd;break;case 536870912:m=B1;break;default:m=Vd}m=iC(m,XN.bind(null,l))}l.callbackPriority=u,l.callbackNode=m}}function XN(l,u){if(zf=-1,Ff=0,(xt&6)!==0)throw Error(r(327));var m=l.callbackNode;if(nl()&&l.callbackNode!==m)return null;var y=Kd(l,l===Sr?zr:0);if(y===0)return null;if((y&30)!==0||(y&l.expiredLanes)!==0||u)u=Bf(l,y);else{u=y;var N=xt;xt|=2;var k=ZN();(Sr!==l||zr!==u)&&(ui=null,rl=Qt()+500,Wo(l,u));do try{qB();break}catch(V){QN(l,V)}while(!0);Zg(),If.current=k,xt=N,ir!==null?u=0:(Sr=null,zr=0,u=pr)}if(u!==0){if(u===2&&(N=mg(l),N!==0&&(y=N,u=Dv(l,N))),u===1)throw m=ou,Wo(l,0),lo(l,y),hn(l,Qt()),m;if(u===6)lo(l,y);else{if(N=l.current.alternate,(y&30)===0&&!FB(N)&&(u=Bf(l,y),u===2&&(k=mg(l),k!==0&&(y=k,u=Dv(l,k))),u===1))throw m=ou,Wo(l,0),lo(l,y),hn(l,Qt()),m;switch(l.finishedWork=N,l.finishedLanes=y,u){case 0:case 1:throw Error(r(345));case 2:Ho(l,fn,ui);break;case 3:if(lo(l,y),(y&130023424)===y&&(u=Rv+500-Qt(),10<u)){if(Kd(l,0)!==0)break;if(N=l.suspendedLanes,(N&y)!==y){tn(),l.pingedLanes|=l.suspendedLanes&N;break}l.timeoutHandle=qg(Ho.bind(null,l,fn,ui),u);break}Ho(l,fn,ui);break;case 4:if(lo(l,y),(y&4194240)===y)break;for(u=l.eventTimes,N=-1;0<y;){var M=31-ua(y);k=1<<M,M=u[M],M>N&&(N=M),y&=~k}if(y=N,y=Qt()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*zB(y/1960))-y,10<y){l.timeoutHandle=qg(Ho.bind(null,l,fn,ui),y);break}Ho(l,fn,ui);break;case 5:Ho(l,fn,ui);break;default:throw Error(r(329))}}}return hn(l,Qt()),l.callbackNode===m?XN.bind(null,l):null}function Dv(l,u){var m=su;return l.current.memoizedState.isDehydrated&&(Wo(l,u).flags|=256),l=Bf(l,u),l!==2&&(u=fn,fn=m,u!==null&&$v(u)),l}function $v(l){fn===null?fn=l:fn.push.apply(fn,l)}function FB(l){for(var u=l;;){if(u.flags&16384){var m=u.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var y=0;y<m.length;y++){var N=m[y],k=N.getSnapshot;N=N.value;try{if(!da(k(),N))return!1}catch{return!1}}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function lo(l,u){for(u&=~Tv,u&=~Mf,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var m=31-ua(u),y=1<<m;l[m]=-1,u&=~y}}function JN(l){if((xt&6)!==0)throw Error(r(327));nl();var u=Kd(l,0);if((u&1)===0)return hn(l,Qt()),null;var m=Bf(l,u);if(l.tag!==0&&m===2){var y=mg(l);y!==0&&(u=y,m=Dv(l,y))}if(m===1)throw m=ou,Wo(l,0),lo(l,u),hn(l,Qt()),m;if(m===6)throw Error(r(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,Ho(l,fn,ui),hn(l,Qt()),null}function Lv(l,u){var m=xt;xt|=1;try{return l(u)}finally{xt=m,xt===0&&(rl=Qt()+500,pf&&to())}}function Vo(l){oo!==null&&oo.tag===0&&(xt&6)===0&&nl();var u=xt;xt|=1;var m=Wn.transition,y=At;try{if(Wn.transition=null,At=1,l)return l()}finally{At=y,Wn.transition=m,xt=u,(xt&6)===0&&to()}}function zv(){Sn=tl.current,zt(tl)}function Wo(l,u){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==-1&&(l.timeoutHandle=-1,gB(m)),ir!==null)for(m=ir.return;m!==null;){var y=m;switch(Kg(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&ff();break;case 3:Qs(),zt(cn),zt(Vr),sv();break;case 5:iv(y);break;case 4:Qs();break;case 13:zt(Vt);break;case 19:zt(Vt);break;case 10:ev(y.type._context);break;case 22:case 23:zv()}m=m.return}if(Sr=l,ir=l=co(l.current,null),zr=Sn=u,pr=0,ou=null,Tv=Mf=Uo=0,fn=su=null,Fo!==null){for(u=0;u<Fo.length;u++)if(m=Fo[u],y=m.interleaved,y!==null){m.interleaved=null;var N=y.next,k=m.pending;if(k!==null){var M=k.next;k.next=N,y.next=M}m.pending=y}Fo=null}return l}function QN(l,u){do{var m=ir;try{if(Zg(),Sf.current=Af,Ef){for(var y=Wt.memoizedState;y!==null;){var N=y.queue;N!==null&&(N.pending=null),y=y.next}Ef=!1}if(qo=0,jr=hr=Wt=null,eu=!1,tu=0,kv.current=null,m===null||m.return===null){pr=1,ou=u,ir=null;break}e:{var k=l,M=m.return,V=m,X=u;if(u=zr,V.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var ce=X,be=V,je=be.tag;if((be.mode&1)===0&&(je===0||je===11||je===15)){var ye=be.alternate;ye?(be.updateQueue=ye.updateQueue,be.memoizedState=ye.memoizedState,be.lanes=ye.lanes):(be.updateQueue=null,be.memoizedState=null)}var Oe=jN(M);if(Oe!==null){Oe.flags&=-257,SN(Oe,M,V,k,u),Oe.mode&1&&_N(k,ce,u),u=Oe,X=ce;var Ie=u.updateQueue;if(Ie===null){var $e=new Set;$e.add(X),u.updateQueue=$e}else Ie.add(X);break e}else{if((u&1)===0){_N(k,ce,u),Fv();break e}X=Error(r(426))}}else if(Bt&&V.mode&1){var Zt=jN(M);if(Zt!==null){(Zt.flags&65536)===0&&(Zt.flags|=256),SN(Zt,M,V,k,u),Jg(Zs(X,V));break e}}k=X=Zs(X,V),pr!==4&&(pr=2),su===null?su=[k]:su.push(k),k=M;do{switch(k.tag){case 3:k.flags|=65536,u&=-u,k.lanes|=u;var ae=bN(k,X,u);GE(k,ae);break e;case 1:V=X;var Z=k.type,ie=k.stateNode;if((k.flags&128)===0&&(typeof Z.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(io===null||!io.has(ie)))){k.flags|=65536,u&=-u,k.lanes|=u;var Ee=wN(k,V,u);GE(k,Ee);break e}}k=k.return}while(k!==null)}tC(m)}catch(ze){u=ze,ir===m&&m!==null&&(ir=m=m.return);continue}break}while(!0)}function ZN(){var l=If.current;return If.current=Af,l===null?Af:l}function Fv(){(pr===0||pr===3||pr===2)&&(pr=4),Sr===null||(Uo&268435455)===0&&(Mf&268435455)===0||lo(Sr,zr)}function Bf(l,u){var m=xt;xt|=2;var y=ZN();(Sr!==l||zr!==u)&&(ui=null,Wo(l,u));do try{BB();break}catch(N){QN(l,N)}while(!0);if(Zg(),xt=m,If.current=y,ir!==null)throw Error(r(261));return Sr=null,zr=0,pr}function BB(){for(;ir!==null;)eC(ir)}function qB(){for(;ir!==null&&!h3();)eC(ir)}function eC(l){var u=aC(l.alternate,l,Sn);l.memoizedProps=l.pendingProps,u===null?tC(l):ir=u,kv.current=null}function tC(l){var u=l;do{var m=u.alternate;if(l=u.return,(u.flags&32768)===0){if(m=IB(m,u,Sn),m!==null){ir=m;return}}else{if(m=MB(m,u),m!==null){m.flags&=32767,ir=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{pr=6,ir=null;return}}if(u=u.sibling,u!==null){ir=u;return}ir=u=l}while(u!==null);pr===0&&(pr=5)}function Ho(l,u,m){var y=At,N=Wn.transition;try{Wn.transition=null,At=1,UB(l,u,m,y)}finally{Wn.transition=N,At=y}return null}function UB(l,u,m,y){do nl();while(oo!==null);if((xt&6)!==0)throw Error(r(327));m=l.finishedWork;var N=l.finishedLanes;if(m===null)return null;if(l.finishedWork=null,l.finishedLanes=0,m===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0;var k=m.lanes|m.childLanes;if(j3(l,k),l===Sr&&(ir=Sr=null,zr=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||$f||($f=!0,iC(Vd,function(){return nl(),null})),k=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||k){k=Wn.transition,Wn.transition=null;var M=At;At=1;var V=xt;xt|=4,kv.current=null,$B(l,m),WN(m,l),cB(Fg),Jd=!!zg,Fg=zg=null,l.current=m,LB(m),p3(),xt=V,At=M,Wn.transition=k}else l.current=m;if($f&&($f=!1,oo=l,Lf=N),k=l.pendingLanes,k===0&&(io=null),v3(m.stateNode),hn(l,Qt()),u!==null)for(y=l.onRecoverableError,m=0;m<u.length;m++)N=u[m],y(N.value,{componentStack:N.stack,digest:N.digest});if(Df)throw Df=!1,l=Iv,Iv=null,l;return(Lf&1)!==0&&l.tag!==0&&nl(),k=l.pendingLanes,(k&1)!==0?l===Mv?lu++:(lu=0,Mv=l):lu=0,to(),null}function nl(){if(oo!==null){var l=U1(Lf),u=Wn.transition,m=At;try{if(Wn.transition=null,At=16>l?16:l,oo===null)var y=!1;else{if(l=oo,oo=null,Lf=0,(xt&6)!==0)throw Error(r(331));var N=xt;for(xt|=4,Te=l.current;Te!==null;){var k=Te,M=k.child;if((Te.flags&16)!==0){var V=k.deletions;if(V!==null){for(var X=0;X<V.length;X++){var ce=V[X];for(Te=ce;Te!==null;){var be=Te;switch(be.tag){case 0:case 11:case 15:iu(8,be,k)}var je=be.child;if(je!==null)je.return=be,Te=je;else for(;Te!==null;){be=Te;var ye=be.sibling,Oe=be.return;if(FN(be),be===ce){Te=null;break}if(ye!==null){ye.return=Oe,Te=ye;break}Te=Oe}}}var Ie=k.alternate;if(Ie!==null){var $e=Ie.child;if($e!==null){Ie.child=null;do{var Zt=$e.sibling;$e.sibling=null,$e=Zt}while($e!==null)}}Te=k}}if((k.subtreeFlags&2064)!==0&&M!==null)M.return=k,Te=M;else e:for(;Te!==null;){if(k=Te,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:iu(9,k,k.return)}var ae=k.sibling;if(ae!==null){ae.return=k.return,Te=ae;break e}Te=k.return}}var Z=l.current;for(Te=Z;Te!==null;){M=Te;var ie=M.child;if((M.subtreeFlags&2064)!==0&&ie!==null)ie.return=M,Te=ie;else e:for(M=Z;Te!==null;){if(V=Te,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:Rf(9,V)}}catch(ze){Kt(V,V.return,ze)}if(V===M){Te=null;break e}var Ee=V.sibling;if(Ee!==null){Ee.return=V.return,Te=Ee;break e}Te=V.return}}if(xt=N,to(),Ra&&typeof Ra.onPostCommitFiberRoot=="function")try{Ra.onPostCommitFiberRoot(Wd,l)}catch{}y=!0}return y}finally{At=m,Wn.transition=u}}return!1}function rC(l,u,m){u=Zs(m,u),u=bN(l,u,1),l=no(l,u,1),u=tn(),l!==null&&(Tc(l,1,u),hn(l,u))}function Kt(l,u,m){if(l.tag===3)rC(l,l,m);else for(;u!==null;){if(u.tag===3){rC(u,l,m);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(io===null||!io.has(y))){l=Zs(m,l),l=wN(u,l,1),u=no(u,l,1),l=tn(),u!==null&&(Tc(u,1,l),hn(u,l));break}}u=u.return}}function VB(l,u,m){var y=l.pingCache;y!==null&&y.delete(u),u=tn(),l.pingedLanes|=l.suspendedLanes&m,Sr===l&&(zr&m)===m&&(pr===4||pr===3&&(zr&130023424)===zr&&500>Qt()-Rv?Wo(l,0):Tv|=m),hn(l,u)}function nC(l,u){u===0&&((l.mode&1)===0?u=1:(u=Gd,Gd<<=1,(Gd&130023424)===0&&(Gd=4194304)));var m=tn();l=si(l,u),l!==null&&(Tc(l,u,m),hn(l,m))}function WB(l){var u=l.memoizedState,m=0;u!==null&&(m=u.retryLane),nC(l,m)}function HB(l,u){var m=0;switch(l.tag){case 13:var y=l.stateNode,N=l.memoizedState;N!==null&&(m=N.retryLane);break;case 19:y=l.stateNode;break;default:throw Error(r(314))}y!==null&&y.delete(u),nC(l,m)}var aC;aC=function(l,u,m){if(l!==null)if(l.memoizedProps!==u.pendingProps||cn.current)dn=!0;else{if((l.lanes&m)===0&&(u.flags&128)===0)return dn=!1,RB(l,u,m);dn=(l.flags&131072)!==0}else dn=!1,Bt&&(u.flags&1048576)!==0&&$E(u,gf,u.index);switch(u.lanes=0,u.tag){case 2:var y=u.type;kf(l,u),l=u.pendingProps;var N=Ws(u,Vr.current);Js(u,m),N=uv(null,u,y,l,N,m);var k=dv();return u.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,un(y)?(k=!0,hf(u)):k=!1,u.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,nv(u),N.updater=Pf,u.stateNode=N,N._reactInternals=u,vv(u,y,l,m),u=wv(null,u,y,!0,k,m)):(u.tag=0,Bt&&k&&Gg(u),en(null,u,N,m),u=u.child),u;case 16:y=u.elementType;e:{switch(kf(l,u),l=u.pendingProps,N=y._init,y=N(y._payload),u.type=y,N=u.tag=KB(y),l=ha(y,l),N){case 0:u=bv(null,u,y,l,m);break e;case 1:u=ON(null,u,y,l,m);break e;case 11:u=EN(null,u,y,l,m);break e;case 14:u=NN(null,u,y,ha(y.type,l),m);break e}throw Error(r(306,y,""))}return u;case 0:return y=u.type,N=u.pendingProps,N=u.elementType===y?N:ha(y,N),bv(l,u,y,N,m);case 1:return y=u.type,N=u.pendingProps,N=u.elementType===y?N:ha(y,N),ON(l,u,y,N,m);case 3:e:{if(kN(u),l===null)throw Error(r(387));y=u.pendingProps,k=u.memoizedState,N=k.element,HE(l,u),_f(u,y,null,m);var M=u.memoizedState;if(y=M.element,k.isDehydrated)if(k={element:y,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},u.updateQueue.baseState=k,u.memoizedState=k,u.flags&256){N=Zs(Error(r(423)),u),u=TN(l,u,y,m,N);break e}else if(y!==N){N=Zs(Error(r(424)),u),u=TN(l,u,y,m,N);break e}else for(jn=Qi(u.stateNode.containerInfo.firstChild),_n=u,Bt=!0,fa=null,m=VE(u,null,y,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Ks(),y===N){u=ci(l,u,m);break e}en(l,u,y,m)}u=u.child}return u;case 5:return YE(u),l===null&&Xg(u),y=u.type,N=u.pendingProps,k=l!==null?l.memoizedProps:null,M=N.children,Bg(y,N)?M=null:k!==null&&Bg(y,k)&&(u.flags|=32),PN(l,u),en(l,u,M,m),u.child;case 6:return l===null&&Xg(u),null;case 13:return RN(l,u,m);case 4:return av(u,u.stateNode.containerInfo),y=u.pendingProps,l===null?u.child=Ys(u,null,y,m):en(l,u,y,m),u.child;case 11:return y=u.type,N=u.pendingProps,N=u.elementType===y?N:ha(y,N),EN(l,u,y,N,m);case 7:return en(l,u,u.pendingProps,m),u.child;case 8:return en(l,u,u.pendingProps.children,m),u.child;case 12:return en(l,u,u.pendingProps.children,m),u.child;case 10:e:{if(y=u.type._context,N=u.pendingProps,k=u.memoizedProps,M=N.value,Tt(xf,y._currentValue),y._currentValue=M,k!==null)if(da(k.value,M)){if(k.children===N.children&&!cn.current){u=ci(l,u,m);break e}}else for(k=u.child,k!==null&&(k.return=u);k!==null;){var V=k.dependencies;if(V!==null){M=k.child;for(var X=V.firstContext;X!==null;){if(X.context===y){if(k.tag===1){X=li(-1,m&-m),X.tag=2;var ce=k.updateQueue;if(ce!==null){ce=ce.shared;var be=ce.pending;be===null?X.next=X:(X.next=be.next,be.next=X),ce.pending=X}}k.lanes|=m,X=k.alternate,X!==null&&(X.lanes|=m),tv(k.return,m,u),V.lanes|=m;break}X=X.next}}else if(k.tag===10)M=k.type===u.type?null:k.child;else if(k.tag===18){if(M=k.return,M===null)throw Error(r(341));M.lanes|=m,V=M.alternate,V!==null&&(V.lanes|=m),tv(M,m,u),M=k.sibling}else M=k.child;if(M!==null)M.return=k;else for(M=k;M!==null;){if(M===u){M=null;break}if(k=M.sibling,k!==null){k.return=M.return,M=k;break}M=M.return}k=M}en(l,u,N.children,m),u=u.child}return u;case 9:return N=u.type,y=u.pendingProps.children,Js(u,m),N=Un(N),y=y(N),u.flags|=1,en(l,u,y,m),u.child;case 14:return y=u.type,N=ha(y,u.pendingProps),N=ha(y.type,N),NN(l,u,y,N,m);case 15:return CN(l,u,u.type,u.pendingProps,m);case 17:return y=u.type,N=u.pendingProps,N=u.elementType===y?N:ha(y,N),kf(l,u),u.tag=1,un(y)?(l=!0,hf(u)):l=!1,Js(u,m),yN(u,y,N),vv(u,y,N,m),wv(null,u,y,!0,l,m);case 19:return MN(l,u,m);case 22:return AN(l,u,m)}throw Error(r(156,u.tag))};function iC(l,u){return L1(l,u)}function GB(l,u,m,y){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(l,u,m,y){return new GB(l,u,m,y)}function Bv(l){return l=l.prototype,!(!l||!l.isReactComponent)}function KB(l){if(typeof l=="function")return Bv(l)?1:0;if(l!=null){if(l=l.$$typeof,l===B)return 11;if(l===J)return 14}return 2}function co(l,u){var m=l.alternate;return m===null?(m=Hn(l.tag,u,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=u,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,u=l.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function qf(l,u,m,y,N,k){var M=2;if(y=l,typeof l=="function")Bv(l)&&(M=1);else if(typeof l=="string")M=5;else e:switch(l){case C:return Go(m.children,N,k,u);case T:M=8,N|=8;break;case I:return l=Hn(12,m,u,N|2),l.elementType=I,l.lanes=k,l;case W:return l=Hn(13,m,u,N),l.elementType=W,l.lanes=k,l;case Y:return l=Hn(19,m,u,N),l.elementType=Y,l.lanes=k,l;case K:return Uf(m,N,k,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case R:M=10;break e;case D:M=9;break e;case B:M=11;break e;case J:M=14;break e;case F:M=16,y=null;break e}throw Error(r(130,l==null?l:typeof l,""))}return u=Hn(M,m,u,N),u.elementType=l,u.type=y,u.lanes=k,u}function Go(l,u,m,y){return l=Hn(7,l,y,u),l.lanes=m,l}function Uf(l,u,m,y){return l=Hn(22,l,y,u),l.elementType=K,l.lanes=m,l.stateNode={isHidden:!1},l}function qv(l,u,m){return l=Hn(6,l,null,u),l.lanes=m,l}function Uv(l,u,m){return u=Hn(4,l.children!==null?l.children:[],l.key,u),u.lanes=m,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function YB(l,u,m,y,N){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gg(0),this.expirationTimes=gg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gg(0),this.identifierPrefix=y,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function Vv(l,u,m,y,N,k,M,V,X){return l=new YB(l,u,m,V,X),u===1?(u=1,k===!0&&(u|=8)):u=0,k=Hn(3,null,null,u),l.current=k,k.stateNode=l,k.memoizedState={element:y,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},nv(k),l}function XB(l,u,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:y==null?null:""+y,children:l,containerInfo:u,implementation:m}}function oC(l){if(!l)return eo;l=l._reactInternals;e:{if(Mo(l)!==l||l.tag!==1)throw Error(r(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(un(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(l.tag===1){var m=l.type;if(un(m))return IE(l,m,u)}return u}function sC(l,u,m,y,N,k,M,V,X){return l=Vv(m,y,!0,l,N,k,M,V,X),l.context=oC(null),m=l.current,y=tn(),N=so(m),k=li(y,N),k.callback=u??null,no(m,k,N),l.current.lanes=N,Tc(l,N,y),hn(l,y),l}function Vf(l,u,m,y){var N=u.current,k=tn(),M=so(N);return m=oC(m),u.context===null?u.context=m:u.pendingContext=m,u=li(k,M),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=no(N,u,M),l!==null&&(ga(l,N,M,k),wf(l,N,M)),M}function Wf(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function lC(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<u?m:u}}function Wv(l,u){lC(l,u),(l=l.alternate)&&lC(l,u)}function JB(){return null}var cC=typeof reportError=="function"?reportError:function(l){console.error(l)};function Hv(l){this._internalRoot=l}Hf.prototype.render=Hv.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(r(409));Vf(l,u,null,null)},Hf.prototype.unmount=Hv.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;Vo(function(){Vf(null,l,null,null)}),u[ni]=null}};function Hf(l){this._internalRoot=l}Hf.prototype.unstable_scheduleHydration=function(l){if(l){var u=H1();l={blockedOn:null,target:l,priority:u};for(var m=0;m<Yi.length&&u!==0&&u<Yi[m].priority;m++);Yi.splice(m,0,l),m===0&&Y1(l)}};function Gv(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function Gf(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function uC(){}function QB(l,u,m,y,N){if(N){if(typeof y=="function"){var k=y;y=function(){var ce=Wf(M);k.call(ce)}}var M=sC(u,y,l,0,null,!1,!1,"",uC);return l._reactRootContainer=M,l[ni]=M.current,Hc(l.nodeType===8?l.parentNode:l),Vo(),M}for(;N=l.lastChild;)l.removeChild(N);if(typeof y=="function"){var V=y;y=function(){var ce=Wf(X);V.call(ce)}}var X=Vv(l,0,!1,null,null,!1,!1,"",uC);return l._reactRootContainer=X,l[ni]=X.current,Hc(l.nodeType===8?l.parentNode:l),Vo(function(){Vf(u,X,m,y)}),X}function Kf(l,u,m,y,N){var k=m._reactRootContainer;if(k){var M=k;if(typeof N=="function"){var V=N;N=function(){var X=Wf(M);V.call(X)}}Vf(u,M,l,N)}else M=QB(m,u,l,N,y);return Wf(M)}V1=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var m=kc(u.pendingLanes);m!==0&&(vg(u,m|1),hn(u,Qt()),(xt&6)===0&&(rl=Qt()+500,to()))}break;case 13:Vo(function(){var y=si(l,1);if(y!==null){var N=tn();ga(y,l,1,N)}}),Wv(l,1)}},yg=function(l){if(l.tag===13){var u=si(l,134217728);if(u!==null){var m=tn();ga(u,l,134217728,m)}Wv(l,134217728)}},W1=function(l){if(l.tag===13){var u=so(l),m=si(l,u);if(m!==null){var y=tn();ga(m,l,u,y)}Wv(l,u)}},H1=function(){return At},G1=function(l,u){var m=At;try{return At=l,u()}finally{At=m}},ti=function(l,u,m){switch(u){case"input":if(yt(l,m),u=m.name,m.type==="radio"&&u!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<m.length;u++){var y=m[u];if(y!==l&&y.form===l.form){var N=df(y);if(!N)throw Error(r(90));ue(y),yt(y,N)}}}break;case"textarea":ke(l,m);break;case"select":u=m.value,u!=null&&Gt(l,!!m.multiple,u,!1)}},fr=Lv,Ur=Vo;var ZB={usingClientEntryPoint:!1,Events:[Yc,Us,df,rt,Jt,Lv]},cu={findFiberByHostInstance:Do,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eq={bundleType:cu.bundleType,version:cu.version,rendererPackageName:cu.rendererPackageName,rendererConfig:cu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=D1(l),l===null?null:l.stateNode},findFiberByHostInstance:cu.findFiberByHostInstance||JB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yf.isDisabled&&Yf.supportsFiber)try{Wd=Yf.inject(eq),Ra=Yf}catch{}}return pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZB,pn.createPortal=function(l,u){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gv(u))throw Error(r(200));return XB(l,u,null,m)},pn.createRoot=function(l,u){if(!Gv(l))throw Error(r(299));var m=!1,y="",N=cC;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(N=u.onRecoverableError)),u=Vv(l,1,!1,null,null,m,!1,y,N),l[ni]=u.current,Hc(l.nodeType===8?l.parentNode:l),new Hv(u)},pn.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=D1(u),l=l===null?null:l.stateNode,l},pn.flushSync=function(l){return Vo(l)},pn.hydrate=function(l,u,m){if(!Gf(u))throw Error(r(200));return Kf(null,l,u,!0,m)},pn.hydrateRoot=function(l,u,m){if(!Gv(l))throw Error(r(405));var y=m!=null&&m.hydratedSources||null,N=!1,k="",M=cC;if(m!=null&&(m.unstable_strictMode===!0&&(N=!0),m.identifierPrefix!==void 0&&(k=m.identifierPrefix),m.onRecoverableError!==void 0&&(M=m.onRecoverableError)),u=sC(u,null,l,1,m??null,N,!1,k,M),l[ni]=u.current,Hc(l),y)for(l=0;l<y.length;l++)m=y[l],N=m._getVersion,N=N(m._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[m,N]:u.mutableSourceEagerHydrationData.push(m,N);return new Hf(u)},pn.render=function(l,u,m){if(!Gf(u))throw Error(r(200));return Kf(null,l,u,!1,m)},pn.unmountComponentAtNode=function(l){if(!Gf(l))throw Error(r(40));return l._reactRootContainer?(Vo(function(){Kf(null,null,l,!1,function(){l._reactRootContainer=null,l[ni]=null})}),!0):!1},pn.unstable_batchedUpdates=Lv,pn.unstable_renderSubtreeIntoContainer=function(l,u,m,y){if(!Gf(m))throw Error(r(200));if(l==null||l._reactInternals===void 0)throw Error(r(38));return Kf(l,u,m,!1,y)},pn.version="18.3.1-next-f1338f8080-20240426",pn}var yC;function FI(){if(yC)return Xv.exports;yC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Xv.exports=lq(),Xv.exports}var xC;function cq(){if(xC)return Jf;xC=1;var e=FI();return Jf.createRoot=e.createRoot,Jf.hydrateRoot=e.hydrateRoot,Jf}var uq=cq(),w=Jp();const $=Ct(w),Pj=rq({__proto__:null,default:$},[w]);function bC(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ai(...e){return t=>{let r=!1;const n=e.map(a=>{const i=bC(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():bC(e[a],null)}}}}function lt(...e){return w.useCallback(Ai(...e),e)}var dq=Symbol.for("react.lazy"),Rh=Pj[" use ".trim().toString()];function fq(e){return typeof e=="object"&&e!==null&&"then"in e}function BI(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===dq&&"_payload"in e&&fq(e._payload)}function Oj(e){const t=hq(e),r=w.forwardRef((n,a)=>{let{children:i,...s}=n;BI(i)&&typeof Rh=="function"&&(i=Rh(i._payload));const c=w.Children.toArray(i),d=c.find(mq);if(d){const f=d.props.children,p=c.map(h=>h===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:h);return o.jsx(t,{...s,ref:a,children:w.isValidElement(f)?w.cloneElement(f,void 0,p):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var qI=Oj("Slot");function hq(e){const t=w.forwardRef((r,n)=>{let{children:a,...i}=r;if(BI(a)&&typeof Rh=="function"&&(a=Rh(a._payload)),w.isValidElement(a)){const s=vq(a),c=gq(i,a.props);return a.type!==w.Fragment&&(c.ref=n?Ai(n,s):s),w.cloneElement(a,c)}return w.Children.count(a)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var pq=Symbol("radix.slottable");function mq(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===pq}function gq(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function vq(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function UI(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=UI(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function st(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=UI(e))&&(n&&(n+=" "),n+=t);return n}const wC=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,_C=st,VI=(e,t)=>r=>{var n;if(t?.variants==null)return _C(e,r?.class,r?.className);const{variants:a,defaultVariants:i}=t,s=Object.keys(a).map(f=>{const p=r?.[f],h=i?.[f];if(p===null)return null;const g=wC(p)||wC(h);return a[f][g]}),c=r&&Object.entries(r).reduce((f,p)=>{let[h,g]=p;return g===void 0||(f[h]=g),f},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((f,p)=>{let{class:h,className:g,...x}=p;return Object.entries(x).every(_=>{let[b,v]=_;return Array.isArray(v)?v.includes({...i,...c}[b]):{...i,...c}[b]===v})?[...f,h,g]:f},[]);return _C(e,s,d,r?.class,r?.className)},yq=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},xq=(e,t)=>({classGroupId:e,validator:t}),WI=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),Ih="-",jC=[],bq="arbitrary..",wq=e=>{const t=jq(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{if(s.startsWith("[")&&s.endsWith("]"))return _q(s);const c=s.split(Ih),d=c[0]===""&&c.length>1?1:0;return HI(c,d,t)},getConflictingClassGroupIds:(s,c)=>{if(c){const d=n[s],f=r[s];return d?f?yq(f,d):d:f||jC}return r[s]||jC}}},HI=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const a=e[t],i=r.nextPart.get(a);if(i){const f=HI(e,t+1,i);if(f)return f}const s=r.validators;if(s===null)return;const c=t===0?e.join(Ih):e.slice(t).join(Ih),d=s.length;for(let f=0;f<d;f++){const p=s[f];if(p.validator(c))return p.classGroupId}},_q=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?bq+n:void 0})(),jq=e=>{const{theme:t,classGroups:r}=e;return Sq(r,t)},Sq=(e,t)=>{const r=WI();for(const n in e){const a=e[n];kj(a,r,n,t)}return r},kj=(e,t,r,n)=>{const a=e.length;for(let i=0;i<a;i++){const s=e[i];Eq(s,t,r,n)}},Eq=(e,t,r,n)=>{if(typeof e=="string"){Nq(e,t,r);return}if(typeof e=="function"){Cq(e,t,r,n);return}Aq(e,t,r,n)},Nq=(e,t,r)=>{const n=e===""?t:GI(t,e);n.classGroupId=r},Cq=(e,t,r,n)=>{if(Pq(e)){kj(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(xq(r,e))},Aq=(e,t,r,n)=>{const a=Object.entries(e),i=a.length;for(let s=0;s<i;s++){const[c,d]=a[s];kj(d,GI(t,c),r,n)}},GI=(e,t)=>{let r=e;const n=t.split(Ih),a=n.length;for(let i=0;i<a;i++){const s=n[i];let c=r.nextPart.get(s);c||(c=WI(),r.nextPart.set(s,c)),r=c}return r},Pq=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,Oq=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const a=(i,s)=>{r[i]=s,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(i){let s=r[i];if(s!==void 0)return s;if((s=n[i])!==void 0)return a(i,s),s},set(i,s){i in r?r[i]=s:a(i,s)}}},Ew="!",SC=":",kq=[],EC=(e,t,r,n,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),Tq=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let s=0,c=0,d=0,f;const p=a.length;for(let b=0;b<p;b++){const v=a[b];if(s===0&&c===0){if(v===SC){i.push(a.slice(d,b)),d=b+1;continue}if(v==="/"){f=b;continue}}v==="["?s++:v==="]"?s--:v==="("?c++:v===")"&&c--}const h=i.length===0?a:a.slice(d);let g=h,x=!1;h.endsWith(Ew)?(g=h.slice(0,-1),x=!0):h.startsWith(Ew)&&(g=h.slice(1),x=!0);const _=f&&f>d?f-d:void 0;return EC(i,x,g,_)};if(t){const a=t+SC,i=n;n=s=>s.startsWith(a)?i(s.slice(a.length)):EC(kq,!1,s,void 0,!0)}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},Rq=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let a=[];for(let i=0;i<r.length;i++){const s=r[i],c=s[0]==="[",d=t.has(s);c||d?(a.length>0&&(a.sort(),n.push(...a),a=[]),n.push(s)):a.push(s)}return a.length>0&&(a.sort(),n.push(...a)),n}},Iq=e=>({cache:Oq(e.cacheSize),parseClassName:Tq(e),sortModifiers:Rq(e),...wq(e)}),Mq=/\s+/,Dq=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,s=[],c=e.trim().split(Mq);let d="";for(let f=c.length-1;f>=0;f-=1){const p=c[f],{isExternal:h,modifiers:g,hasImportantModifier:x,baseClassName:_,maybePostfixModifierPosition:b}=r(p);if(h){d=p+(d.length>0?" "+d:d);continue}let v=!!b,j=n(v?_.substring(0,b):_);if(!j){if(!v){d=p+(d.length>0?" "+d:d);continue}if(j=n(_),!j){d=p+(d.length>0?" "+d:d);continue}v=!1}const S=g.length===0?"":g.length===1?g[0]:i(g).join(":"),A=x?S+Ew:S,P=A+j;if(s.indexOf(P)>-1)continue;s.push(P);const E=a(j,v);for(let O=0;O<E.length;++O){const C=E[O];s.push(A+C)}d=p+(d.length>0?" "+d:d)}return d},$q=(...e)=>{let t=0,r,n,a="";for(;t<e.length;)(r=e[t++])&&(n=KI(r))&&(a&&(a+=" "),a+=n);return a},KI=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=KI(e[n]))&&(r&&(r+=" "),r+=t);return r},Lq=(e,...t)=>{let r,n,a,i;const s=d=>{const f=t.reduce((p,h)=>h(p),e());return r=Iq(f),n=r.cache.get,a=r.cache.set,i=c,c(d)},c=d=>{const f=n(d);if(f)return f;const p=Dq(d,r);return a(d,p),p};return i=s,(...d)=>i($q(...d))},zq=[],mr=e=>{const t=r=>r[e]||zq;return t.isThemeGetter=!0,t},YI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,XI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Fq=/^\d+\/\d+$/,Bq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Uq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Vq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Wq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,al=e=>Fq.test(e),ct=e=>!!e&&!Number.isNaN(Number(e)),fo=e=>!!e&&Number.isInteger(Number(e)),Zv=e=>e.endsWith("%")&&ct(e.slice(0,-1)),di=e=>Bq.test(e),Hq=()=>!0,Gq=e=>qq.test(e)&&!Uq.test(e),JI=()=>!1,Kq=e=>Vq.test(e),Yq=e=>Wq.test(e),Xq=e=>!Me(e)&&!De(e),Jq=e=>pc(e,eM,JI),Me=e=>YI.test(e),Ko=e=>pc(e,tM,Gq),ey=e=>pc(e,r6,ct),NC=e=>pc(e,QI,JI),Qq=e=>pc(e,ZI,Yq),Qf=e=>pc(e,rM,Kq),De=e=>XI.test(e),du=e=>mc(e,tM),Zq=e=>mc(e,n6),CC=e=>mc(e,QI),e6=e=>mc(e,eM),t6=e=>mc(e,ZI),Zf=e=>mc(e,rM,!0),pc=(e,t,r)=>{const n=YI.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},mc=(e,t,r=!1)=>{const n=XI.exec(e);return n?n[1]?t(n[1]):r:!1},QI=e=>e==="position"||e==="percentage",ZI=e=>e==="image"||e==="url",eM=e=>e==="length"||e==="size"||e==="bg-size",tM=e=>e==="length",r6=e=>e==="number",n6=e=>e==="family-name",rM=e=>e==="shadow",a6=()=>{const e=mr("color"),t=mr("font"),r=mr("text"),n=mr("font-weight"),a=mr("tracking"),i=mr("leading"),s=mr("breakpoint"),c=mr("container"),d=mr("spacing"),f=mr("radius"),p=mr("shadow"),h=mr("inset-shadow"),g=mr("text-shadow"),x=mr("drop-shadow"),_=mr("blur"),b=mr("perspective"),v=mr("aspect"),j=mr("ease"),S=mr("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],E=()=>[...P(),De,Me],O=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],T=()=>[De,Me,d],I=()=>[al,"full","auto",...T()],R=()=>[fo,"none","subgrid",De,Me],D=()=>["auto",{span:["full",fo,De,Me]},fo,De,Me],B=()=>[fo,"auto",De,Me],W=()=>["auto","min","max","fr",De,Me],Y=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],J=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...T()],K=()=>[al,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],L=()=>[e,De,Me],H=()=>[...P(),CC,NC,{position:[De,Me]}],te=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",e6,Jq,{size:[De,Me]}],Q=()=>[Zv,du,Ko],U=()=>["","none","full",f,De,Me],ne=()=>["",ct,du,Ko],se=()=>["solid","dashed","dotted","double"],ve=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>[ct,Zv,CC,NC],oe=()=>["","none",_,De,Me],ee=()=>["none",ct,De,Me],me=()=>["none",ct,De,Me],xe=()=>[ct,De,Me],ue=()=>[al,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[di],breakpoint:[di],color:[Hq],container:[di],"drop-shadow":[di],ease:["in","out","in-out"],font:[Xq],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[di],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[di],shadow:[di],spacing:["px",ct],text:[di],"text-shadow":[di],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",al,Me,De,v]}],container:["container"],columns:[{columns:[ct,Me,De,c]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:E()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[fo,"auto",De,Me]}],basis:[{basis:[al,"full","auto",c,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ct,al,"auto","initial","none",Me]}],grow:[{grow:["",ct,De,Me]}],shrink:[{shrink:["",ct,De,Me]}],order:[{order:[fo,"first","last","none",De,Me]}],"grid-cols":[{"grid-cols":R()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":R()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":W()}],"auto-rows":[{"auto-rows":W()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...Y(),"normal"]}],"justify-items":[{"justify-items":[...J(),"normal"]}],"justify-self":[{"justify-self":["auto",...J()]}],"align-content":[{content:["normal",...Y()]}],"align-items":[{items:[...J(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...J(),{baseline:["","last"]}]}],"place-content":[{"place-content":Y()}],"place-items":[{"place-items":[...J(),"baseline"]}],"place-self":[{"place-self":["auto",...J()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:K()}],w:[{w:[c,"screen",...K()]}],"min-w":[{"min-w":[c,"screen","none",...K()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[s]},...K()]}],h:[{h:["screen","lh",...K()]}],"min-h":[{"min-h":["screen","lh","none",...K()]}],"max-h":[{"max-h":["screen","lh",...K()]}],"font-size":[{text:["base",r,du,Ko]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,De,ey]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Zv,Me]}],"font-family":[{font:[Zq,Me,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,De,Me]}],"line-clamp":[{"line-clamp":[ct,"none",De,ey]}],leading:[{leading:[i,...T()]}],"list-image":[{"list-image":["none",De,Me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",De,Me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:[ct,"from-font","auto",De,Ko]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[ct,"auto",De,Me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De,Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De,Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:H()}],"bg-repeat":[{bg:te()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},fo,De,Me],radial:["",De,Me],conic:[fo,De,Me]},t6,Qq]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:Q()}],"gradient-via-pos":[{via:Q()}],"gradient-to-pos":[{to:Q()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...se(),"hidden","none"]}],"divide-style":[{divide:[...se(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ct,De,Me]}],"outline-w":[{outline:["",ct,du,Ko]}],"outline-color":[{outline:L()}],shadow:[{shadow:["","none",p,Zf,Qf]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",h,Zf,Qf]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[ct,Ko]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":L()}],"text-shadow":[{"text-shadow":["none",g,Zf,Qf]}],"text-shadow-color":[{"text-shadow":L()}],opacity:[{opacity:[ct,De,Me]}],"mix-blend":[{"mix-blend":[...ve(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ve()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ct]}],"mask-image-linear-from-pos":[{"mask-linear-from":re()}],"mask-image-linear-to-pos":[{"mask-linear-to":re()}],"mask-image-linear-from-color":[{"mask-linear-from":L()}],"mask-image-linear-to-color":[{"mask-linear-to":L()}],"mask-image-t-from-pos":[{"mask-t-from":re()}],"mask-image-t-to-pos":[{"mask-t-to":re()}],"mask-image-t-from-color":[{"mask-t-from":L()}],"mask-image-t-to-color":[{"mask-t-to":L()}],"mask-image-r-from-pos":[{"mask-r-from":re()}],"mask-image-r-to-pos":[{"mask-r-to":re()}],"mask-image-r-from-color":[{"mask-r-from":L()}],"mask-image-r-to-color":[{"mask-r-to":L()}],"mask-image-b-from-pos":[{"mask-b-from":re()}],"mask-image-b-to-pos":[{"mask-b-to":re()}],"mask-image-b-from-color":[{"mask-b-from":L()}],"mask-image-b-to-color":[{"mask-b-to":L()}],"mask-image-l-from-pos":[{"mask-l-from":re()}],"mask-image-l-to-pos":[{"mask-l-to":re()}],"mask-image-l-from-color":[{"mask-l-from":L()}],"mask-image-l-to-color":[{"mask-l-to":L()}],"mask-image-x-from-pos":[{"mask-x-from":re()}],"mask-image-x-to-pos":[{"mask-x-to":re()}],"mask-image-x-from-color":[{"mask-x-from":L()}],"mask-image-x-to-color":[{"mask-x-to":L()}],"mask-image-y-from-pos":[{"mask-y-from":re()}],"mask-image-y-to-pos":[{"mask-y-to":re()}],"mask-image-y-from-color":[{"mask-y-from":L()}],"mask-image-y-to-color":[{"mask-y-to":L()}],"mask-image-radial":[{"mask-radial":[De,Me]}],"mask-image-radial-from-pos":[{"mask-radial-from":re()}],"mask-image-radial-to-pos":[{"mask-radial-to":re()}],"mask-image-radial-from-color":[{"mask-radial-from":L()}],"mask-image-radial-to-color":[{"mask-radial-to":L()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[ct]}],"mask-image-conic-from-pos":[{"mask-conic-from":re()}],"mask-image-conic-to-pos":[{"mask-conic-to":re()}],"mask-image-conic-from-color":[{"mask-conic-from":L()}],"mask-image-conic-to-color":[{"mask-conic-to":L()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:H()}],"mask-repeat":[{mask:te()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",De,Me]}],filter:[{filter:["","none",De,Me]}],blur:[{blur:oe()}],brightness:[{brightness:[ct,De,Me]}],contrast:[{contrast:[ct,De,Me]}],"drop-shadow":[{"drop-shadow":["","none",x,Zf,Qf]}],"drop-shadow-color":[{"drop-shadow":L()}],grayscale:[{grayscale:["",ct,De,Me]}],"hue-rotate":[{"hue-rotate":[ct,De,Me]}],invert:[{invert:["",ct,De,Me]}],saturate:[{saturate:[ct,De,Me]}],sepia:[{sepia:["",ct,De,Me]}],"backdrop-filter":[{"backdrop-filter":["","none",De,Me]}],"backdrop-blur":[{"backdrop-blur":oe()}],"backdrop-brightness":[{"backdrop-brightness":[ct,De,Me]}],"backdrop-contrast":[{"backdrop-contrast":[ct,De,Me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ct,De,Me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ct,De,Me]}],"backdrop-invert":[{"backdrop-invert":["",ct,De,Me]}],"backdrop-opacity":[{"backdrop-opacity":[ct,De,Me]}],"backdrop-saturate":[{"backdrop-saturate":[ct,De,Me]}],"backdrop-sepia":[{"backdrop-sepia":["",ct,De,Me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",De,Me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ct,"initial",De,Me]}],ease:[{ease:["linear","initial",j,De,Me]}],delay:[{delay:[ct,De,Me]}],animate:[{animate:["none",S,De,Me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,De,Me]}],"perspective-origin":[{"perspective-origin":E()}],rotate:[{rotate:ee()}],"rotate-x":[{"rotate-x":ee()}],"rotate-y":[{"rotate-y":ee()}],"rotate-z":[{"rotate-z":ee()}],scale:[{scale:me()}],"scale-x":[{"scale-x":me()}],"scale-y":[{"scale-y":me()}],"scale-z":[{"scale-z":me()}],"scale-3d":["scale-3d"],skew:[{skew:xe()}],"skew-x":[{"skew-x":xe()}],"skew-y":[{"skew-y":xe()}],transform:[{transform:[De,Me,"","none","gpu","cpu"]}],"transform-origin":[{origin:E()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ue()}],"translate-x":[{"translate-x":ue()}],"translate-y":[{"translate-y":ue()}],"translate-z":[{"translate-z":ue()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De,Me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De,Me]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[ct,du,Ko,ey]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},i6=Lq(a6);function Xe(...e){return i6(st(e))}const Tj=VI("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function fe({className:e,variant:t,size:r,asChild:n=!1,...a}){const i=n?qI:"button";return o.jsx(i,{"data-slot":"button",className:Xe(Tj({variant:t,size:r,className:e})),...a})}function Se({className:e,type:t,...r}){return o.jsx("input",{type:t,"data-slot":"input",className:Xe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}var Pd=FI();const nM=Ct(Pd);var o6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],s6=o6.reduce((e,t)=>{const r=Oj(`Primitive.${t}`),n=w.forwardRef((a,i)=>{const{asChild:s,...c}=a,d=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(d,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),l6="Label",aM=w.forwardRef((e,t)=>o.jsx(s6.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));aM.displayName=l6;var c6=aM;function z({className:e,...t}){return o.jsx(c6,{"data-slot":"label",className:Xe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function tt({className:e,...t}){return o.jsx("div",{"data-slot":"card",className:Xe("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function Nw({className:e,...t}){return o.jsx("div",{"data-slot":"card-header",className:Xe("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function u6({className:e,...t}){return o.jsx("h4",{"data-slot":"card-title",className:Xe("leading-none",e),...t})}function d6({className:e,...t}){return o.jsx("p",{"data-slot":"card-description",className:Xe("text-muted-foreground",e),...t})}function Nh({className:e,...t}){return o.jsx("div",{"data-slot":"card-content",className:Xe("px-6 [&:last-child]:pb-6",e),...t})}function Cw(e,[t,r]){return Math.min(r,Math.max(t,e))}function Pe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function f6(e,t){const r=w.createContext(t),n=i=>{const{children:s,...c}=i,d=w.useMemo(()=>c,Object.values(c));return o.jsx(r.Provider,{value:d,children:s})};n.displayName=e+"Provider";function a(i){const s=w.useContext(r);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function on(e,t=[]){let r=[];function n(i,s){const c=w.createContext(s),d=r.length;r=[...r,s];const f=h=>{const{scope:g,children:x,..._}=h,b=g?.[e]?.[d]||c,v=w.useMemo(()=>_,Object.values(_));return o.jsx(b.Provider,{value:v,children:x})};f.displayName=i+"Provider";function p(h,g){const x=g?.[e]?.[d]||c,_=w.useContext(x);if(_)return _;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[f,p]}const a=()=>{const i=r.map(s=>w.createContext(s));return function(c){const d=c?.[e]||i;return w.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return a.scopeName=e,[n,h6(a,...t)]}function h6(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((c,{useScope:d,scopeName:f})=>{const h=d(i)[`__scope${f}`];return{...c,...h}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}function AC(e){const t=p6(e),r=w.forwardRef((n,a)=>{const{children:i,...s}=n,c=w.Children.toArray(i),d=c.find(g6);if(d){const f=d.props.children,p=c.map(h=>h===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:h);return o.jsx(t,{...s,ref:a,children:w.isValidElement(f)?w.cloneElement(f,void 0,p):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function p6(e){const t=w.forwardRef((r,n)=>{const{children:a,...i}=r;if(w.isValidElement(a)){const s=y6(a),c=v6(i,a.props);return a.type!==w.Fragment&&(c.ref=n?Ai(n,s):s),w.cloneElement(a,c)}return w.Children.count(a)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var m6=Symbol("radix.slottable");function g6(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===m6}function v6(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function y6(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Qp(e){const t=e+"CollectionProvider",[r,n]=on(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),s=b=>{const{scope:v,children:j}=b,S=$.useRef(null),A=$.useRef(new Map).current;return o.jsx(a,{scope:v,itemMap:A,collectionRef:S,children:j})};s.displayName=t;const c=e+"CollectionSlot",d=AC(c),f=$.forwardRef((b,v)=>{const{scope:j,children:S}=b,A=i(c,j),P=lt(v,A.collectionRef);return o.jsx(d,{ref:P,children:S})});f.displayName=c;const p=e+"CollectionItemSlot",h="data-radix-collection-item",g=AC(p),x=$.forwardRef((b,v)=>{const{scope:j,children:S,...A}=b,P=$.useRef(null),E=lt(v,P),O=i(p,j);return $.useEffect(()=>(O.itemMap.set(P,{ref:P,...A}),()=>void O.itemMap.delete(P))),o.jsx(g,{[h]:"",ref:E,children:S})});x.displayName=p;function _(b){const v=i(e+"CollectionConsumer",b);return $.useCallback(()=>{const S=v.collectionRef.current;if(!S)return[];const A=Array.from(S.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((O,C)=>A.indexOf(O.ref.current)-A.indexOf(C.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:s,Slot:f,ItemSlot:x},_,n]}var x6=w.createContext(void 0);function As(e){const t=w.useContext(x6);return e||t||"ltr"}function b6(e){const t=w6(e),r=w.forwardRef((n,a)=>{const{children:i,...s}=n,c=w.Children.toArray(i),d=c.find(j6);if(d){const f=d.props.children,p=c.map(h=>h===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:h);return o.jsx(t,{...s,ref:a,children:w.isValidElement(f)?w.cloneElement(f,void 0,p):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function w6(e){const t=w.forwardRef((r,n)=>{const{children:a,...i}=r;if(w.isValidElement(a)){const s=E6(a),c=S6(i,a.props);return a.type!==w.Fragment&&(c.ref=n?Ai(n,s):s),w.cloneElement(a,c)}return w.Children.count(a)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _6=Symbol("radix.slottable");function j6(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_6}function S6(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function E6(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var N6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],We=N6.reduce((e,t)=>{const r=b6(`Primitive.${t}`),n=w.forwardRef((a,i)=>{const{asChild:s,...c}=a,d=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(d,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function iM(e,t){e&&Pd.flushSync(()=>e.dispatchEvent(t))}function Pr(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...r)=>t.current?.(...r),[])}function C6(e,t=globalThis?.document){const r=Pr(e);w.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var A6="DismissableLayer",Aw="dismissableLayer.update",P6="dismissableLayer.pointerDownOutside",O6="dismissableLayer.focusOutside",PC,oM=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Zp=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:s,onDismiss:c,...d}=e,f=w.useContext(oM),[p,h]=w.useState(null),g=p?.ownerDocument??globalThis?.document,[,x]=w.useState({}),_=lt(t,C=>h(C)),b=Array.from(f.layers),[v]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),j=b.indexOf(v),S=p?b.indexOf(p):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,P=S>=j,E=R6(C=>{const T=C.target,I=[...f.branches].some(R=>R.contains(T));!P||I||(a?.(C),s?.(C),C.defaultPrevented||c?.())},g),O=I6(C=>{const T=C.target;[...f.branches].some(R=>R.contains(T))||(i?.(C),s?.(C),C.defaultPrevented||c?.())},g);return C6(C=>{S===f.layers.size-1&&(n?.(C),!C.defaultPrevented&&c&&(C.preventDefault(),c()))},g),w.useEffect(()=>{if(p)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(PC=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),OC(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=PC)}},[p,g,r,f]),w.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),OC())},[p,f]),w.useEffect(()=>{const C=()=>x({});return document.addEventListener(Aw,C),()=>document.removeEventListener(Aw,C)},[]),o.jsx(We.div,{...d,ref:_,style:{pointerEvents:A?P?"auto":"none":void 0,...e.style},onFocusCapture:Pe(e.onFocusCapture,O.onFocusCapture),onBlurCapture:Pe(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Pe(e.onPointerDownCapture,E.onPointerDownCapture)})});Zp.displayName=A6;var k6="DismissableLayerBranch",T6=w.forwardRef((e,t)=>{const r=w.useContext(oM),n=w.useRef(null),a=lt(t,n);return w.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),o.jsx(We.div,{...e,ref:a})});T6.displayName=k6;function R6(e,t=globalThis?.document){const r=Pr(e),n=w.useRef(!1),a=w.useRef(()=>{});return w.useEffect(()=>{const i=c=>{if(c.target&&!n.current){let d=function(){sM(P6,r,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);n.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function I6(e,t=globalThis?.document){const r=Pr(e),n=w.useRef(!1);return w.useEffect(()=>{const a=i=>{i.target&&!n.current&&sM(O6,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function OC(){const e=new CustomEvent(Aw);document.dispatchEvent(e)}function sM(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?iM(a,i):a.dispatchEvent(i)}var ty=0;function Rj(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??kC()),document.body.insertAdjacentElement("beforeend",e[1]??kC()),ty++,()=>{ty===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ty--}},[])}function kC(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ry="focusScope.autoFocusOnMount",ny="focusScope.autoFocusOnUnmount",TC={bubbles:!1,cancelable:!0},M6="FocusScope",em=w.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...s}=e,[c,d]=w.useState(null),f=Pr(a),p=Pr(i),h=w.useRef(null),g=lt(t,b=>d(b)),x=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(n){let b=function(A){if(x.paused||!c)return;const P=A.target;c.contains(P)?h.current=P:ho(h.current,{select:!0})},v=function(A){if(x.paused||!c)return;const P=A.relatedTarget;P!==null&&(c.contains(P)||ho(h.current,{select:!0}))},j=function(A){if(document.activeElement===document.body)for(const E of A)E.removedNodes.length>0&&ho(c)};document.addEventListener("focusin",b),document.addEventListener("focusout",v);const S=new MutationObserver(j);return c&&S.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",v),S.disconnect()}}},[n,c,x.paused]),w.useEffect(()=>{if(c){IC.add(x);const b=document.activeElement;if(!c.contains(b)){const j=new CustomEvent(ry,TC);c.addEventListener(ry,f),c.dispatchEvent(j),j.defaultPrevented||(D6(B6(lM(c)),{select:!0}),document.activeElement===b&&ho(c))}return()=>{c.removeEventListener(ry,f),setTimeout(()=>{const j=new CustomEvent(ny,TC);c.addEventListener(ny,p),c.dispatchEvent(j),j.defaultPrevented||ho(b??document.body,{select:!0}),c.removeEventListener(ny,p),IC.remove(x)},0)}}},[c,f,p,x]);const _=w.useCallback(b=>{if(!r&&!n||x.paused)return;const v=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,j=document.activeElement;if(v&&j){const S=b.currentTarget,[A,P]=$6(S);A&&P?!b.shiftKey&&j===P?(b.preventDefault(),r&&ho(A,{select:!0})):b.shiftKey&&j===A&&(b.preventDefault(),r&&ho(P,{select:!0})):j===S&&b.preventDefault()}},[r,n,x.paused]);return o.jsx(We.div,{tabIndex:-1,...s,ref:g,onKeyDown:_})});em.displayName=M6;function D6(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ho(n,{select:t}),document.activeElement!==r)return}function $6(e){const t=lM(e),r=RC(t,e),n=RC(t.reverse(),e);return[r,n]}function lM(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function RC(e,t){for(const r of e)if(!L6(r,{upTo:t}))return r}function L6(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function z6(e){return e instanceof HTMLInputElement&&"select"in e}function ho(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&z6(e)&&t&&e.select()}}var IC=F6();function F6(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=MC(e,t),e.unshift(t)},remove(t){e=MC(e,t),e[0]?.resume()}}}function MC(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function B6(e){return e.filter(t=>t.tagName!=="A")}var er=globalThis?.document?w.useLayoutEffect:()=>{},q6=Pj[" useId ".trim().toString()]||(()=>{}),U6=0;function ra(e){const[t,r]=w.useState(q6());return er(()=>{r(n=>n??String(U6++))},[e]),e||(t?`radix-${t}`:"")}const V6=["top","right","bottom","left"],So=Math.min,kn=Math.max,Mh=Math.round,eh=Math.floor,qa=e=>({x:e,y:e}),W6={left:"right",right:"left",bottom:"top",top:"bottom"},H6={start:"end",end:"start"};function Pw(e,t,r){return kn(e,So(t,r))}function ji(e,t){return typeof e=="function"?e(t):e}function Si(e){return e.split("-")[0]}function gc(e){return e.split("-")[1]}function Ij(e){return e==="x"?"y":"x"}function Mj(e){return e==="y"?"height":"width"}const G6=new Set(["top","bottom"]);function Fa(e){return G6.has(Si(e))?"y":"x"}function Dj(e){return Ij(Fa(e))}function K6(e,t,r){r===void 0&&(r=!1);const n=gc(e),a=Dj(e),i=Mj(a);let s=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Dh(s)),[s,Dh(s)]}function Y6(e){const t=Dh(e);return[Ow(e),t,Ow(t)]}function Ow(e){return e.replace(/start|end/g,t=>H6[t])}const DC=["left","right"],$C=["right","left"],X6=["top","bottom"],J6=["bottom","top"];function Q6(e,t,r){switch(e){case"top":case"bottom":return r?t?$C:DC:t?DC:$C;case"left":case"right":return t?X6:J6;default:return[]}}function Z6(e,t,r,n){const a=gc(e);let i=Q6(Si(e),r==="start",n);return a&&(i=i.map(s=>s+"-"+a),t&&(i=i.concat(i.map(Ow)))),i}function Dh(e){return e.replace(/left|right|bottom|top/g,t=>W6[t])}function eU(e){return{top:0,right:0,bottom:0,left:0,...e}}function cM(e){return typeof e!="number"?eU(e):{top:e,right:e,bottom:e,left:e}}function $h(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function LC(e,t,r){let{reference:n,floating:a}=e;const i=Fa(t),s=Dj(t),c=Mj(s),d=Si(t),f=i==="y",p=n.x+n.width/2-a.width/2,h=n.y+n.height/2-a.height/2,g=n[c]/2-a[c]/2;let x;switch(d){case"top":x={x:p,y:n.y-a.height};break;case"bottom":x={x:p,y:n.y+n.height};break;case"right":x={x:n.x+n.width,y:h};break;case"left":x={x:n.x-a.width,y:h};break;default:x={x:n.x,y:n.y}}switch(gc(t)){case"start":x[s]-=g*(r&&f?-1:1);break;case"end":x[s]+=g*(r&&f?-1:1);break}return x}const tU=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:s}=r,c=i.filter(Boolean),d=await(s.isRTL==null?void 0:s.isRTL(t));let f=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:p,y:h}=LC(f,n,d),g=n,x={},_=0;for(let b=0;b<c.length;b++){const{name:v,fn:j}=c[b],{x:S,y:A,data:P,reset:E}=await j({x:p,y:h,initialPlacement:n,placement:g,strategy:a,middlewareData:x,rects:f,platform:s,elements:{reference:e,floating:t}});p=S??p,h=A??h,x={...x,[v]:{...x[v],...P}},E&&_<=50&&(_++,typeof E=="object"&&(E.placement&&(g=E.placement),E.rects&&(f=E.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):E.rects),{x:p,y:h}=LC(f,g,d)),b=-1)}return{x:p,y:h,placement:g,strategy:a,middlewareData:x}};async function $u(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:s,elements:c,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:h="floating",altBoundary:g=!1,padding:x=0}=ji(t,e),_=cM(x),v=c[g?h==="floating"?"reference":"floating":h],j=$h(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:f,rootBoundary:p,strategy:d})),S=h==="floating"?{x:n,y:a,width:s.floating.width,height:s.floating.height}:s.reference,A=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),P=await(i.isElement==null?void 0:i.isElement(A))?await(i.getScale==null?void 0:i.getScale(A))||{x:1,y:1}:{x:1,y:1},E=$h(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:S,offsetParent:A,strategy:d}):S);return{top:(j.top-E.top+_.top)/P.y,bottom:(E.bottom-j.bottom+_.bottom)/P.y,left:(j.left-E.left+_.left)/P.x,right:(E.right-j.right+_.right)/P.x}}const rU=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:s,elements:c,middlewareData:d}=t,{element:f,padding:p=0}=ji(e,t)||{};if(f==null)return{};const h=cM(p),g={x:r,y:n},x=Dj(a),_=Mj(x),b=await s.getDimensions(f),v=x==="y",j=v?"top":"left",S=v?"bottom":"right",A=v?"clientHeight":"clientWidth",P=i.reference[_]+i.reference[x]-g[x]-i.floating[_],E=g[x]-i.reference[x],O=await(s.getOffsetParent==null?void 0:s.getOffsetParent(f));let C=O?O[A]:0;(!C||!await(s.isElement==null?void 0:s.isElement(O)))&&(C=c.floating[A]||i.floating[_]);const T=P/2-E/2,I=C/2-b[_]/2-1,R=So(h[j],I),D=So(h[S],I),B=R,W=C-b[_]-D,Y=C/2-b[_]/2+T,J=Pw(B,Y,W),F=!d.arrow&&gc(a)!=null&&Y!==J&&i.reference[_]/2-(Y<B?R:D)-b[_]/2<0,K=F?Y<B?Y-B:Y-W:0;return{[x]:g[x]+K,data:{[x]:J,centerOffset:Y-J-K,...F&&{alignmentOffset:K}},reset:F}}}),nU=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:s,initialPlacement:c,platform:d,elements:f}=t,{mainAxis:p=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:b=!0,...v}=ji(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const j=Si(a),S=Fa(c),A=Si(c)===c,P=await(d.isRTL==null?void 0:d.isRTL(f.floating)),E=g||(A||!b?[Dh(c)]:Y6(c)),O=_!=="none";!g&&O&&E.push(...Z6(c,b,_,P));const C=[c,...E],T=await $u(t,v),I=[];let R=((n=i.flip)==null?void 0:n.overflows)||[];if(p&&I.push(T[j]),h){const Y=K6(a,s,P);I.push(T[Y[0]],T[Y[1]])}if(R=[...R,{placement:a,overflows:I}],!I.every(Y=>Y<=0)){var D,B;const Y=(((D=i.flip)==null?void 0:D.index)||0)+1,J=C[Y];if(J&&(!(h==="alignment"?S!==Fa(J):!1)||R.every(L=>Fa(L.placement)===S?L.overflows[0]>0:!0)))return{data:{index:Y,overflows:R},reset:{placement:J}};let F=(B=R.filter(K=>K.overflows[0]<=0).sort((K,L)=>K.overflows[1]-L.overflows[1])[0])==null?void 0:B.placement;if(!F)switch(x){case"bestFit":{var W;const K=(W=R.filter(L=>{if(O){const H=Fa(L.placement);return H===S||H==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(H=>H>0).reduce((H,te)=>H+te,0)]).sort((L,H)=>L[1]-H[1])[0])==null?void 0:W[0];K&&(F=K);break}case"initialPlacement":F=c;break}if(a!==F)return{reset:{placement:F}}}return{}}}};function zC(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function FC(e){return V6.some(t=>e[t]>=0)}const aU=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=ji(e,t);switch(n){case"referenceHidden":{const i=await $u(t,{...a,elementContext:"reference"}),s=zC(i,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:FC(s)}}}case"escaped":{const i=await $u(t,{...a,altBoundary:!0}),s=zC(i,r.floating);return{data:{escapedOffsets:s,escaped:FC(s)}}}default:return{}}}}},uM=new Set(["left","top"]);async function iU(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),s=Si(r),c=gc(r),d=Fa(r)==="y",f=uM.has(s)?-1:1,p=i&&d?-1:1,h=ji(t,e);let{mainAxis:g,crossAxis:x,alignmentAxis:_}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return c&&typeof _=="number"&&(x=c==="end"?_*-1:_),d?{x:x*p,y:g*f}:{x:g*f,y:x*p}}const oU=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:s,middlewareData:c}=t,d=await iU(t,e);return s===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:a+d.x,y:i+d.y,data:{...d,placement:s}}}}},sU=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:c={fn:v=>{let{x:j,y:S}=v;return{x:j,y:S}}},...d}=ji(e,t),f={x:r,y:n},p=await $u(t,d),h=Fa(Si(a)),g=Ij(h);let x=f[g],_=f[h];if(i){const v=g==="y"?"top":"left",j=g==="y"?"bottom":"right",S=x+p[v],A=x-p[j];x=Pw(S,x,A)}if(s){const v=h==="y"?"top":"left",j=h==="y"?"bottom":"right",S=_+p[v],A=_-p[j];_=Pw(S,_,A)}const b=c.fn({...t,[g]:x,[h]:_});return{...b,data:{x:b.x-r,y:b.y-n,enabled:{[g]:i,[h]:s}}}}}},lU=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:s}=t,{offset:c=0,mainAxis:d=!0,crossAxis:f=!0}=ji(e,t),p={x:r,y:n},h=Fa(a),g=Ij(h);let x=p[g],_=p[h];const b=ji(c,t),v=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(d){const A=g==="y"?"height":"width",P=i.reference[g]-i.floating[A]+v.mainAxis,E=i.reference[g]+i.reference[A]-v.mainAxis;x<P?x=P:x>E&&(x=E)}if(f){var j,S;const A=g==="y"?"width":"height",P=uM.has(Si(a)),E=i.reference[h]-i.floating[A]+(P&&((j=s.offset)==null?void 0:j[h])||0)+(P?0:v.crossAxis),O=i.reference[h]+i.reference[A]+(P?0:((S=s.offset)==null?void 0:S[h])||0)-(P?v.crossAxis:0);_<E?_=E:_>O&&(_=O)}return{[g]:x,[h]:_}}}},cU=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:s,elements:c}=t,{apply:d=()=>{},...f}=ji(e,t),p=await $u(t,f),h=Si(a),g=gc(a),x=Fa(a)==="y",{width:_,height:b}=i.floating;let v,j;h==="top"||h==="bottom"?(v=h,j=g===(await(s.isRTL==null?void 0:s.isRTL(c.floating))?"start":"end")?"left":"right"):(j=h,v=g==="end"?"top":"bottom");const S=b-p.top-p.bottom,A=_-p.left-p.right,P=So(b-p[v],S),E=So(_-p[j],A),O=!t.middlewareData.shift;let C=P,T=E;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(T=A),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=S),O&&!g){const R=kn(p.left,0),D=kn(p.right,0),B=kn(p.top,0),W=kn(p.bottom,0);x?T=_-2*(R!==0||D!==0?R+D:kn(p.left,p.right)):C=b-2*(B!==0||W!==0?B+W:kn(p.top,p.bottom))}await d({...t,availableWidth:T,availableHeight:C});const I=await s.getDimensions(c.floating);return _!==I.width||b!==I.height?{reset:{rects:!0}}:{}}}};function tm(){return typeof window<"u"}function vc(e){return dM(e)?(e.nodeName||"").toLowerCase():"#document"}function Dn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ya(e){var t;return(t=(dM(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function dM(e){return tm()?e instanceof Node||e instanceof Dn(e).Node:!1}function Na(e){return tm()?e instanceof Element||e instanceof Dn(e).Element:!1}function Wa(e){return tm()?e instanceof HTMLElement||e instanceof Dn(e).HTMLElement:!1}function BC(e){return!tm()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Dn(e).ShadowRoot}const uU=new Set(["inline","contents"]);function Od(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Ca(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!uU.has(a)}const dU=new Set(["table","td","th"]);function fU(e){return dU.has(vc(e))}const hU=[":popover-open",":modal"];function rm(e){return hU.some(t=>{try{return e.matches(t)}catch{return!1}})}const pU=["transform","translate","scale","rotate","perspective"],mU=["transform","translate","scale","rotate","perspective","filter"],gU=["paint","layout","strict","content"];function $j(e){const t=Lj(),r=Na(e)?Ca(e):e;return pU.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||mU.some(n=>(r.willChange||"").includes(n))||gU.some(n=>(r.contain||"").includes(n))}function vU(e){let t=Eo(e);for(;Wa(t)&&!Ll(t);){if($j(t))return t;if(rm(t))return null;t=Eo(t)}return null}function Lj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const yU=new Set(["html","body","#document"]);function Ll(e){return yU.has(vc(e))}function Ca(e){return Dn(e).getComputedStyle(e)}function nm(e){return Na(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Eo(e){if(vc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||BC(e)&&e.host||Ya(e);return BC(t)?t.host:t}function fM(e){const t=Eo(e);return Ll(t)?e.ownerDocument?e.ownerDocument.body:e.body:Wa(t)&&Od(t)?t:fM(t)}function Lu(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=fM(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),s=Dn(a);if(i){const c=kw(s);return t.concat(s,s.visualViewport||[],Od(a)?a:[],c&&r?Lu(c):[])}return t.concat(a,Lu(a,[],r))}function kw(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function hM(e){const t=Ca(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Wa(e),i=a?e.offsetWidth:r,s=a?e.offsetHeight:n,c=Mh(r)!==i||Mh(n)!==s;return c&&(r=i,n=s),{width:r,height:n,$:c}}function zj(e){return Na(e)?e:e.contextElement}function Pl(e){const t=zj(e);if(!Wa(t))return qa(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=hM(t);let s=(i?Mh(r.width):r.width)/n,c=(i?Mh(r.height):r.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const xU=qa(0);function pM(e){const t=Dn(e);return!Lj()||!t.visualViewport?xU:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function bU(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Dn(e)?!1:t}function ys(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=zj(e);let s=qa(1);t&&(n?Na(n)&&(s=Pl(n)):s=Pl(e));const c=bU(i,r,n)?pM(i):qa(0);let d=(a.left+c.x)/s.x,f=(a.top+c.y)/s.y,p=a.width/s.x,h=a.height/s.y;if(i){const g=Dn(i),x=n&&Na(n)?Dn(n):n;let _=g,b=kw(_);for(;b&&n&&x!==_;){const v=Pl(b),j=b.getBoundingClientRect(),S=Ca(b),A=j.left+(b.clientLeft+parseFloat(S.paddingLeft))*v.x,P=j.top+(b.clientTop+parseFloat(S.paddingTop))*v.y;d*=v.x,f*=v.y,p*=v.x,h*=v.y,d+=A,f+=P,_=Dn(b),b=kw(_)}}return $h({width:p,height:h,x:d,y:f})}function am(e,t){const r=nm(e).scrollLeft;return t?t.left+r:ys(Ya(e)).left+r}function mM(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-am(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function wU(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",s=Ya(n),c=t?rm(t.floating):!1;if(n===s||c&&i)return r;let d={scrollLeft:0,scrollTop:0},f=qa(1);const p=qa(0),h=Wa(n);if((h||!h&&!i)&&((vc(n)!=="body"||Od(s))&&(d=nm(n)),Wa(n))){const x=ys(n);f=Pl(n),p.x=x.x+n.clientLeft,p.y=x.y+n.clientTop}const g=s&&!h&&!i?mM(s,d):qa(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-d.scrollLeft*f.x+p.x+g.x,y:r.y*f.y-d.scrollTop*f.y+p.y+g.y}}function _U(e){return Array.from(e.getClientRects())}function jU(e){const t=Ya(e),r=nm(e),n=e.ownerDocument.body,a=kn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=kn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+am(e);const c=-r.scrollTop;return Ca(n).direction==="rtl"&&(s+=kn(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:s,y:c}}const qC=25;function SU(e,t){const r=Dn(e),n=Ya(e),a=r.visualViewport;let i=n.clientWidth,s=n.clientHeight,c=0,d=0;if(a){i=a.width,s=a.height;const p=Lj();(!p||p&&t==="fixed")&&(c=a.offsetLeft,d=a.offsetTop)}const f=am(n);if(f<=0){const p=n.ownerDocument,h=p.body,g=getComputedStyle(h),x=p.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,_=Math.abs(n.clientWidth-h.clientWidth-x);_<=qC&&(i-=_)}else f<=qC&&(i+=f);return{width:i,height:s,x:c,y:d}}const EU=new Set(["absolute","fixed"]);function NU(e,t){const r=ys(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Wa(e)?Pl(e):qa(1),s=e.clientWidth*i.x,c=e.clientHeight*i.y,d=a*i.x,f=n*i.y;return{width:s,height:c,x:d,y:f}}function UC(e,t,r){let n;if(t==="viewport")n=SU(e,r);else if(t==="document")n=jU(Ya(e));else if(Na(t))n=NU(t,r);else{const a=pM(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return $h(n)}function gM(e,t){const r=Eo(e);return r===t||!Na(r)||Ll(r)?!1:Ca(r).position==="fixed"||gM(r,t)}function CU(e,t){const r=t.get(e);if(r)return r;let n=Lu(e,[],!1).filter(c=>Na(c)&&vc(c)!=="body"),a=null;const i=Ca(e).position==="fixed";let s=i?Eo(e):e;for(;Na(s)&&!Ll(s);){const c=Ca(s),d=$j(s);!d&&c.position==="fixed"&&(a=null),(i?!d&&!a:!d&&c.position==="static"&&!!a&&EU.has(a.position)||Od(s)&&!d&&gM(e,s))?n=n.filter(p=>p!==s):a=c,s=Eo(s)}return t.set(e,n),n}function AU(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const s=[...r==="clippingAncestors"?rm(t)?[]:CU(t,this._c):[].concat(r),n],c=s[0],d=s.reduce((f,p)=>{const h=UC(t,p,a);return f.top=kn(h.top,f.top),f.right=So(h.right,f.right),f.bottom=So(h.bottom,f.bottom),f.left=kn(h.left,f.left),f},UC(t,c,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function PU(e){const{width:t,height:r}=hM(e);return{width:t,height:r}}function OU(e,t,r){const n=Wa(t),a=Ya(t),i=r==="fixed",s=ys(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const d=qa(0);function f(){d.x=am(a)}if(n||!n&&!i)if((vc(t)!=="body"||Od(a))&&(c=nm(t)),n){const x=ys(t,!0,i,t);d.x=x.x+t.clientLeft,d.y=x.y+t.clientTop}else a&&f();i&&!n&&a&&f();const p=a&&!n&&!i?mM(a,c):qa(0),h=s.left+c.scrollLeft-d.x-p.x,g=s.top+c.scrollTop-d.y-p.y;return{x:h,y:g,width:s.width,height:s.height}}function ay(e){return Ca(e).position==="static"}function VC(e,t){if(!Wa(e)||Ca(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ya(e)===r&&(r=r.ownerDocument.body),r}function vM(e,t){const r=Dn(e);if(rm(e))return r;if(!Wa(e)){let a=Eo(e);for(;a&&!Ll(a);){if(Na(a)&&!ay(a))return a;a=Eo(a)}return r}let n=VC(e,t);for(;n&&fU(n)&&ay(n);)n=VC(n,t);return n&&Ll(n)&&ay(n)&&!$j(n)?r:n||vU(e)||r}const kU=async function(e){const t=this.getOffsetParent||vM,r=this.getDimensions,n=await r(e.floating);return{reference:OU(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function TU(e){return Ca(e).direction==="rtl"}const RU={convertOffsetParentRelativeRectToViewportRelativeRect:wU,getDocumentElement:Ya,getClippingRect:AU,getOffsetParent:vM,getElementRects:kU,getClientRects:_U,getDimensions:PU,getScale:Pl,isElement:Na,isRTL:TU};function yM(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function IU(e,t){let r=null,n;const a=Ya(e);function i(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function s(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),i();const f=e.getBoundingClientRect(),{left:p,top:h,width:g,height:x}=f;if(c||t(),!g||!x)return;const _=eh(h),b=eh(a.clientWidth-(p+g)),v=eh(a.clientHeight-(h+x)),j=eh(p),A={rootMargin:-_+"px "+-b+"px "+-v+"px "+-j+"px",threshold:kn(0,So(1,d))||1};let P=!0;function E(O){const C=O[0].intersectionRatio;if(C!==d){if(!P)return s();C?s(!1,C):n=setTimeout(()=>{s(!1,1e-7)},1e3)}C===1&&!yM(f,e.getBoundingClientRect())&&s(),P=!1}try{r=new IntersectionObserver(E,{...A,root:a.ownerDocument})}catch{r=new IntersectionObserver(E,A)}r.observe(e)}return s(!0),i}function MU(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,f=zj(e),p=a||i?[...f?Lu(f):[],...Lu(t)]:[];p.forEach(j=>{a&&j.addEventListener("scroll",r,{passive:!0}),i&&j.addEventListener("resize",r)});const h=f&&c?IU(f,r):null;let g=-1,x=null;s&&(x=new ResizeObserver(j=>{let[S]=j;S&&S.target===f&&x&&(x.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var A;(A=x)==null||A.observe(t)})),r()}),f&&!d&&x.observe(f),x.observe(t));let _,b=d?ys(e):null;d&&v();function v(){const j=ys(e);b&&!yM(b,j)&&r(),b=j,_=requestAnimationFrame(v)}return r(),()=>{var j;p.forEach(S=>{a&&S.removeEventListener("scroll",r),i&&S.removeEventListener("resize",r)}),h?.(),(j=x)==null||j.disconnect(),x=null,d&&cancelAnimationFrame(_)}}const DU=oU,$U=sU,LU=nU,zU=cU,FU=aU,WC=rU,BU=lU,qU=(e,t,r)=>{const n=new Map,a={platform:RU,...r},i={...a.platform,_c:n};return tU(e,t,{...a,platform:i})};var UU=typeof document<"u",VU=function(){},Ch=UU?w.useLayoutEffect:VU;function Lh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Lh(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!Lh(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function xM(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function HC(e,t){const r=xM(e);return Math.round(t*r)/r}function iy(e){const t=w.useRef(e);return Ch(()=>{t.current=e}),t}function WU(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:s}={},transform:c=!0,whileElementsMounted:d,open:f}=e,[p,h]=w.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,x]=w.useState(n);Lh(g,n)||x(n);const[_,b]=w.useState(null),[v,j]=w.useState(null),S=w.useCallback(L=>{L!==O.current&&(O.current=L,b(L))},[]),A=w.useCallback(L=>{L!==C.current&&(C.current=L,j(L))},[]),P=i||_,E=s||v,O=w.useRef(null),C=w.useRef(null),T=w.useRef(p),I=d!=null,R=iy(d),D=iy(a),B=iy(f),W=w.useCallback(()=>{if(!O.current||!C.current)return;const L={placement:t,strategy:r,middleware:g};D.current&&(L.platform=D.current),qU(O.current,C.current,L).then(H=>{const te={...H,isPositioned:B.current!==!1};Y.current&&!Lh(T.current,te)&&(T.current=te,Pd.flushSync(()=>{h(te)}))})},[g,t,r,D,B]);Ch(()=>{f===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(L=>({...L,isPositioned:!1})))},[f]);const Y=w.useRef(!1);Ch(()=>(Y.current=!0,()=>{Y.current=!1}),[]),Ch(()=>{if(P&&(O.current=P),E&&(C.current=E),P&&E){if(R.current)return R.current(P,E,W);W()}},[P,E,W,R,I]);const J=w.useMemo(()=>({reference:O,floating:C,setReference:S,setFloating:A}),[S,A]),F=w.useMemo(()=>({reference:P,floating:E}),[P,E]),K=w.useMemo(()=>{const L={position:r,left:0,top:0};if(!F.floating)return L;const H=HC(F.floating,p.x),te=HC(F.floating,p.y);return c?{...L,transform:"translate("+H+"px, "+te+"px)",...xM(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:H,top:te}},[r,c,F.floating,p.x,p.y]);return w.useMemo(()=>({...p,update:W,refs:J,elements:F,floatingStyles:K}),[p,W,J,F,K])}const HU=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?WC({element:n.current,padding:a}).fn(r):{}:n?WC({element:n,padding:a}).fn(r):{}}}},GU=(e,t)=>({...DU(e),options:[e,t]}),KU=(e,t)=>({...$U(e),options:[e,t]}),YU=(e,t)=>({...BU(e),options:[e,t]}),XU=(e,t)=>({...LU(e),options:[e,t]}),JU=(e,t)=>({...zU(e),options:[e,t]}),QU=(e,t)=>({...FU(e),options:[e,t]}),ZU=(e,t)=>({...HU(e),options:[e,t]});var e8="Arrow",bM=w.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return o.jsx(We.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});bM.displayName=e8;var t8=bM;function Fj(e){const[t,r]=w.useState(void 0);return er(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let s,c;if("borderBoxSize"in i){const d=i.borderBoxSize,f=Array.isArray(d)?d[0]:d;s=f.inlineSize,c=f.blockSize}else s=e.offsetWidth,c=e.offsetHeight;r({width:s,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Bj="Popper",[wM,im]=on(Bj),[r8,_M]=wM(Bj),jM=e=>{const{__scopePopper:t,children:r}=e,[n,a]=w.useState(null);return o.jsx(r8,{scope:t,anchor:n,onAnchorChange:a,children:r})};jM.displayName=Bj;var SM="PopperAnchor",EM=w.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=_M(SM,r),s=w.useRef(null),c=lt(t,s),d=w.useRef(null);return w.useEffect(()=>{const f=d.current;d.current=n?.current||s.current,f!==d.current&&i.onAnchorChange(d.current)}),n?null:o.jsx(We.div,{...a,ref:c})});EM.displayName=SM;var qj="PopperContent",[n8,a8]=wM(qj),NM=w.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:s=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:x="optimized",onPlaced:_,...b}=e,v=_M(qj,r),[j,S]=w.useState(null),A=lt(t,re=>S(re)),[P,E]=w.useState(null),O=Fj(P),C=O?.width??0,T=O?.height??0,I=n+(i!=="center"?"-"+i:""),R=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},D=Array.isArray(f)?f:[f],B=D.length>0,W={padding:R,boundary:D.filter(o8),altBoundary:B},{refs:Y,floatingStyles:J,placement:F,isPositioned:K,middlewareData:L}=WU({strategy:"fixed",placement:I,whileElementsMounted:(...re)=>MU(...re,{animationFrame:x==="always"}),elements:{reference:v.anchor},middleware:[GU({mainAxis:a+T,alignmentAxis:s}),d&&KU({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?YU():void 0,...W}),d&&XU({...W}),JU({...W,apply:({elements:re,rects:oe,availableWidth:ee,availableHeight:me})=>{const{width:xe,height:ue}=oe.reference,He=re.floating.style;He.setProperty("--radix-popper-available-width",`${ee}px`),He.setProperty("--radix-popper-available-height",`${me}px`),He.setProperty("--radix-popper-anchor-width",`${xe}px`),He.setProperty("--radix-popper-anchor-height",`${ue}px`)}}),P&&ZU({element:P,padding:c}),s8({arrowWidth:C,arrowHeight:T}),g&&QU({strategy:"referenceHidden",...W})]}),[H,te]=PM(F),q=Pr(_);er(()=>{K&&q?.()},[K,q]);const Q=L.arrow?.x,U=L.arrow?.y,ne=L.arrow?.centerOffset!==0,[se,ve]=w.useState();return er(()=>{j&&ve(window.getComputedStyle(j).zIndex)},[j]),o.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:K?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:se,"--radix-popper-transform-origin":[L.transformOrigin?.x,L.transformOrigin?.y].join(" "),...L.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(n8,{scope:r,placedSide:H,onArrowChange:E,arrowX:Q,arrowY:U,shouldHideArrow:ne,children:o.jsx(We.div,{"data-side":H,"data-align":te,...b,ref:A,style:{...b.style,animation:K?void 0:"none"}})})})});NM.displayName=qj;var CM="PopperArrow",i8={top:"bottom",right:"left",bottom:"top",left:"right"},AM=w.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=a8(CM,n),s=i8[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(t8,{...a,ref:r,style:{...a.style,display:"block"}})})});AM.displayName=CM;function o8(e){return e!==null}var s8=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:a}=t,s=a.arrow?.centerOffset!==0,c=s?0:e.arrowWidth,d=s?0:e.arrowHeight,[f,p]=PM(r),h={start:"0%",center:"50%",end:"100%"}[p],g=(a.arrow?.x??0)+c/2,x=(a.arrow?.y??0)+d/2;let _="",b="";return f==="bottom"?(_=s?h:`${g}px`,b=`${-d}px`):f==="top"?(_=s?h:`${g}px`,b=`${n.floating.height+d}px`):f==="right"?(_=`${-d}px`,b=s?h:`${x}px`):f==="left"&&(_=`${n.floating.width+d}px`,b=s?h:`${x}px`),{data:{x:_,y:b}}}});function PM(e){const[t,r="center"]=e.split("-");return[t,r]}var OM=jM,kM=EM,TM=NM,RM=AM,l8="Portal",om=w.forwardRef((e,t)=>{const{container:r,...n}=e,[a,i]=w.useState(!1);er(()=>i(!0),[]);const s=r||a&&globalThis?.document?.body;return s?nM.createPortal(o.jsx(We.div,{...n,ref:t}),s):null});om.displayName=l8;function c8(e){const t=u8(e),r=w.forwardRef((n,a)=>{const{children:i,...s}=n,c=w.Children.toArray(i),d=c.find(f8);if(d){const f=d.props.children,p=c.map(h=>h===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:h);return o.jsx(t,{...s,ref:a,children:w.isValidElement(f)?w.cloneElement(f,void 0,p):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function u8(e){const t=w.forwardRef((r,n)=>{const{children:a,...i}=r;if(w.isValidElement(a)){const s=p8(a),c=h8(i,a.props);return a.type!==w.Fragment&&(c.ref=n?Ai(n,s):s),w.cloneElement(a,c)}return w.Children.count(a)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var d8=Symbol("radix.slottable");function f8(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===d8}function h8(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function p8(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var m8=Pj[" useInsertionEffect ".trim().toString()]||er;function Aa({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,s]=g8({defaultProp:t,onChange:r}),c=e!==void 0,d=c?e:a;{const p=w.useRef(e!==void 0);w.useEffect(()=>{const h=p.current;h!==c&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,n])}const f=w.useCallback(p=>{if(c){const h=v8(p)?p(e):p;h!==e&&s.current?.(h)}else i(p)},[c,e,i,s]);return[d,f]}function g8({defaultProp:e,onChange:t}){const[r,n]=w.useState(e),a=w.useRef(r),i=w.useRef(t);return m8(()=>{i.current=t},[t]),w.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,n,i]}function v8(e){return typeof e=="function"}function Uj(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var IM=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),y8="VisuallyHidden",x8=w.forwardRef((e,t)=>o.jsx(We.span,{...e,ref:t,style:{...IM,...e.style}}));x8.displayName=y8;var b8=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},il=new WeakMap,th=new WeakMap,rh={},oy=0,MM=function(e){return e&&(e.host||MM(e.parentNode))},w8=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=MM(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},_8=function(e,t,r,n){var a=w8(t,Array.isArray(e)?e:[e]);rh[r]||(rh[r]=new WeakMap);var i=rh[r],s=[],c=new Set,d=new Set(a),f=function(h){!h||c.has(h)||(c.add(h),f(h.parentNode))};a.forEach(f);var p=function(h){!h||d.has(h)||Array.prototype.forEach.call(h.children,function(g){if(c.has(g))p(g);else try{var x=g.getAttribute(n),_=x!==null&&x!=="false",b=(il.get(g)||0)+1,v=(i.get(g)||0)+1;il.set(g,b),i.set(g,v),s.push(g),b===1&&_&&th.set(g,!0),v===1&&g.setAttribute(r,"true"),_||g.setAttribute(n,"true")}catch(j){console.error("aria-hidden: cannot operate on ",g,j)}})};return p(t),c.clear(),oy++,function(){s.forEach(function(h){var g=il.get(h)-1,x=i.get(h)-1;il.set(h,g),i.set(h,x),g||(th.has(h)||h.removeAttribute(n),th.delete(h)),x||h.removeAttribute(r)}),oy--,oy||(il=new WeakMap,il=new WeakMap,th=new WeakMap,rh={})}},Vj=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=b8(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),_8(n,a,r,"aria-hidden")):function(){return null}},za=function(){return za=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},za.apply(this,arguments)};function yc(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function j8(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(p){try{f(n.next(p))}catch(h){s(h)}}function d(p){try{f(n.throw(p))}catch(h){s(h)}}function f(p){p.done?i(p.value):a(p.value).then(c,d)}f((n=n.apply(e,t||[])).next())})}function S8(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Ah="right-scroll-bar-position",Ph="width-before-scroll-bar",E8="with-scroll-bars-hidden",N8="--removed-body-scroll-bar-size";function sy(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function C8(e,t){var r=w.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var A8=typeof window<"u"?w.useLayoutEffect:w.useEffect,GC=new WeakMap;function P8(e,t){var r=C8(null,function(n){return e.forEach(function(a){return sy(a,n)})});return A8(function(){var n=GC.get(r);if(n){var a=new Set(n),i=new Set(e),s=r.current;a.forEach(function(c){i.has(c)||sy(c,null)}),i.forEach(function(c){a.has(c)||sy(c,s)})}GC.set(r,e)},[e]),r}function O8(e){return e}function k8(e,t){t===void 0&&(t=O8);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var s=t(i,n);return r.push(s),function(){r=r.filter(function(c){return c!==s})}},assignSyncMedium:function(i){for(n=!0;r.length;){var s=r;r=[],s.forEach(i)}r={push:function(c){return i(c)},filter:function(){return r}}},assignMedium:function(i){n=!0;var s=[];if(r.length){var c=r;r=[],c.forEach(i),s=r}var d=function(){var p=s;s=[],p.forEach(i)},f=function(){return Promise.resolve().then(d)};f(),r={push:function(p){s.push(p),f()},filter:function(p){return s=s.filter(p),r}}}};return a}function T8(e){e===void 0&&(e={});var t=k8(null);return t.options=za({async:!0,ssr:!1},e),t}var DM=function(e){var t=e.sideCar,r=yc(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return w.createElement(n,za({},r))};DM.isSideCarExport=!0;function R8(e,t){return e.useMedium(t),DM}var $M=T8(),ly=function(){},sm=w.forwardRef(function(e,t){var r=w.useRef(null),n=w.useState({onScrollCapture:ly,onWheelCapture:ly,onTouchMoveCapture:ly}),a=n[0],i=n[1],s=e.forwardProps,c=e.children,d=e.className,f=e.removeScrollBar,p=e.enabled,h=e.shards,g=e.sideCar,x=e.noRelative,_=e.noIsolation,b=e.inert,v=e.allowPinchZoom,j=e.as,S=j===void 0?"div":j,A=e.gapMode,P=yc(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=g,O=P8([r,t]),C=za(za({},P),a);return w.createElement(w.Fragment,null,p&&w.createElement(E,{sideCar:$M,removeScrollBar:f,shards:h,noRelative:x,noIsolation:_,inert:b,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:A}),s?w.cloneElement(w.Children.only(c),za(za({},C),{ref:O})):w.createElement(S,za({},C,{className:d,ref:O}),c))});sm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sm.classNames={fullWidth:Ph,zeroRight:Ah};var I8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function M8(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=I8();return t&&e.setAttribute("nonce",t),e}function D8(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function $8(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var L8=function(){var e=0,t=null;return{add:function(r){e==0&&(t=M8())&&(D8(t,r),$8(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},z8=function(){var e=L8();return function(t,r){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},LM=function(){var e=z8(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},F8={left:0,top:0,right:0,gap:0},cy=function(e){return parseInt(e||"",10)||0},B8=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[cy(r),cy(n),cy(a)]},q8=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return F8;var t=B8(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},U8=LM(),Ol="data-scroll-locked",V8=function(e,t,r,n){var a=e.left,i=e.top,s=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(E8,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(Ol,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ah,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Ph,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Ah," .").concat(Ah,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ph," .").concat(Ph,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ol,`] {
    `).concat(N8,": ").concat(c,`px;
  }
`)},KC=function(){var e=parseInt(document.body.getAttribute(Ol)||"0",10);return isFinite(e)?e:0},W8=function(){w.useEffect(function(){return document.body.setAttribute(Ol,(KC()+1).toString()),function(){var e=KC()-1;e<=0?document.body.removeAttribute(Ol):document.body.setAttribute(Ol,e.toString())}},[])},H8=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;W8();var i=w.useMemo(function(){return q8(a)},[a]);return w.createElement(U8,{styles:V8(i,!t,a,r?"":"!important")})},Tw=!1;if(typeof window<"u")try{var nh=Object.defineProperty({},"passive",{get:function(){return Tw=!0,!0}});window.addEventListener("test",nh,nh),window.removeEventListener("test",nh,nh)}catch{Tw=!1}var ol=Tw?{passive:!1}:!1,G8=function(e){return e.tagName==="TEXTAREA"},zM=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!G8(e)&&r[t]==="visible")},K8=function(e){return zM(e,"overflowY")},Y8=function(e){return zM(e,"overflowX")},YC=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=FM(e,n);if(a){var i=BM(e,n),s=i[1],c=i[2];if(s>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},X8=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},J8=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},FM=function(e,t){return e==="v"?K8(t):Y8(t)},BM=function(e,t){return e==="v"?X8(t):J8(t)},Q8=function(e,t){return e==="h"&&t==="rtl"?-1:1},Z8=function(e,t,r,n,a){var i=Q8(e,window.getComputedStyle(t).direction),s=i*n,c=r.target,d=t.contains(c),f=!1,p=s>0,h=0,g=0;do{if(!c)break;var x=BM(e,c),_=x[0],b=x[1],v=x[2],j=b-v-i*_;(_||j)&&FM(e,c)&&(h+=j,g+=_);var S=c.parentNode;c=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(p&&Math.abs(h)<1||!p&&Math.abs(g)<1)&&(f=!0),f},ah=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},XC=function(e){return[e.deltaX,e.deltaY]},JC=function(e){return e&&"current"in e?e.current:e},eV=function(e,t){return e[0]===t[0]&&e[1]===t[1]},tV=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},rV=0,sl=[];function nV(e){var t=w.useRef([]),r=w.useRef([0,0]),n=w.useRef(),a=w.useState(rV++)[0],i=w.useState(LM)[0],s=w.useRef(e);w.useEffect(function(){s.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var b=S8([e.lockRef.current],(e.shards||[]).map(JC),!0).filter(Boolean);return b.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),b.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var c=w.useCallback(function(b,v){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!s.current.allowPinchZoom;var j=ah(b),S=r.current,A="deltaX"in b?b.deltaX:S[0]-j[0],P="deltaY"in b?b.deltaY:S[1]-j[1],E,O=b.target,C=Math.abs(A)>Math.abs(P)?"h":"v";if("touches"in b&&C==="h"&&O.type==="range")return!1;var T=window.getSelection(),I=T&&T.anchorNode,R=I?I===O||I.contains(O):!1;if(R)return!1;var D=YC(C,O);if(!D)return!0;if(D?E=C:(E=C==="v"?"h":"v",D=YC(C,O)),!D)return!1;if(!n.current&&"changedTouches"in b&&(A||P)&&(n.current=E),!E)return!0;var B=n.current||E;return Z8(B,v,b,B==="h"?A:P)},[]),d=w.useCallback(function(b){var v=b;if(!(!sl.length||sl[sl.length-1]!==i)){var j="deltaY"in v?XC(v):ah(v),S=t.current.filter(function(E){return E.name===v.type&&(E.target===v.target||v.target===E.shadowParent)&&eV(E.delta,j)})[0];if(S&&S.should){v.cancelable&&v.preventDefault();return}if(!S){var A=(s.current.shards||[]).map(JC).filter(Boolean).filter(function(E){return E.contains(v.target)}),P=A.length>0?c(v,A[0]):!s.current.noIsolation;P&&v.cancelable&&v.preventDefault()}}},[]),f=w.useCallback(function(b,v,j,S){var A={name:b,delta:v,target:j,should:S,shadowParent:aV(j)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(P){return P!==A})},1)},[]),p=w.useCallback(function(b){r.current=ah(b),n.current=void 0},[]),h=w.useCallback(function(b){f(b.type,XC(b),b.target,c(b,e.lockRef.current))},[]),g=w.useCallback(function(b){f(b.type,ah(b),b.target,c(b,e.lockRef.current))},[]);w.useEffect(function(){return sl.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:g}),document.addEventListener("wheel",d,ol),document.addEventListener("touchmove",d,ol),document.addEventListener("touchstart",p,ol),function(){sl=sl.filter(function(b){return b!==i}),document.removeEventListener("wheel",d,ol),document.removeEventListener("touchmove",d,ol),document.removeEventListener("touchstart",p,ol)}},[]);var x=e.removeScrollBar,_=e.inert;return w.createElement(w.Fragment,null,_?w.createElement(i,{styles:tV(a)}):null,x?w.createElement(H8,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function aV(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const iV=R8($M,nV);var lm=w.forwardRef(function(e,t){return w.createElement(sm,za({},e,{ref:t,sideCar:iV}))});lm.classNames=sm.classNames;var oV=[" ","Enter","ArrowUp","ArrowDown"],sV=[" ","Enter"],xs="Select",[cm,um,lV]=Qp(xs),[xc]=on(xs,[lV,im]),dm=im(),[cV,Ao]=xc(xs),[uV,dV]=xc(xs),qM=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:s,defaultValue:c,onValueChange:d,dir:f,name:p,autoComplete:h,disabled:g,required:x,form:_}=e,b=dm(t),[v,j]=w.useState(null),[S,A]=w.useState(null),[P,E]=w.useState(!1),O=As(f),[C,T]=Aa({prop:n,defaultProp:a??!1,onChange:i,caller:xs}),[I,R]=Aa({prop:s,defaultProp:c,onChange:d,caller:xs}),D=w.useRef(null),B=v?_||!!v.closest("form"):!0,[W,Y]=w.useState(new Set),J=Array.from(W).map(F=>F.props.value).join(";");return o.jsx(OM,{...b,children:o.jsxs(cV,{required:x,scope:t,trigger:v,onTriggerChange:j,valueNode:S,onValueNodeChange:A,valueNodeHasChildren:P,onValueNodeHasChildrenChange:E,contentId:ra(),value:I,onValueChange:R,open:C,onOpenChange:T,dir:O,triggerPointerDownPosRef:D,disabled:g,children:[o.jsx(cm.Provider,{scope:t,children:o.jsx(uV,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(F=>{Y(K=>new Set(K).add(F))},[]),onNativeOptionRemove:w.useCallback(F=>{Y(K=>{const L=new Set(K);return L.delete(F),L})},[]),children:r})}),B?o.jsxs(uD,{"aria-hidden":!0,required:x,tabIndex:-1,name:p,autoComplete:h,value:I,onChange:F=>R(F.target.value),disabled:g,form:_,children:[I===void 0?o.jsx("option",{value:""}):null,Array.from(W)]},J):null]})})};qM.displayName=xs;var UM="SelectTrigger",VM=w.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=dm(r),s=Ao(UM,r),c=s.disabled||n,d=lt(t,s.onTriggerChange),f=um(r),p=w.useRef("touch"),[h,g,x]=fD(b=>{const v=f().filter(A=>!A.disabled),j=v.find(A=>A.value===s.value),S=hD(v,b,j);S!==void 0&&s.onValueChange(S.value)}),_=b=>{c||(s.onOpenChange(!0),x()),b&&(s.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return o.jsx(kM,{asChild:!0,...i,children:o.jsx(We.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":dD(s.value)?"":void 0,...a,ref:d,onClick:Pe(a.onClick,b=>{b.currentTarget.focus(),p.current!=="mouse"&&_(b)}),onPointerDown:Pe(a.onPointerDown,b=>{p.current=b.pointerType;const v=b.target;v.hasPointerCapture(b.pointerId)&&v.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(_(b),b.preventDefault())}),onKeyDown:Pe(a.onKeyDown,b=>{const v=h.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&g(b.key),!(v&&b.key===" ")&&oV.includes(b.key)&&(_(),b.preventDefault())})})})});VM.displayName=UM;var WM="SelectValue",HM=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:s="",...c}=e,d=Ao(WM,r),{onValueNodeHasChildrenChange:f}=d,p=i!==void 0,h=lt(t,d.onValueNodeChange);return er(()=>{f(p)},[f,p]),o.jsx(We.span,{...c,ref:h,style:{pointerEvents:"none"},children:dD(d.value)?o.jsx(o.Fragment,{children:s}):i})});HM.displayName=WM;var fV="SelectIcon",GM=w.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return o.jsx(We.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});GM.displayName=fV;var hV="SelectPortal",KM=e=>o.jsx(om,{asChild:!0,...e});KM.displayName=hV;var bs="SelectContent",YM=w.forwardRef((e,t)=>{const r=Ao(bs,e.__scopeSelect),[n,a]=w.useState();if(er(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Pd.createPortal(o.jsx(XM,{scope:e.__scopeSelect,children:o.jsx(cm.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),i):null}return o.jsx(JM,{...e,ref:t})});YM.displayName=bs;var xa=10,[XM,Po]=xc(bs),pV="SelectContentImpl",mV=c8("SelectContent.RemoveScroll"),JM=w.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:s,side:c,sideOffset:d,align:f,alignOffset:p,arrowPadding:h,collisionBoundary:g,collisionPadding:x,sticky:_,hideWhenDetached:b,avoidCollisions:v,...j}=e,S=Ao(bs,r),[A,P]=w.useState(null),[E,O]=w.useState(null),C=lt(t,re=>P(re)),[T,I]=w.useState(null),[R,D]=w.useState(null),B=um(r),[W,Y]=w.useState(!1),J=w.useRef(!1);w.useEffect(()=>{if(A)return Vj(A)},[A]),Rj();const F=w.useCallback(re=>{const[oe,...ee]=B().map(ue=>ue.ref.current),[me]=ee.slice(-1),xe=document.activeElement;for(const ue of re)if(ue===xe||(ue?.scrollIntoView({block:"nearest"}),ue===oe&&E&&(E.scrollTop=0),ue===me&&E&&(E.scrollTop=E.scrollHeight),ue?.focus(),document.activeElement!==xe))return},[B,E]),K=w.useCallback(()=>F([T,A]),[F,T,A]);w.useEffect(()=>{W&&K()},[W,K]);const{onOpenChange:L,triggerPointerDownPosRef:H}=S;w.useEffect(()=>{if(A){let re={x:0,y:0};const oe=me=>{re={x:Math.abs(Math.round(me.pageX)-(H.current?.x??0)),y:Math.abs(Math.round(me.pageY)-(H.current?.y??0))}},ee=me=>{re.x<=10&&re.y<=10?me.preventDefault():A.contains(me.target)||L(!1),document.removeEventListener("pointermove",oe),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",ee,{capture:!0})}}},[A,L,H]),w.useEffect(()=>{const re=()=>L(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[L]);const[te,q]=fD(re=>{const oe=B().filter(xe=>!xe.disabled),ee=oe.find(xe=>xe.ref.current===document.activeElement),me=hD(oe,re,ee);me&&setTimeout(()=>me.ref.current.focus())}),Q=w.useCallback((re,oe,ee)=>{const me=!J.current&&!ee;(S.value!==void 0&&S.value===oe||me)&&(I(re),me&&(J.current=!0))},[S.value]),U=w.useCallback(()=>A?.focus(),[A]),ne=w.useCallback((re,oe,ee)=>{const me=!J.current&&!ee;(S.value!==void 0&&S.value===oe||me)&&D(re)},[S.value]),se=n==="popper"?Rw:QM,ve=se===Rw?{side:c,sideOffset:d,align:f,alignOffset:p,arrowPadding:h,collisionBoundary:g,collisionPadding:x,sticky:_,hideWhenDetached:b,avoidCollisions:v}:{};return o.jsx(XM,{scope:r,content:A,viewport:E,onViewportChange:O,itemRefCallback:Q,selectedItem:T,onItemLeave:U,itemTextRefCallback:ne,focusSelectedItem:K,selectedItemText:R,position:n,isPositioned:W,searchRef:te,children:o.jsx(lm,{as:mV,allowPinchZoom:!0,children:o.jsx(em,{asChild:!0,trapped:S.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:Pe(a,re=>{S.trigger?.focus({preventScroll:!0}),re.preventDefault()}),children:o.jsx(Zp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:o.jsx(se,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:re=>re.preventDefault(),...j,...ve,onPlaced:()=>Y(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:Pe(j.onKeyDown,re=>{const oe=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!oe&&re.key.length===1&&q(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let me=B().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(re.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const xe=re.target,ue=me.indexOf(xe);me=me.slice(ue+1)}setTimeout(()=>F(me)),re.preventDefault()}})})})})})})});JM.displayName=pV;var gV="SelectItemAlignedPosition",QM=w.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Ao(bs,r),s=Po(bs,r),[c,d]=w.useState(null),[f,p]=w.useState(null),h=lt(t,C=>p(C)),g=um(r),x=w.useRef(!1),_=w.useRef(!0),{viewport:b,selectedItem:v,selectedItemText:j,focusSelectedItem:S}=s,A=w.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&f&&b&&v&&j){const C=i.trigger.getBoundingClientRect(),T=f.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),R=j.getBoundingClientRect();if(i.dir!=="rtl"){const xe=R.left-T.left,ue=I.left-xe,He=C.left-ue,Fe=C.width+He,ut=Math.max(Fe,T.width),vt=window.innerWidth-xa,yt=Cw(ue,[xa,Math.max(xa,vt-ut)]);c.style.minWidth=Fe+"px",c.style.left=yt+"px"}else{const xe=T.right-R.right,ue=window.innerWidth-I.right-xe,He=window.innerWidth-C.right-ue,Fe=C.width+He,ut=Math.max(Fe,T.width),vt=window.innerWidth-xa,yt=Cw(ue,[xa,Math.max(xa,vt-ut)]);c.style.minWidth=Fe+"px",c.style.right=yt+"px"}const D=g(),B=window.innerHeight-xa*2,W=b.scrollHeight,Y=window.getComputedStyle(f),J=parseInt(Y.borderTopWidth,10),F=parseInt(Y.paddingTop,10),K=parseInt(Y.borderBottomWidth,10),L=parseInt(Y.paddingBottom,10),H=J+F+W+L+K,te=Math.min(v.offsetHeight*5,H),q=window.getComputedStyle(b),Q=parseInt(q.paddingTop,10),U=parseInt(q.paddingBottom,10),ne=C.top+C.height/2-xa,se=B-ne,ve=v.offsetHeight/2,re=v.offsetTop+ve,oe=J+F+re,ee=H-oe;if(oe<=ne){const xe=D.length>0&&v===D[D.length-1].ref.current;c.style.bottom="0px";const ue=f.clientHeight-b.offsetTop-b.offsetHeight,He=Math.max(se,ve+(xe?U:0)+ue+K),Fe=oe+He;c.style.height=Fe+"px"}else{const xe=D.length>0&&v===D[0].ref.current;c.style.top="0px";const He=Math.max(ne,J+b.offsetTop+(xe?Q:0)+ve)+ee;c.style.height=He+"px",b.scrollTop=oe-ne+b.offsetTop}c.style.margin=`${xa}px 0`,c.style.minHeight=te+"px",c.style.maxHeight=B+"px",n?.(),requestAnimationFrame(()=>x.current=!0)}},[g,i.trigger,i.valueNode,c,f,b,v,j,i.dir,n]);er(()=>A(),[A]);const[P,E]=w.useState();er(()=>{f&&E(window.getComputedStyle(f).zIndex)},[f]);const O=w.useCallback(C=>{C&&_.current===!0&&(A(),S?.(),_.current=!1)},[A,S]);return o.jsx(yV,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:x,onScrollButtonChange:O,children:o.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:o.jsx(We.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});QM.displayName=gV;var vV="SelectPopperPosition",Rw=w.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=xa,...i}=e,s=dm(r);return o.jsx(TM,{...s,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Rw.displayName=vV;var[yV,Wj]=xc(bs,{}),Iw="SelectViewport",ZM=w.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Po(Iw,r),s=Wj(Iw,r),c=lt(t,i.onViewportChange),d=w.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(cm.Slot,{scope:r,children:o.jsx(We.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Pe(a.onScroll,f=>{const p=f.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:g}=s;if(g?.current&&h){const x=Math.abs(d.current-p.scrollTop);if(x>0){const _=window.innerHeight-xa*2,b=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),j=Math.max(b,v);if(j<_){const S=j+x,A=Math.min(_,S),P=S-A;h.style.height=A+"px",h.style.bottom==="0px"&&(p.scrollTop=P>0?P:0,h.style.justifyContent="flex-end")}}}d.current=p.scrollTop})})})]})});ZM.displayName=Iw;var eD="SelectGroup",[xV,bV]=xc(eD),wV=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=ra();return o.jsx(xV,{scope:r,id:a,children:o.jsx(We.div,{role:"group","aria-labelledby":a,...n,ref:t})})});wV.displayName=eD;var tD="SelectLabel",_V=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=bV(tD,r);return o.jsx(We.div,{id:a.id,...n,ref:t})});_V.displayName=tD;var zh="SelectItem",[jV,rD]=xc(zh),nD=w.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...s}=e,c=Ao(zh,r),d=Po(zh,r),f=c.value===n,[p,h]=w.useState(i??""),[g,x]=w.useState(!1),_=lt(t,S=>d.itemRefCallback?.(S,n,a)),b=ra(),v=w.useRef("touch"),j=()=>{a||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(jV,{scope:r,value:n,disabled:a,textId:b,isSelected:f,onItemTextChange:w.useCallback(S=>{h(A=>A||(S?.textContent??"").trim())},[]),children:o.jsx(cm.ItemSlot,{scope:r,value:n,disabled:a,textValue:p,children:o.jsx(We.div,{role:"option","aria-labelledby":b,"data-highlighted":g?"":void 0,"aria-selected":f&&g,"data-state":f?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...s,ref:_,onFocus:Pe(s.onFocus,()=>x(!0)),onBlur:Pe(s.onBlur,()=>x(!1)),onClick:Pe(s.onClick,()=>{v.current!=="mouse"&&j()}),onPointerUp:Pe(s.onPointerUp,()=>{v.current==="mouse"&&j()}),onPointerDown:Pe(s.onPointerDown,S=>{v.current=S.pointerType}),onPointerMove:Pe(s.onPointerMove,S=>{v.current=S.pointerType,a?d.onItemLeave?.():v.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Pe(s.onPointerLeave,S=>{S.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:Pe(s.onKeyDown,S=>{d.searchRef?.current!==""&&S.key===" "||(sV.includes(S.key)&&j(),S.key===" "&&S.preventDefault())})})})})});nD.displayName=zh;var wu="SelectItemText",aD=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,s=Ao(wu,r),c=Po(wu,r),d=rD(wu,r),f=dV(wu,r),[p,h]=w.useState(null),g=lt(t,j=>h(j),d.onItemTextChange,j=>c.itemTextRefCallback?.(j,d.value,d.disabled)),x=p?.textContent,_=w.useMemo(()=>o.jsx("option",{value:d.value,disabled:d.disabled,children:x},d.value),[d.disabled,d.value,x]),{onNativeOptionAdd:b,onNativeOptionRemove:v}=f;return er(()=>(b(_),()=>v(_)),[b,v,_]),o.jsxs(o.Fragment,{children:[o.jsx(We.span,{id:d.textId,...i,ref:g}),d.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Pd.createPortal(i.children,s.valueNode):null]})});aD.displayName=wu;var iD="SelectItemIndicator",oD=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return rD(iD,r).isSelected?o.jsx(We.span,{"aria-hidden":!0,...n,ref:t}):null});oD.displayName=iD;var Mw="SelectScrollUpButton",sD=w.forwardRef((e,t)=>{const r=Po(Mw,e.__scopeSelect),n=Wj(Mw,e.__scopeSelect),[a,i]=w.useState(!1),s=lt(t,n.onScrollButtonChange);return er(()=>{if(r.viewport&&r.isPositioned){let c=function(){const f=d.scrollTop>0;i(f)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?o.jsx(cD,{...e,ref:s,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});sD.displayName=Mw;var Dw="SelectScrollDownButton",lD=w.forwardRef((e,t)=>{const r=Po(Dw,e.__scopeSelect),n=Wj(Dw,e.__scopeSelect),[a,i]=w.useState(!1),s=lt(t,n.onScrollButtonChange);return er(()=>{if(r.viewport&&r.isPositioned){let c=function(){const f=d.scrollHeight-d.clientHeight,p=Math.ceil(d.scrollTop)<f;i(p)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?o.jsx(cD,{...e,ref:s,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});lD.displayName=Dw;var cD=w.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Po("SelectScrollButton",r),s=w.useRef(null),c=um(r),d=w.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return w.useEffect(()=>()=>d(),[d]),er(()=>{c().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),o.jsx(We.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Pe(a.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:Pe(a.onPointerMove,()=>{i.onItemLeave?.(),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:Pe(a.onPointerLeave,()=>{d()})})}),SV="SelectSeparator",EV=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(We.div,{"aria-hidden":!0,...n,ref:t})});EV.displayName=SV;var $w="SelectArrow",NV=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=dm(r),i=Ao($w,r),s=Po($w,r);return i.open&&s.position==="popper"?o.jsx(RM,{...a,...n,ref:t}):null});NV.displayName=$w;var CV="SelectBubbleInput",uD=w.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=w.useRef(null),i=lt(n,a),s=Uj(t);return w.useEffect(()=>{const c=a.current;if(!c)return;const d=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(s!==t&&p){const h=new Event("change",{bubbles:!0});p.call(c,t),c.dispatchEvent(h)}},[s,t]),o.jsx(We.select,{...r,style:{...IM,...r.style},ref:i,defaultValue:t})});uD.displayName=CV;function dD(e){return e===""||e===void 0}function fD(e){const t=Pr(e),r=w.useRef(""),n=w.useRef(0),a=w.useCallback(s=>{const c=r.current+s;t(c),(function d(f){r.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>d(""),1e3))})(c)},[t]),i=w.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function hD(e,t,r){const a=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let s=AV(e,Math.max(i,0));a.length===1&&(s=s.filter(f=>f!==r));const d=s.find(f=>f.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function AV(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var PV=qM,OV=VM,kV=HM,TV=GM,RV=KM,IV=YM,MV=ZM,DV=nD,$V=aD,LV=oD,zV=sD,FV=lD;/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qV=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),QC=e=>{const t=qV(e);return t.charAt(0).toUpperCase()+t.slice(1)},pD=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...c},d)=>w.createElement("svg",{ref:d,...UV,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:pD("lucide",a),...c},[...s.map(([f,p])=>w.createElement(f,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(e,t)=>{const r=w.forwardRef(({className:n,...a},i)=>w.createElement(VV,{ref:i,iconNode:t,className:pD(`lucide-${BV(QC(e))}`,`lucide-${e}`,n),...a}));return r.displayName=QC(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Lw=Ue("activity",WV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],hs=Ue("bot",HV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],KV=Ue("briefcase",GV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],zl=Ue("building-2",YV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],mD=Ue("calendar-clock",XV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],mi=Ue("calendar",JV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gD=Ue("check",QV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],fm=Ue("chevron-down",ZV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eW=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Hj=Ue("chevron-left",eW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Fh=Ue("chevron-right",tW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],vD=Ue("chevron-up",rW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],yD=Ue("circle-alert",nW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zw=Ue("circle-check-big",aW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Fw=Ue("circle-x",iW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sW=Ue("circle",oW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Oh=Ue("clock",lW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],uW=Ue("database",cW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],kl=Ue("dollar-sign",dW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]],xD=Ue("door-open",fW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Cu=Ue("download",hW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],mW=Ue("droplet",pW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],vW=Ue("ellipsis-vertical",gW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xW=Ue("eye",yW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],No=Ue("file-text",bW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],_W=Ue("heart",wW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],SW=Ue("image",jW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],lr=Ue("loader-circle",EW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],CW=Ue("lock",NW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],uy=Ue("log-out",AW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Gj=Ue("mail",PW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Co=Ue("map-pin",OW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],TW=Ue("menu",kW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],IW=Ue("message-circle",RW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Kj=Ue("message-square",MW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],$W=Ue("paperclip",DW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LW=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Oo=Ue("pencil",LW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zW=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Bw=Ue("phone",zW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],cr=Ue("plus",FW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],bD=Ue("refresh-cw",BW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],UW=Ue("ruler",qW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Gn=Ue("save",VW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],ps=Ue("search",WW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HW=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],wD=Ue("send",HW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],KW=Ue("settings",GW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],ZC=Ue("stethoscope",YW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],_D=Ue("tag",XW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],QW=Ue("thermometer",JW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Pi=Ue("trash-2",ZW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],tH=Ue("trending-up",eH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],nH=Ue("triangle-alert",rH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],eA=Ue("upload",aH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],jD=Ue("user-cog",iH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hm=Ue("user",oH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],pm=Ue("users",sH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]],cH=Ue("weight",lH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],dH=Ue("wind",uH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bo=Ue("x",fH);function ft({...e}){return o.jsx(PV,{"data-slot":"select",...e})}function ht({...e}){return o.jsx(kV,{"data-slot":"select-value",...e})}function pt({className:e,size:t="default",children:r,...n}){return o.jsxs(OV,{"data-slot":"select-trigger","data-size":t,className:Xe("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,o.jsx(TV,{asChild:!0,children:o.jsx(fm,{className:"size-4 opacity-50"})})]})}function mt({className:e,children:t,position:r="popper",...n}){return o.jsx(RV,{children:o.jsxs(IV,{"data-slot":"select-content",className:Xe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-[70] max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(hH,{}),o.jsx(MV,{className:Xe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),o.jsx(pH,{})]})})}function Ae({className:e,children:t,...r}){return o.jsxs(DV,{"data-slot":"select-item",className:Xe("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[o.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:o.jsx(LV,{children:o.jsx(gD,{className:"size-4"})})}),o.jsx($V,{children:t})]})}function hH({className:e,...t}){return o.jsx(zV,{"data-slot":"select-scroll-up-button",className:Xe("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(vD,{className:"size-4"})})}function pH({className:e,...t}){return o.jsx(FV,{"data-slot":"select-scroll-down-button",className:Xe("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(fm,{className:"size-4"})})}function mH(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const gH=e=>{switch(e){case"success":return xH;case"info":return wH;case"warning":return bH;case"error":return _H;default:return null}},vH=Array(12).fill(0),yH=({visible:e,className:t})=>$.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},$.createElement("div",{className:"sonner-spinner"},vH.map((r,n)=>$.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),xH=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),bH=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),wH=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),_H=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),jH=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},$.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),SH=()=>{const[e,t]=$.useState(document.hidden);return $.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let qw=1;class EH{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...a}=t,i=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:qw++,s=this.toasts.find(d=>d.id===i),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...t,id:i,title:n}),{...d,...t,id:i,dismissible:c,title:n}):d):this.addToast({title:n,...a,dismissible:c,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,s;const c=a.then(async f=>{if(s=["resolve",f],$.isValidElement(f))i=!1,this.create({id:n,type:"default",message:f});else if(CH(f)&&!f.ok){i=!1;const h=typeof r.error=="function"?await r.error(`HTTP error! status: ${f.status}`):r.error,g=typeof r.description=="function"?await r.description(`HTTP error! status: ${f.status}`):r.description,_=typeof h=="object"&&!$.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:g,..._})}else if(f instanceof Error){i=!1;const h=typeof r.error=="function"?await r.error(f):r.error,g=typeof r.description=="function"?await r.description(f):r.description,_=typeof h=="object"&&!$.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:g,..._})}else if(r.success!==void 0){i=!1;const h=typeof r.success=="function"?await r.success(f):r.success,g=typeof r.description=="function"?await r.description(f):r.description,_=typeof h=="object"&&!$.isValidElement(h)?h:{message:h};this.create({id:n,type:"success",description:g,..._})}}).catch(async f=>{if(s=["reject",f],r.error!==void 0){i=!1;const p=typeof r.error=="function"?await r.error(f):r.error,h=typeof r.description=="function"?await r.description(f):r.description,x=typeof p=="object"&&!$.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:h,...x})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((f,p)=>c.then(()=>s[0]==="reject"?p(s[1]):f(s[1])).catch(p));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(t,r)=>{const n=r?.id||qw++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const gn=new EH,NH=(e,t)=>{const r=t?.id||qw++;return gn.addToast({title:e,...t,id:r}),r},CH=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",AH=NH,PH=()=>gn.toasts,OH=()=>gn.getActiveToasts(),de=Object.assign(AH,{success:gn.success,info:gn.info,warning:gn.warning,error:gn.error,custom:gn.custom,message:gn.message,promise:gn.promise,dismiss:gn.dismiss,loading:gn.loading},{getHistory:PH,getToasts:OH});mH("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function ih(e){return e.label!==void 0}const kH=3,TH="24px",RH="16px",tA=4e3,IH=356,MH=14,DH=45,$H=200;function La(...e){return e.filter(Boolean).join(" ")}function LH(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const zH=e=>{var t,r,n,a,i,s,c,d,f;const{invert:p,toast:h,unstyled:g,interacting:x,setHeights:_,visibleToasts:b,heights:v,index:j,toasts:S,expanded:A,removeToast:P,defaultRichColors:E,closeButton:O,style:C,cancelButtonStyle:T,actionButtonStyle:I,className:R="",descriptionClassName:D="",duration:B,position:W,gap:Y,expandByDefault:J,classNames:F,icons:K,closeButtonAriaLabel:L="Close toast"}=e,[H,te]=$.useState(null),[q,Q]=$.useState(null),[U,ne]=$.useState(!1),[se,ve]=$.useState(!1),[re,oe]=$.useState(!1),[ee,me]=$.useState(!1),[xe,ue]=$.useState(!1),[He,Fe]=$.useState(0),[ut,vt]=$.useState(0),yt=$.useRef(h.duration||B||tA),tr=$.useRef(null),kt=$.useRef(null),dr=j===0,Gt=j+1<=b,G=h.type,pe=h.dismissible!==!1,ke=h.className||"",Le=h.descriptionClassName||"",qe=$.useMemo(()=>v.findIndex(rt=>rt.toastId===h.id)||0,[v,h.id]),rr=$.useMemo(()=>{var rt;return(rt=h.closeButton)!=null?rt:O},[h.closeButton,O]),le=$.useMemo(()=>h.duration||B||tA,[h.duration,B]),Ve=$.useRef(0),ot=$.useRef(0),bt=$.useRef(0),wt=$.useRef(null),[nr,Qr]=W.split("-"),xn=$.useMemo(()=>v.reduce((rt,Jt,fr)=>fr>=qe?rt:rt+Jt.height,0),[v,qe]),Ta=SH(),Za=h.invert||p,ei=G==="loading";ot.current=$.useMemo(()=>qe*Y+xn,[qe,xn]),$.useEffect(()=>{yt.current=le},[le]),$.useEffect(()=>{ne(!0)},[]),$.useEffect(()=>{const rt=kt.current;if(rt){const Jt=rt.getBoundingClientRect().height;return vt(Jt),_(fr=>[{toastId:h.id,height:Jt,position:h.position},...fr]),()=>_(fr=>fr.filter(Ur=>Ur.toastId!==h.id))}},[_,h.id]),$.useLayoutEffect(()=>{if(!U)return;const rt=kt.current,Jt=rt.style.height;rt.style.height="auto";const fr=rt.getBoundingClientRect().height;rt.style.height=Jt,vt(fr),_(Ur=>Ur.find(ar=>ar.toastId===h.id)?Ur.map(ar=>ar.toastId===h.id?{...ar,height:fr}:ar):[{toastId:h.id,height:fr,position:h.position},...Ur])},[U,h.title,h.description,_,h.id,h.jsx,h.action,h.cancel]);const Zr=$.useCallback(()=>{ve(!0),Fe(ot.current),_(rt=>rt.filter(Jt=>Jt.toastId!==h.id)),setTimeout(()=>{P(h)},$H)},[h,P,_,ot]);$.useEffect(()=>{if(h.promise&&G==="loading"||h.duration===1/0||h.type==="loading")return;let rt;return A||x||Ta?(()=>{if(bt.current<Ve.current){const Ur=new Date().getTime()-Ve.current;yt.current=yt.current-Ur}bt.current=new Date().getTime()})():(()=>{yt.current!==1/0&&(Ve.current=new Date().getTime(),rt=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),Zr()},yt.current))})(),()=>clearTimeout(rt)},[A,x,h,G,Ta,Zr]),$.useEffect(()=>{h.delete&&(Zr(),h.onDismiss==null||h.onDismiss.call(h,h))},[Zr,h.delete]);function ti(){var rt;if(K?.loading){var Jt;return $.createElement("div",{className:La(F?.loader,h==null||(Jt=h.classNames)==null?void 0:Jt.loader,"sonner-loader"),"data-visible":G==="loading"},K.loading)}return $.createElement(yH,{className:La(F?.loader,h==null||(rt=h.classNames)==null?void 0:rt.loader),visible:G==="loading"})}const zn=h.icon||K?.[G]||gH(G);var ln,ri;return $.createElement("li",{tabIndex:0,ref:kt,className:La(R,ke,F?.toast,h==null||(t=h.classNames)==null?void 0:t.toast,F?.default,F?.[G],h==null||(r=h.classNames)==null?void 0:r[G]),"data-sonner-toast":"","data-rich-colors":(ln=h.richColors)!=null?ln:E,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":U,"data-promise":!!h.promise,"data-swiped":xe,"data-removed":se,"data-visible":Gt,"data-y-position":nr,"data-x-position":Qr,"data-index":j,"data-front":dr,"data-swiping":re,"data-dismissible":pe,"data-type":G,"data-invert":Za,"data-swipe-out":ee,"data-swipe-direction":q,"data-expanded":!!(A||J&&U),"data-testid":h.testId,style:{"--index":j,"--toasts-before":j,"--z-index":S.length-j,"--offset":`${se?He:ot.current}px`,"--initial-height":J?"auto":`${ut}px`,...C,...h.style},onDragEnd:()=>{oe(!1),te(null),wt.current=null},onPointerDown:rt=>{rt.button!==2&&(ei||!pe||(tr.current=new Date,Fe(ot.current),rt.target.setPointerCapture(rt.pointerId),rt.target.tagName!=="BUTTON"&&(oe(!0),wt.current={x:rt.clientX,y:rt.clientY})))},onPointerUp:()=>{var rt,Jt,fr;if(ee||!pe)return;wt.current=null;const Ur=Number(((rt=kt.current)==null?void 0:rt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ui=Number(((Jt=kt.current)==null?void 0:Jt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ar=new Date().getTime()-((fr=tr.current)==null?void 0:fr.getTime()),_r=H==="x"?Ur:Ui,Vi=Math.abs(_r)/ar;if(Math.abs(_r)>=DH||Vi>.11){Fe(ot.current),h.onDismiss==null||h.onDismiss.call(h,h),Q(H==="x"?Ur>0?"right":"left":Ui>0?"down":"up"),Zr(),me(!0);return}else{var $r,bn;($r=kt.current)==null||$r.style.setProperty("--swipe-amount-x","0px"),(bn=kt.current)==null||bn.style.setProperty("--swipe-amount-y","0px")}ue(!1),oe(!1),te(null)},onPointerMove:rt=>{var Jt,fr,Ur;if(!wt.current||!pe||((Jt=window.getSelection())==null?void 0:Jt.toString().length)>0)return;const ar=rt.clientY-wt.current.y,_r=rt.clientX-wt.current.x;var Vi;const $r=(Vi=e.swipeDirections)!=null?Vi:LH(W);!H&&(Math.abs(_r)>1||Math.abs(ar)>1)&&te(Math.abs(_r)>Math.abs(ar)?"x":"y");let bn={x:0,y:0};const Wi=Fn=>1/(1.5+Math.abs(Fn)/20);if(H==="y"){if($r.includes("top")||$r.includes("bottom"))if($r.includes("top")&&ar<0||$r.includes("bottom")&&ar>0)bn.y=ar;else{const Fn=ar*Wi(ar);bn.y=Math.abs(Fn)<Math.abs(ar)?Fn:ar}}else if(H==="x"&&($r.includes("left")||$r.includes("right")))if($r.includes("left")&&_r<0||$r.includes("right")&&_r>0)bn.x=_r;else{const Fn=_r*Wi(_r);bn.x=Math.abs(Fn)<Math.abs(_r)?Fn:_r}(Math.abs(bn.x)>0||Math.abs(bn.y)>0)&&ue(!0),(fr=kt.current)==null||fr.style.setProperty("--swipe-amount-x",`${bn.x}px`),(Ur=kt.current)==null||Ur.style.setProperty("--swipe-amount-y",`${bn.y}px`)}},rr&&!h.jsx&&G!=="loading"?$.createElement("button",{"aria-label":L,"data-disabled":ei,"data-close-button":!0,onClick:ei||!pe?()=>{}:()=>{Zr(),h.onDismiss==null||h.onDismiss.call(h,h)},className:La(F?.closeButton,h==null||(n=h.classNames)==null?void 0:n.closeButton)},(ri=K?.close)!=null?ri:jH):null,(G||h.icon||h.promise)&&h.icon!==null&&(K?.[G]!==null||h.icon)?$.createElement("div",{"data-icon":"",className:La(F?.icon,h==null||(a=h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||ti():null,h.type!=="loading"?zn:null):null,$.createElement("div",{"data-content":"",className:La(F?.content,h==null||(i=h.classNames)==null?void 0:i.content)},$.createElement("div",{"data-title":"",className:La(F?.title,h==null||(s=h.classNames)==null?void 0:s.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?$.createElement("div",{"data-description":"",className:La(D,Le,F?.description,h==null||(c=h.classNames)==null?void 0:c.description)},typeof h.description=="function"?h.description():h.description):null),$.isValidElement(h.cancel)?h.cancel:h.cancel&&ih(h.cancel)?$.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||T,onClick:rt=>{ih(h.cancel)&&pe&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,rt),Zr())},className:La(F?.cancelButton,h==null||(d=h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,$.isValidElement(h.action)?h.action:h.action&&ih(h.action)?$.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||I,onClick:rt=>{ih(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,rt),!rt.defaultPrevented&&Zr())},className:La(F?.actionButton,h==null||(f=h.classNames)==null?void 0:f.actionButton)},h.action.label):null)};function rA(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function FH(e,t){const r={};return[e,t].forEach((n,a)=>{const i=a===1,s=i?"--mobile-offset":"--offset",c=i?RH:TH;function d(f){["top","right","bottom","left"].forEach(p=>{r[`${s}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(f=>{n[f]===void 0?r[`${s}-${f}`]=c:r[`${s}-${f}`]=typeof n[f]=="number"?`${n[f]}px`:n[f]}):d(c)}),r}const BH=$.forwardRef(function(t,r){const{id:n,invert:a,position:i="bottom-right",hotkey:s=["altKey","KeyT"],expand:c,closeButton:d,className:f,offset:p,mobileOffset:h,theme:g="light",richColors:x,duration:_,style:b,visibleToasts:v=kH,toastOptions:j,dir:S=rA(),gap:A=MH,icons:P,containerAriaLabel:E="Notifications"}=t,[O,C]=$.useState([]),T=$.useMemo(()=>n?O.filter(U=>U.toasterId===n):O.filter(U=>!U.toasterId),[O,n]),I=$.useMemo(()=>Array.from(new Set([i].concat(T.filter(U=>U.position).map(U=>U.position)))),[T,i]),[R,D]=$.useState([]),[B,W]=$.useState(!1),[Y,J]=$.useState(!1),[F,K]=$.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=$.useRef(null),H=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),te=$.useRef(null),q=$.useRef(!1),Q=$.useCallback(U=>{C(ne=>{var se;return(se=ne.find(ve=>ve.id===U.id))!=null&&se.delete||gn.dismiss(U.id),ne.filter(({id:ve})=>ve!==U.id)})},[]);return $.useEffect(()=>gn.subscribe(U=>{if(U.dismiss){requestAnimationFrame(()=>{C(ne=>ne.map(se=>se.id===U.id?{...se,delete:!0}:se))});return}setTimeout(()=>{nM.flushSync(()=>{C(ne=>{const se=ne.findIndex(ve=>ve.id===U.id);return se!==-1?[...ne.slice(0,se),{...ne[se],...U},...ne.slice(se+1)]:[U,...ne]})})})}),[O]),$.useEffect(()=>{if(g!=="system"){K(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?K("dark"):K("light")),typeof window>"u")return;const U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:ne})=>{K(ne?"dark":"light")})}catch{U.addListener(({matches:se})=>{try{K(se?"dark":"light")}catch(ve){console.error(ve)}})}},[g]),$.useEffect(()=>{O.length<=1&&W(!1)},[O]),$.useEffect(()=>{const U=ne=>{var se;if(s.every(oe=>ne[oe]||ne.code===oe)){var re;W(!0),(re=L.current)==null||re.focus()}ne.code==="Escape"&&(document.activeElement===L.current||(se=L.current)!=null&&se.contains(document.activeElement))&&W(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[s]),$.useEffect(()=>{if(L.current)return()=>{te.current&&(te.current.focus({preventScroll:!0}),te.current=null,q.current=!1)}},[L.current]),$.createElement("section",{ref:r,"aria-label":`${E} ${H}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((U,ne)=>{var se;const[ve,re]=U.split("-");return T.length?$.createElement("ol",{key:U,dir:S==="auto"?rA():S,tabIndex:-1,ref:L,className:f,"data-sonner-toaster":!0,"data-sonner-theme":F,"data-y-position":ve,"data-x-position":re,style:{"--front-toast-height":`${((se=R[0])==null?void 0:se.height)||0}px`,"--width":`${IH}px`,"--gap":`${A}px`,...b,...FH(p,h)},onBlur:oe=>{q.current&&!oe.currentTarget.contains(oe.relatedTarget)&&(q.current=!1,te.current&&(te.current.focus({preventScroll:!0}),te.current=null))},onFocus:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||q.current||(q.current=!0,te.current=oe.relatedTarget)},onMouseEnter:()=>W(!0),onMouseMove:()=>W(!0),onMouseLeave:()=>{Y||W(!1)},onDragEnd:()=>W(!1),onPointerDown:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||J(!0)},onPointerUp:()=>J(!1)},T.filter(oe=>!oe.position&&ne===0||oe.position===U).map((oe,ee)=>{var me,xe;return $.createElement(zH,{key:oe.id,icons:P,index:ee,toast:oe,defaultRichColors:x,duration:(me=j?.duration)!=null?me:_,className:j?.className,descriptionClassName:j?.descriptionClassName,invert:a,visibleToasts:v,closeButton:(xe=j?.closeButton)!=null?xe:d,interacting:Y,position:U,style:j?.style,unstyled:j?.unstyled,classNames:j?.classNames,cancelButtonStyle:j?.cancelButtonStyle,actionButtonStyle:j?.actionButtonStyle,closeButtonAriaLabel:j?.closeButtonAriaLabel,removeToast:Q,toasts:T.filter(ue=>ue.position==oe.position),heights:R.filter(ue=>ue.position==oe.position),setHeights:D,expandByDefault:c,gap:A,expanded:B,swipeDirections:t.swipeDirections})})):null}))}),qH=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Yj extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class UH extends Yj{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class nA extends Yj{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class aA extends Yj{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Uw;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Uw||(Uw={}));class VH{constructor(t,{headers:r={},customFetch:n,region:a=Uw.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=qH(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return j8(this,arguments,void 0,function*(r,n={}){var a;let i,s;try{const{headers:c,method:d,body:f,signal:p,timeout:h}=n;let g={},{region:x}=n;x||(x=this.region);const _=new URL(`${this.url}/${r}`);x&&x!=="any"&&(g["x-region"]=x,_.searchParams.set("forceFunctionRegion",x));let b;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",b=f):typeof f=="string"?(g["Content-Type"]="text/plain",b=f):typeof FormData<"u"&&f instanceof FormData?b=f:(g["Content-Type"]="application/json",b=JSON.stringify(f)):b=f;let v=p;h&&(s=new AbortController,i=setTimeout(()=>s.abort(),h),p?(v=s.signal,p.addEventListener("abort",()=>s.abort())):v=s.signal);const j=yield this.fetch(_.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),c),body:b,signal:v}).catch(E=>{throw new UH(E)}),S=j.headers.get("x-relay-error");if(S&&S==="true")throw new nA(j);if(!j.ok)throw new aA(j);let A=((a=j.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),P;return A==="application/json"?P=yield j.json():A==="application/octet-stream"||A==="application/pdf"?P=yield j.blob():A==="text/event-stream"?P=j:A==="multipart/form-data"?P=yield j.formData():P=yield j.text(),{data:P,error:null,response:j}}catch(c){return{data:null,error:c,response:c instanceof aA||c instanceof nA?c.context:void 0}}finally{i&&clearTimeout(i)}})}}var WH=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},HH=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let s=null,c=null,d=null,f=i.status,p=i.statusText;if(i.ok){var h,g;if(r.method!=="HEAD"){var x;const j=await i.text();j===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((x=r.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?c=j:c=JSON.parse(j))}const b=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),v=(g=i.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");b&&v&&v.length>1&&(d=parseInt(v[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(c)&&(c.length>1?(s={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,f=406,p="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var _;const b=await i.text();try{s=JSON.parse(b),Array.isArray(s)&&i.status===404&&(c=[],s=null,f=200,p="OK")}catch{i.status===404&&b===""?(f=204,p="No Content"):s={message:b}}if(s&&r.isMaybeSingle&&(!(s==null||(_=s.details)===null||_===void 0)&&_.includes("0 rows"))&&(s=null,f=200,p="OK"),s&&r.shouldThrowOnError)throw new WH(s)}return{error:s,data:c,count:d,status:f,statusText:p}});return this.shouldThrowOnError||(a=a.catch(i=>{var s;let c="";const d=i?.cause;if(d){var f,p,h,g;const _=(f=d?.message)!==null&&f!==void 0?f:"",b=(p=d?.code)!==null&&p!==void 0?p:"";c=`${(h=i?.name)!==null&&h!==void 0?h:"FetchError"}: ${i?.message}`,c+=`

Caused by: ${(g=d?.name)!==null&&g!==void 0?g:"Error"}: ${_}`,b&&(c+=` (${b})`),d?.stack&&(c+=`
${d.stack}`)}else{var x;c=(x=i?.stack)!==null&&x!==void 0?x:""}return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},GH=class extends HH{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var s;const c=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${d}"; options=${c};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const iA=new RegExp("[,()]");var xl=class extends GH{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&iA.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&iA.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},KH=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let i=!1;const s=(e??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",s),n&&this.headers.append("Prefer",`count=${n}`),new xl({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((s,c)=>s.concat(Object.keys(c)),[]);if(i.length>0){const s=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",s.join(","))}}return new xl({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const s="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new xl({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new xl({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new xl({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},YH=class SD{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new KH(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new SD(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var s;let c;const d=new URL(`${this.url}/rpc/${t}`);let f;n||a?(c=n?"HEAD":"GET",Object.entries(r).filter(([h,g])=>g!==void 0).map(([h,g])=>[h,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([h,g])=>{d.searchParams.append(h,g)})):(c="POST",f=r);const p=new Headers(this.headers);return i&&p.set("Prefer",`count=${i}`),new xl({method:c,url:d,headers:p,schema:this.schemaName,body:f,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};class XH{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const JH="2.89.0",QH=`realtime-js/${JH}`,ED="1.0.0",ZH="2.0.0",oA=ED,Vw=1e4,e9=1e3,t9=100;var po;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(po||(po={}));var yr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(yr||(yr={}));var wa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(wa||(wa={}));var Ww;(function(e){e.websocket="websocket"})(Ww||(Ww={}));var as;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(as||(as={}));class r9{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},s=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,r,n){var a,i;const s=t.topic,c=(a=t.ref)!==null&&a!==void 0?a:"",d=(i=t.join_ref)!==null&&i!==void 0?i:"",f=t.payload.event,p=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(p).length===0?"":JSON.stringify(p);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+c.length+s.length+f.length+h.length,x=new ArrayBuffer(this.HEADER_LENGTH+g);let _=new DataView(x),b=0;_.setUint8(b++,this.KINDS.userBroadcastPush),_.setUint8(b++,d.length),_.setUint8(b++,c.length),_.setUint8(b++,s.length),_.setUint8(b++,f.length),_.setUint8(b++,h.length),_.setUint8(b++,r),Array.from(d,j=>_.setUint8(b++,j.charCodeAt(0))),Array.from(c,j=>_.setUint8(b++,j.charCodeAt(0))),Array.from(s,j=>_.setUint8(b++,j.charCodeAt(0))),Array.from(f,j=>_.setUint8(b++,j.charCodeAt(0))),Array.from(h,j=>_.setUint8(b++,j.charCodeAt(0)));var v=new Uint8Array(x.byteLength+n.byteLength);return v.set(new Uint8Array(x),0),v.set(new Uint8Array(n),x.byteLength),v.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,s,c,d]=n;return r({join_ref:a,ref:i,topic:s,event:c,payload:d})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),s=r.getUint8(3),c=r.getUint8(4);let d=this.HEADER_LENGTH+4;const f=n.decode(t.slice(d,d+a));d=d+a;const p=n.decode(t.slice(d,d+i));d=d+i;const h=n.decode(t.slice(d,d+s));d=d+s;const g=t.slice(d,t.byteLength),x=c===this.JSON_ENCODING?JSON.parse(n.decode(g)):g,_={type:this.BROADCAST_EVENT,event:p,payload:x};return s>0&&(_.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class ND{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Rt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Rt||(Rt={}));const sA=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,s)=>(i[s]=n9(s,e,t,a),i),{}):{}},n9=(e,t,r,n)=>{const a=t.find(c=>c.name===e),i=a?.type,s=r[e];return i&&!n.includes(i)?CD(i,s):Hw(s)},CD=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return s9(t,r)}switch(e){case Rt.bool:return a9(t);case Rt.float4:case Rt.float8:case Rt.int2:case Rt.int4:case Rt.int8:case Rt.numeric:case Rt.oid:return i9(t);case Rt.json:case Rt.jsonb:return o9(t);case Rt.timestamp:return l9(t);case Rt.abstime:case Rt.date:case Rt.daterange:case Rt.int4range:case Rt.int8range:case Rt.money:case Rt.reltime:case Rt.text:case Rt.time:case Rt.timestamptz:case Rt.timetz:case Rt.tsrange:case Rt.tstzrange:return Hw(t);default:return Hw(t)}},Hw=e=>e,a9=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},i9=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},o9=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},s9=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(c=>CD(t,c))}return e},l9=e=>typeof e=="string"?e.replace(" ","T"):e,AD=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class dy{constructor(t,r,n={},a=Vw){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var lA;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(lA||(lA={}));class Au{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Au.syncState(this.state,a,i,s),this.pendingDiffs.forEach(d=>{this.state=Au.syncDiff(this.state,d,i,s)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Au.syncDiff(this.state,a,i,s),c())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),s=this.transformState(r),c={},d={};return this.map(i,(f,p)=>{s[f]||(d[f]=p)}),this.map(s,(f,p)=>{const h=i[f];if(h){const g=p.map(v=>v.presence_ref),x=h.map(v=>v.presence_ref),_=p.filter(v=>x.indexOf(v.presence_ref)<0),b=h.filter(v=>g.indexOf(v.presence_ref)<0);_.length>0&&(c[f]=_),b.length>0&&(d[f]=b)}else c[f]=p}),this.syncDiff(i,{joins:c,leaves:d},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(c,d)=>{var f;const p=(f=t[c])!==null&&f!==void 0?f:[];if(t[c]=this.cloneDeep(d),p.length>0){const h=t[c].map(x=>x.presence_ref),g=p.filter(x=>h.indexOf(x.presence_ref)<0);t[c].unshift(...g)}n(c,p,d)}),this.map(s,(c,d)=>{let f=t[c];if(!f)return;const p=d.map(h=>h.presence_ref);f=f.filter(h=>p.indexOf(h.presence_ref)<0),t[c]=f,a(c,f,d),f.length===0&&delete t[c]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cA;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(cA||(cA={}));var Pu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Pu||(Pu={}));var hi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(hi||(hi={}));class jl{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=yr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new dy(this,wa.join,this.params,this.timeout),this.rejoinTimer=new ND(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=yr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=yr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wa.reply,{},(s,c)=>{this._trigger(this._replyEventName(c),s)}),this.presence=new Au(this),this.broadcastEndpointURL=AD(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==yr.closed){const{config:{broadcast:s,presence:c,private:d}}=this.params,f=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(x=>x.filter))!==null&&a!==void 0?a:[],p=!!this.bindings[Pu.PRESENCE]&&this.bindings[Pu.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},g={broadcast:s,presence:Object.assign(Object.assign({},c),{enabled:p}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(x=>t?.(hi.CHANNEL_ERROR,x)),this._onClose(()=>t?.(hi.CLOSED)),this.updateJoinPayload(Object.assign({config:g},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var _;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){t?.(hi.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,v=(_=b?.length)!==null&&_!==void 0?_:0,j=[];for(let S=0;S<v;S++){const A=b[S],{filter:{event:P,schema:E,table:O,filter:C}}=A,T=x&&x[S];if(T&&T.event===P&&jl.isFilterValueEqual(T.schema,E)&&jl.isFilterValueEqual(T.table,O)&&jl.isFilterValueEqual(T.filter,C))j.push(Object.assign(Object.assign({},A),{id:T.id}));else{this.unsubscribe(),this.state=yr.errored,t?.(hi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(hi.SUBSCRIBED);return}}).receive("error",x=>{this.state=yr.errored,t?.(hi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t?.(hi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===yr.joined&&t===Pu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const f=await c.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:s}=t,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=f.body)===null||a===void 0?void 0:a.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,c,d;const f=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(c=(s=this.params)===null||s===void 0?void 0:s.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),f.receive("ok",()=>i("ok")),f.receive("error",()=>i("error")),f.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=yr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new dy(this,wa.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=yr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new dy(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>t9){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const s=t.toLocaleLowerCase(),{close:c,error:d,leave:f,join:p}=wa;if(n&&[c,d,f,p].indexOf(s)>=0&&n!==this._joinRef())return;let g=this._onMessage(s,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(x=>{var _,b,v;return((_=x.filter)===null||_===void 0?void 0:_.event)==="*"||((v=(b=x.filter)===null||b===void 0?void 0:b.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(x=>x.callback(g,n)):(i=this.bindings[s])===null||i===void 0||i.filter(x=>{var _,b,v,j,S,A;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in x){const P=x.id,E=(_=x.filter)===null||_===void 0?void 0:_.event;return P&&((b=r.ids)===null||b===void 0?void 0:b.includes(P))&&(E==="*"||E?.toLocaleLowerCase()===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const P=(S=(j=x?.filter)===null||j===void 0?void 0:j.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return P==="*"||P===((A=r?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===s}).map(x=>{if(typeof g=="object"&&"ids"in g){const _=g.data,{schema:b,table:v,commit_timestamp:j,type:S,errors:A}=_;g=Object.assign(Object.assign({},{schema:b,table:v,commit_timestamp:j,eventType:S,new:{},old:{},errors:A}),this._getPayloadRecords(_))}x.callback(g,n)})}_isClosed(){return this.state===yr.closed}_isJoined(){return this.state===yr.joined}_isJoining(){return this.state===yr.joining}_isLeaving(){return this.state===yr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&jl.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(wa.close,{},t)}_onError(t){this._on(wa.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=sA(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=sA(t.columns,t.old_record)),r}}const fy=()=>{},oh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},c9=[1e3,2e3,5e3,1e4],u9=1e4,d9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class f9{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Vw,this.transport=null,this.heartbeatIntervalMs=oh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fy,this.ref=0,this.reconnectTimer=null,this.vsn=oA,this.logger=fy,this.conn=null,this.sendBuffer=[],this.serializer=new r9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Ww.websocket}`,this.httpEndpoint=AD(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=XH.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case po.connecting:return as.Connecting;case po.open:return as.Open;case po.closing:return as.Closing;default:return as.Closed}}isConnected(){return this.connectionState()===as.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new jl(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,s=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(e9,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},oh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:s}=r,c=s?`(${s})`:"",d=i.status||"";this.log("receive",`${d} ${n} ${a} ${c}`.trim(),i),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(a,i,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===po.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===po.open||this.conn.readyState===po.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(wa.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([d9],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:QH};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(wa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new ND(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},oh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,s,c,d,f,p,h,g,x;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:Vw,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:oh.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(c=t?.heartbeatCallback)!==null&&c!==void 0?c:fy,this.vsn=(d=t?.vsn)!==null&&d!==void 0?d:oA,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(_=>c9[_-1]||u9),this.vsn){case ED:this.encode=(p=t?.encode)!==null&&p!==void 0?p:((_,b)=>b(JSON.stringify(_))),this.decode=(h=t?.decode)!==null&&h!==void 0?h:((_,b)=>b(JSON.parse(_)));break;case ZH:this.encode=(g=t?.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(x=t?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var zu=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function h9(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function p9(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function m9(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:s}){const c=h9(e.baseUrl,n,a),d=await p9(e.auth),f=await t(c,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...d,...s},body:i?JSON.stringify(i):void 0}),p=await f.text(),h=(f.headers.get("content-type")||"").includes("application/json"),g=h&&p?JSON.parse(p):p;if(!f.ok){const x=h?g:void 0,_=x?.error;throw new zu(_?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:_?.type,icebergCode:_?.code,details:x})}return{status:f.status,headers:f.headers,data:g}}}}function sh(e){return e.join("")}var g9=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:sh(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${sh(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${sh(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${sh(e.namespace)}`}),!0}catch(t){if(t instanceof zu&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof zu&&r.status===409)return;throw r}}};function ll(e){return e.join("")}var v9=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ll(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ll(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ll(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ll(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ll(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ll(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof zu&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof zu&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},y9=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=m9({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new g9(this.client,t),this.tableOps=new v9(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},mm=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Ht(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var x9=class extends mm{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Gw=class extends mm{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Xj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),b9=()=>Response,Kw=e=>{if(Array.isArray(e))return e.map(r=>Kw(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Kw(n)}),t},w9=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},_9=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Fu(e){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(e)}function j9(e,t){if(Fu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S9(e){var t=j9(e,"string");return Fu(t)=="symbol"?t:t+""}function E9(e,t,r){return(t=S9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(r),!0).forEach(function(n){E9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const hy=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},N9=async(e,t,r)=>{e instanceof await b9()&&!r?.noResolveJson?e.json().then(n=>{const a=e.status||500,i=n?.statusCode||a+"";t(new x9(hy(n),a,i))}).catch(n=>{t(new Gw(hy(n),n))}):t(new Gw(hy(e),e))},C9=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||!n?a:(w9(n)?(a.headers=et({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),et(et({},a),r))};async function kd(e,t,r,n,a,i){return new Promise((s,c)=>{e(r,C9(t,n,a,i)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>s(d)).catch(d=>N9(d,c,n))})}async function Bu(e,t,r,n){return kd(e,"GET",t,r,n)}async function ba(e,t,r,n,a){return kd(e,"POST",t,n,a,r)}async function Yw(e,t,r,n,a){return kd(e,"PUT",t,n,a,r)}async function A9(e,t,r,n){return kd(e,"HEAD",t,et(et({},r),{},{noResolveJson:!0}),n)}async function Jj(e,t,r,n,a){return kd(e,"DELETE",t,n,a,r)}var P9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ht(t))return{data:null,error:t};throw t}}};let PD;PD=Symbol.toStringTag;var O9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[PD]="BlobDownloadBuilder",this.promise=null}asStream(){return new P9(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ht(t))return{data:null,error:t};throw t}}};const k9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var T9=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Xj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var a=this;try{let i;const s=et(et({},dA),n);let c=et(et({},a.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const d=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),d&&i.append("metadata",a.encodeMetadata(d)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",s.cacheControl),d&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(d))):(i=r,c["cache-control"]=`max-age=${s.cacheControl}`,c["content-type"]=s.contentType,d&&(c["x-metadata"]=a.toBase64(a.encodeMetadata(d))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!s.duplex&&(s.duplex="half")),n?.headers&&(c=et(et({},c),n.headers));const f=a._removeEmptyFolders(t),p=a._getFinalPath(f),h=await(e=="PUT"?Yw:ba)(a.fetch,`${a.url}/object/${p}`,i,et({headers:c},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:f,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const i=a._removeEmptyFolders(e),s=a._getFinalPath(i),c=new URL(a.url+`/object/upload/sign/${s}`);c.searchParams.set("token",t);try{let d;const f=et({upsert:dA.upsert},n),p=et(et({},a.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType),{data:{path:i,fullPath:(await Yw(a.fetch,c.toString(),d,{headers:p})).Key},error:null}}catch(d){if(a.shouldThrowOnError)throw d;if(Ht(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const a=et({},r.headers);t?.upsert&&(a["x-upsert"]="true");const i=await ba(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(r.url+i.url),c=s.searchParams.get("token");if(!c)throw new mm("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:c},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await ba(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Ht(a))return{data:null,error:a};throw a}}async copy(e,t,r){var n=this;try{return{data:{path:(await ba(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Ht(a))return{data:null,error:a};throw a}}async createSignedUrl(e,t,r){var n=this;try{let a=n._getFinalPath(e),i=await ba(n.fetch,`${n.url}/object/sign/${a}`,et({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Ht(a))return{data:null,error:a};throw a}}async createSignedUrls(e,t,r){var n=this;try{const a=await ba(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(s=>et(et({},s),{},{signedUrl:s.signedURL?encodeURI(`${n.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Ht(a))return{data:null,error:a};throw a}}download(e,t){const r=typeof t?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(t?.transform||{}),a=n?`?${n}`:"",i=this._getFinalPath(e),s=()=>Bu(this.fetch,`${this.url}/${r}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new O9(s,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:Kw(await Bu(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await A9(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ht(n)&&n instanceof Gw){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t?.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const i=typeof t?.transform<"u"?"render/image":"object",s=this.transformOptsToQueryString(t?.transform||{});s!==""&&n.push(s);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${c}`)}}}async remove(e){var t=this;try{return{data:await Jj(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const a=et(et(et({},k9),t),{},{prefix:e||""});return{data:await ba(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Ht(a))return{data:null,error:a};throw a}}async listV2(e,t){var r=this;try{const n=et({},e);return{data:await ba(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const OD="2.89.0",kD={"X-Client-Info":`storage-js/${OD}`};var R9=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const a=new URL(e);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=et(et({},kD),t),this.fetch=Xj(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Bu(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Bu(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await ba(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await Yw(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await ba(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Jj(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},I9=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=et(et({},kD),t),this.fetch=Xj(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ba(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await Bu(t.fetch,a,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Jj(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!_9(e))throw new mm("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new y9({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const s=a[i];return typeof s!="function"?s:async(...c)=>{try{return{data:await s.apply(a,c),error:null}}catch(d){if(n)throw d;return{data:null,error:d}}}}})}};const Qj={"X-Client-Info":`storage-js/${OD}`,"Content-Type":"application/json"};var TD=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Rn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var py=class extends TD{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},M9=class extends TD{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Zj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),D9=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},fA=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$9=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const n=e.status||500,a=e;if(typeof a.json=="function")a.json().then(i=>{const s=i?.statusCode||i?.code||n+"";t(new py(fA(i),n,s))}).catch(()=>{const i=n+"";t(new py(a.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new py(a.statusText||`HTTP ${n} error`,n,i))}}else t(new M9(fA(e),e))},L9=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return n?(D9(n)?(a.headers=et({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,et(et({},a),r)):a};async function z9(e,t,r,n,a,i){return new Promise((s,c)=>{e(r,L9(t,n,a,i)).then(d=>{if(!d.ok)throw d;if(n?.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>s(d)).catch(d=>$9(d,c,n))})}async function In(e,t,r,n,a){return z9(e,"POST",t,n,a,r)}var F9=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=et(et({},Qj),t),this.fetch=Zj(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await In(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await In(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Rn(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await In(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await In(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Rn(n))return{data:null,error:n};throw n}}},B9=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=et(et({},Qj),t),this.fetch=Zj(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await In(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await In(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await In(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await In(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await In(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}}},q9=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=et(et({},Qj),t),this.fetch=Zj(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await In(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await In(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await In(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await In(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}}},U9=class extends q9{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new V9(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},V9=class extends F9{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,et(et({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,et(et({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new W9(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},W9=class extends B9{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,et(et({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,et(et({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,et(et({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,et(et({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,et(et({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},H9=class extends R9{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new T9(this.url,this.headers,e,this.fetch)}get vectors(){return new U9(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new I9(this.url+"/iceberg",this.headers,this.fetch)}};const RD="2.89.0",bl=30*1e3,Xw=3,my=Xw*bl,G9="http://localhost:9999",K9="supabase.auth.token",Y9={"X-Client-Info":`gotrue-js/${RD}`},Jw="X-Supabase-Api-Version",ID={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},X9=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,J9=600*1e3;class qu extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Q9 extends qu{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Z9(e){return Be(e)&&e.name==="AuthApiError"}class is extends qu{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Oi extends qu{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class En extends Oi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function e7(e){return Be(e)&&e.name==="AuthSessionMissingError"}class cl extends Oi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lh extends Oi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ch extends Oi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function t7(e){return Be(e)&&e.name==="AuthImplicitGrantRedirectError"}class hA extends Oi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class r7 extends Oi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Qw extends Oi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function gy(e){return Be(e)&&e.name==="AuthRetryableFetchError"}class pA extends Oi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Zw extends Oi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mA=` 	
\r=`.split(""),n7=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<mA.length;t+=1)e[mA[t].charCodeAt(0)]=-2;for(let t=0;t<Bh.length;t+=1)e[Bh[t].charCodeAt(0)]=t;return e})();function gA(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Bh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Bh[n]),t.queuedBits-=6}}function MD(e,t,r){const n=n7[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function vA(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{o7(s,n,r)};for(let s=0;s<e.length;s+=1)MD(e.charCodeAt(s),a,i);return t.join("")}function a7(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function i7(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}a7(n,t)}}function o7(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Tl(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)MD(e.charCodeAt(a),r,n);return new Uint8Array(t)}function s7(e){const t=[];return i7(e,r=>t.push(r)),new Uint8Array(t)}function ss(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>gA(a,r,n)),gA(null,r,n),t.join("")}function l7(e){return Math.round(Date.now()/1e3)+e}function c7(){return Symbol("auth-callback")}const Br=()=>typeof window<"u"&&typeof document<"u",Yo={tested:!1,writable:!1},DD=()=>{if(!Br())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yo.tested)return Yo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Yo.tested=!0,Yo.writable=!0}catch{Yo.tested=!0,Yo.writable=!1}return Yo.writable};function u7(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const $D=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),d7=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",wl=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Xo=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Fr=async(e,t)=>{await e.removeItem(t)};class gm{constructor(){this.promise=new gm.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}gm.promiseConstructor=Promise;function vy(e){const t=e.split(".");if(t.length!==3)throw new Zw("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!X9.test(t[n]))throw new Zw("JWT not in base64url format");return{header:JSON.parse(vA(t[0])),payload:JSON.parse(vA(t[1])),signature:Tl(t[2]),raw:{header:t[0],payload:t[1]}}}async function f7(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function h7(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){n(s);return}}catch(s){if(!t(i,s)){a(s);return}}})()})}function p7(e){return("0"+e.toString(16)).substr(-2)}function m7(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,p7).join("")}async function g7(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function v7(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await g7(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ul(e,t,r=!1){const n=m7();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await wl(e,`${t}-code-verifier`,a);const i=await v7(n);return[i,n===i?"plain":"s256"]}const y7=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function x7(e){const t=e.headers.get(Jw);if(!t||!t.match(y7))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function b7(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function w7(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _7=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function dl(e){if(!_7.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function yy(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function j7(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function yA(e){return JSON.parse(JSON.stringify(e))}const ts=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),S7=[502,503,504];async function xA(e){var t;if(!d7(e))throw new Qw(ts(e),0);if(S7.includes(e.status))throw new Qw(ts(e),e.status);let r;try{r=await e.json()}catch(i){throw new is(ts(i),i)}let n;const a=x7(e);if(a&&a.getTime()>=ID["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new pA(ts(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new En}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new pA(ts(r),e.status,r.weak_password.reasons);throw new Q9(ts(r),e.status||500,n)}const E7=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ze(e,t,r,n){var a;const i=Object.assign({},n?.headers);i[Jw]||(i[Jw]=ID["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(s.redirect_to=n.redirectTo);const c=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",d=await N7(e,t,r+c,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function N7(e,t,r,n,a,i){const s=E7(t,n,a,i);let c;try{c=await e(r,Object.assign({},s))}catch(d){throw console.error(d),new Qw(ts(d),0)}if(c.ok||await xA(c),n?.noResolveJson)return c;try{return await c.json()}catch(d){await xA(d)}}function ya(e){var t;let r=null;P7(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=l7(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function bA(e){const t=ya(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function go(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function C7(e){return{data:e,error:null}}function A7(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,s=yc(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},d=Object.assign({},s);return{data:{properties:c,user:d},error:null}}function wA(e){return e}function P7(e){return e.access_token&&e.refresh_token&&e.expires_in}const xy=["global","local","others"];class O7{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=$D(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=xy[0]){if(xy.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xy.join(", ")}`);try{return await Ze(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:go})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=yc(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await Ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:A7,redirectTo:r?.redirectTo})}catch(r){if(Be(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ze(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:go})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,s,c,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:wA});if(p.error)throw p.error;const h=await p.json(),g=(s=p.headers.get("x-total-count"))!==null&&s!==void 0?s:0,x=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(_=>{const b=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(_.split(";")[1].split("=")[1]);f[`${v}Page`]=b}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},h),f),error:null}}catch(f){if(Be(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){dl(t);try{return await Ze(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:go})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){dl(t);try{return await Ze(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:go})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){dl(t);try{return await Ze(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:go})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){dl(t.userId);try{const{data:r,error:n}=await Ze(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _deleteFactor(t){dl(t.userId),dl(t.id);try{return{data:await Ze(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,s,c,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Ze(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:wA});if(p.error)throw p.error;const h=await p.json(),g=(s=p.headers.get("x-total-count"))!==null&&s!==void 0?s:0,x=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(_=>{const b=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(_.split(";")[1].split("=")[1]);f[`${v}Page`]=b}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},h),f),error:null}}catch(f){if(Be(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await Ze(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ze(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ze(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ze(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ze(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}}function _A(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const fl={debug:!!(globalThis&&DD()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LD extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class k7 extends LD{}async function T7(e,t,r){fl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),fl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){fl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{fl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw fl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new k7(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(fl.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function R7(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function zD(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function I7(e){return parseInt(e,16)}function M7(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function D7(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:s,notBefore:c,requestId:d,resources:f,scheme:p,uri:h,version:g}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=zD(e.address),_=p?`${p}://${n}`:n,b=e.statement?`${e.statement}
`:"",v=`${_} wants you to sign in with your Ethereum account:
${x}

${b}`;let j=`URI: ${h}
Version: ${g}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(a&&(j+=`
Expiration Time: ${a.toISOString()}`),c&&(j+=`
Not Before: ${c.toISOString()}`),d&&(j+=`
Request ID: ${d}`),f){let S=`
Resources:`;for(const A of f){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);S+=`
- ${A}`}j+=S}return`${v}
${j}`}class sr extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class qh extends sr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function $7({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new sr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new sr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new sr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new sr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new sr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new sr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new sr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new sr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(FD(s)){if(i.rp.id!==s)return new sr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new sr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new sr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new sr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new sr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function L7({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new sr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new sr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(FD(n)){if(r.rpId!==n)return new sr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new sr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new sr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new sr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class z7{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const F7=new z7;function B7(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=yc(e,["challenge","user","excludeCredentials"]),i=Tl(t).buffer,s=Object.assign(Object.assign({},r),{id:Tl(r.id).buffer}),c=Object.assign(Object.assign({},a),{challenge:i,user:s});if(n&&n.length>0){c.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const f=n[d];c.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Tl(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function q7(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=yc(e,["challenge","allowCredentials"]),a=Tl(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const c=r[s];i.allowCredentials[s]=Object.assign(Object.assign({},c),{id:Tl(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return i}function U7(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:ss(new Uint8Array(e.response.attestationObject)),clientDataJSON:ss(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function V7(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ss(new Uint8Array(a.authenticatorData)),clientDataJSON:ss(new Uint8Array(a.clientDataJSON)),signature:ss(new Uint8Array(a.signature)),userHandle:a.userHandle?ss(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function FD(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function jA(){var e,t;return!!(Br()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function W7(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new qh("Browser returned unexpected credential type",t)}:{data:null,error:new qh("Empty credential response",t)}}catch(t){return{data:null,error:$7({error:t,options:e})}}}async function H7(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new qh("Browser returned unexpected credential type",t)}:{data:null,error:new qh("Empty credential response",t)}}catch(t){return{data:null,error:L7({error:t,options:e})}}}const G7={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},K7={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Uh(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const s=a[i];if(s!==void 0)if(Array.isArray(s))n[i]=s;else if(r(s))n[i]=s;else if(t(s)){const c=n[i];t(c)?n[i]=Uh(c,s):n[i]=Uh(s)}else n[i]=s}return n}function Y7(e,t){return Uh(G7,e,t||{})}function X7(e,t){return Uh(K7,e,t||{})}class J7{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:s,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:c};const d=a??F7.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:f}=s.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${n}`),f.displayName||(f.displayName=f.name)}switch(s.webauthn.type){case"create":{const f=Y7(s.webauthn.credential_options.publicKey,i?.create),{data:p,error:h}=await W7({publicKey:f,signal:d});return p?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}case"request":{const f=X7(s.webauthn.credential_options.publicKey,i?.request),{data:p,error:h}=await H7(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:f,signal:d}));return p?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}}}catch(s){return Be(s)?{data:null,error:s}:{data:null,error:new is("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new qu("rpId is required for WebAuthn authentication")};try{if(!jA())return{data:null,error:new is("Browser does not support WebAuthn",null)};const{data:s,error:c}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!s)return{data:null,error:c};const{webauthn:d}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(s){return Be(s)?{data:null,error:s}:{data:null,error:new is("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new qu("rpId is required for WebAuthn registration")};try{if(!jA())return{data:null,error:new is("Browser does not support WebAuthn",null)};const{data:s,error:c}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(p=>{var h;return(h=p.data)===null||h===void 0?void 0:h.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:c};const{data:d,error:f}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return d?this._verify({factorId:s.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(s){return Be(s)?{data:null,error:s}:{data:null,error:new is("Unexpected error in register",s)}}}}R7();const Q7={url:G9,storageKey:K9,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Y9,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function SA(e,t,r){return await r()}const hl={};class Uu{get jwks(){var t,r;return(r=(t=hl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){hl[this.storageKey]=Object.assign(Object.assign({},hl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=hl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){hl[this.storageKey]=Object.assign(Object.assign({},hl[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Q7),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Uu.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Uu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Br()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new O7({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=$D(i.fetch),this.lock=i.lock||SA,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&Br()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=T7:this.lock=SA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new J7(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:DD()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_A(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=_A(this.memoryStorage)),Br()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${RD}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Br()&&(r=u7(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Br()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),t7(i)){const d=(t=i.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:c}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",c),await this._saveSession(s),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Be(r)?this._returnResult({error:r}):this._returnResult({error:new is("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:ya}),{data:s,error:c}=i;if(c||!s)return this._returnResult({data:{user:null,session:null},error:c});const d=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(Be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:p,password:h,options:g}=t;let x=null,_=null;this.flowType==="pkce"&&([x,_]=await ul(this.storage,this.storageKey)),i=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:p,password:h,data:(r=g?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:x,code_challenge_method:_},xform:ya})}else if("phone"in t){const{phone:p,password:h,options:g}=t;i=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:h,data:(n=g?.data)!==null&&n!==void 0?n:{},channel:(a=g?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:ya})}else throw new lh("You must provide either an email or phone number and a password");const{data:s,error:c}=i;if(c||!s)return await Fr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const d=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(await Fr(this.storage,`${this.storageKey}-code-verifier`),Be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:c}=t;r=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:bA})}else if("phone"in t){const{phone:i,password:s,options:c}=t;r=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:bA})}else throw new lh("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new cl;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,s,c,d,f,p,h,g;let x,_;if("message"in t)x=t.message,_=t.signature;else{const{chain:b,wallet:v,statement:j,options:S}=t;let A;if(Br())if(typeof v=="object")A=v;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")A=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=v}const P=new URL((r=S?.url)!==null&&r!==void 0?r:window.location.href),E=await A.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=zD(E[0]);let C=(n=S?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const I=await A.request({method:"eth_chainId"});C=I7(I)}const T={domain:P.host,address:O,statement:j,uri:P.href,version:"1",chainId:C,nonce:(a=S?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(s=(i=S?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(c=S?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=S?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=S?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=S?.signInWithEthereum)===null||p===void 0?void 0:p.resources};x=D7(T),_=await A.request({method:"personal_sign",params:[M7(x),O]})}try{const{data:b,error:v}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:_},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:ya});if(v)throw v;if(!b||!b.session||!b.user){const j=new cl;return this._returnResult({data:{user:null,session:null},error:j})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:v})}catch(b){if(Be(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(t){var r,n,a,i,s,c,d,f,p,h,g,x;let _,b;if("message"in t)_=t.message,b=t.signature;else{const{chain:v,wallet:j,statement:S,options:A}=t;let P;if(Br())if(typeof j=="object")P=j;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))P=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=j}const E=new URL((r=A?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in P&&P.signIn){const O=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),S?{statement:S}:null));let C;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")C=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)C=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)_=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),b=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${E.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(a=(n=A?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=A?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((s=A?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((c=A?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((d=A?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((f=A?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((h=(p=A?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||h===void 0)&&h.length?["Resources",...A.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const O=await P.signMessage(new TextEncoder().encode(_),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=O}}try{const{data:v,error:j}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:ss(b)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:ya});if(j)throw j;if(!v||!v.session||!v.user){const S=new cl;return this._returnResult({data:{user:null,session:null},error:S})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:j})}catch(v){if(Be(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await Xo(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new r7;const{data:i,error:s}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ya});if(await Fr(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!i||!i.session||!i.user){const c=new cl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(await Fr(this.storage,`${this.storageKey}-code-verifier`),Be(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=t,c=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ya}),{data:d,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const p=new cl;return this._returnResult({data:{user:null,session:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,s;try{if("email"in t){const{email:c,options:d}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await ul(this.storage,this.storageKey));const{error:h}=await Ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:c,options:d}=t,{data:f,error:p}=await Ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(a=d?.data)!==null&&a!==void 0?a:{},create_user:(i=d?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(s=d?.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new lh("You must provide either an email or phone number.")}catch(c){if(await Fr(this.storage,`${this.storageKey}-code-verifier`),Be(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:c}=await Ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:ya});if(c)throw c;if(!s)throw new Error("An error occurred on token verification.");const d=s.session,f=s.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(Be(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,s;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await ul(this.storage,this.storageKey));const f=await Ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:C7});return!((i=f.data)===null||i===void 0)&&i.url&&Br()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(await Fr(this.storage,`${this.storageKey}-code-verifier`),Be(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new En;const{error:a}=await Ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Be(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:s}=await Ze(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:s,error:c}=await Ze(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s?.message_id},error:c})}throw new lh("You must provide either an email or phone number and a type")}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Xo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<my:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await Xo(this.userStorage,this.storageKey+"-user");s?.user?t.user=s.user:t.user=yy()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=j7(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:go}):await this._useSession(async r=>{var n,a,i;const{data:s,error:c}=r;if(c)throw c;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new En}:await Ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:go})})}catch(r){if(Be(r))return e7(r)&&(await this._removeSession(),await Fr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new En;const s=a.session;let c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=await ul(this.storage,this.storageKey));const{data:f,error:p}=await Ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:s.access_token,xform:go});if(p)throw p;return s.user=f.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await Fr(this.storage,`${this.storageKey}-code-verifier`),Be(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new En;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=vy(t.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{data:c,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:d}=await this._getUser(t.access_token);if(d)throw d;i={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Be(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:c}=r;if(c)throw c;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new En;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Br())throw new ch("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ch(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new hA("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ch("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new hA("No code detected.");const{data:S,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:c,expires_at:d,token_type:f}=t;if(!i||!c||!s||!f)throw new ch("No session defined in URL");const p=Math.round(Date.now()/1e3),h=parseInt(c);let g=p+h;d&&(g=parseInt(d));const x=g-p;x*1e3<=bl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${h}s`);const _=g-h;p-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,g,p):p-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,g,p);const{data:b,error:v}=await this._getUser(i);if(v)throw v;const j={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:g,refresh_token:s,token_type:f,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:t.type},error:null})}catch(n){if(Be(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Xo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:c}=await this.admin.signOut(s,t);if(c&&!(Z9(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await Fr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=c7(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await ul(this.storage,this.storageKey,!0));try{return await Ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Fr(this.storage,`${this.storageKey}-code-verifier`),Be(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,c,d,f,p;const{data:h,error:g}=i;if(g)throw g;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Ze(this.fetch,"GET",x,{headers:this.headers,jwt:(p=(f=h.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(a)throw a;return Br()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(Be(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:s,provider:c,token:d,access_token:f,nonce:p}=t,h=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:c,id_token:d,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:ya}),{data:g,error:x}=h;return x?this._returnResult({data:{user:null,session:null},error:x}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new cl}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:x}))}catch(a){if(await Fr(this.storage,`${this.storageKey}-code-verifier`),Be(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await Ze(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await h7(async a=>(a>0&&await f7(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ya})),(a,i)=>{const s=200*Math.pow(2,a);return i&&gy(i)&&Date.now()+s-n<bl})}catch(n){if(this._debug(r,"error",n),Be(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Br()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Xo(this.storage,this.storageKey);if(a&&this.userStorage){let s=await Xo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:a.user},await wl(this.userStorage,this.storageKey+"-user",s)),a.user=(t=s?.user)!==null&&t!==void 0?t:yy()}else if(a&&!a.user&&!a.user){const s=await Xo(this.storage,this.storageKey+"-user");s&&s?.user?(a.user=s.user,await Fr(this.storage,this.storageKey+"-user"),await wl(this.storage,this.storageKey,a)):a.user=yy()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<my;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${my}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:s}=await this._callRefreshToken(a.refresh_token);s&&(console.error(s),gy(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:c}=await this._getUser(a.access_token);!c&&s?.user?(a.user=s.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new En;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new gm;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new En;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={data:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(a,"error",i),Be(i)){const s={data:null,error:i};return gy(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(d){i.push(d)}});if(await Promise.all(s),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Fr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await wl(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=yA(a);await wl(this.storage,this.storageKey,i)}else{const a=yA(r);await wl(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Fr(this.storage,this.storageKey),await Fr(this.storage,this.storageKey+"-code-verifier"),await Fr(this.storage,this.storageKey+"-user"),this.userStorage&&await Fr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Br()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),bl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/bl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${bl}ms, refresh threshold is ${Xw} ticks`),a<=Xw&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof LD)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Br()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await ul(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(c.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await Ze(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await Ze(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&d.type==="totp"&&(!((a=d?.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?U7(t.webauthn.credential_response):V7(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:d}=await Ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=await Ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:c}=s;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:B7(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:q7(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r?.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=vy(n.access_token);let s=null;i.aal&&(s=i.aal);let c=s;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const f=i.amr||[];return{data:{currentLevel:s,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Ze(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new En})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new En});const s=await Ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&Br()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new En});const s=await Ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&Br()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Ze(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new En})})}catch(t){if(Be(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Ze(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new En})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(c=>c.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(c=>c.kid===t),n&&this.jwks_cached_at+J9>a)return n;const{data:i,error:s}=await Ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(c=>c.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:x,error:_}=await this.getSession();if(_||!x.session)return this._returnResult({data:null,error:_});n=x.session.access_token}const{header:a,payload:i,signature:s,raw:{header:c,payload:d}}=vy(n);r?.allowExpired||b7(i.exp);const f=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:i,header:a,signature:s},error:null}}const p=w7(a.alg),h=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,h,s,s7(`${c}.${d}`)))throw new Zw("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}}Uu.nextInstanceID={};const Z7=Uu,eG="2.89.0";let _u="";typeof Deno<"u"?_u="deno":typeof document<"u"?_u="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_u="react-native":_u="node";const tG={"X-Client-Info":`supabase-js-${_u}/${eG}`},rG={headers:tG},nG={schema:"public"},aG={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},iG={};function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}function oG(e,t){if(Vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sG(e){var t=oG(e,"string");return Vu(t)=="symbol"?t:t+""}function lG(e,t,r){return(t=sG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(r),!0).forEach(function(n){lG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const cG=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),uG=()=>Headers,dG=(e,t,r)=>{const n=cG(r),a=uG();return async(i,s)=>{var c;const d=(c=await t())!==null&&c!==void 0?c:e;let f=new a(s?.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),n(i,Yt(Yt({},s),{},{headers:f}))}};function fG(e){return e.endsWith("/")?e:e+"/"}function hG(e,t){var r,n;const{db:a,auth:i,realtime:s,global:c}=e,{db:d,auth:f,realtime:p,global:h}=t,g={db:Yt(Yt({},d),a),auth:Yt(Yt({},f),i),realtime:Yt(Yt({},p),s),storage:{},global:Yt(Yt(Yt({},h),c),{},{headers:Yt(Yt({},(r=h?.headers)!==null&&r!==void 0?r:{}),(n=c?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function pG(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(fG(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var mG=class extends Z7{constructor(e){super(e)}},gG=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const i=pG(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const s=`sb-${i.hostname.split(".")[0]}-auth-token`,c={db:nG,realtime:iG,auth:Yt(Yt({},aG),{},{storageKey:s}),global:rG},d=hG(r??{},c);if(this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=d.auth)!==null&&f!==void 0?f:{},this.headers,d.global.fetch)}this.fetch=dG(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Yt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new YH(new URL("rest/v1",i).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new H9(this.storageUrl.href,this.headers,this.fetch,r?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new VH(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:i,flowType:s,lock:c,debug:d,throwOnError:f},p,h){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mG({url:this.authUrl.href,headers:Yt(Yt({},g),p),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:s,lock:c,debug:d,throwOnError:f,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new f9(this.realtimeUrl.href,Yt(Yt({},e),{},{params:Yt(Yt({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const vG=(e,t,r)=>new gG(e,t,r);function yG(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}yG()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const xG="https://bhrcsbtylvysoeuyaauz.supabase.co",bG="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJocmNzYnR5bHZ5c29ldXlhYXV6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQxNjM4MTIsImV4cCI6MjA3OTczOTgxMn0._-jeSwJ9fY9tUTL0ZtYikbQScSPRC0G0-mzJT3noH_s",Nr=vG(xG,bG,{auth:{persistSession:!0,autoRefreshToken:!0}}),we=Nr;async function wG(e){try{const{data:t,error:r}=await Nr.from("usuario").select("*").eq("email",e).eq("estado","activo").maybeSingle();return r?null:t?{id_usuario:t.id_usuario,nombre:t.nombre,apellido:t.apellido,email:t.email,password:t.password,tipo_usuario:t.tipo_usuario,telefono:t.telefono||"",cedula_profesional:t.cedula||"",estado:t.estado,created_at:t.created_at}:(console.log(" Usuario no encontrado"),null)}catch(t){return console.error(" Error inesperado al buscar usuario:",t),null}}async function BD(e){try{console.log(" Buscando asignaciones para usuario ID:",e);const{data:t,error:r}=await Nr.from("usuario_sucursal").select(`
        id_usuario_sucursal,
        id_usuario,
        id_sucursal,
        especialidad,
        estado,
        sucursal:sucursal!inner (
          id_sucursal,
          nombre,
          direccion,
          telefono,
          id_compania,
          estado,
          compania:compania!inner (
            id_compania,
            nombre,
            direccion,
            telefono,
            estado
          )
        )
      `).eq("id_usuario",e).eq("estado","activo");return r?(console.error(" Error al buscar asignaciones:",r),[]):!t||t.length===0?(console.log(" No se encontraron asignaciones para el usuario"),[]):(console.log(` Se encontraron ${t.length} asignaciones`),t.map(a=>({id_usuario_sucursal:a.id_usuario_sucursal,id_usuario:a.id_usuario,id_sucursal:a.id_sucursal,especialidad:a.especialidad||"Sin especialidad",estado:a.estado,sucursal:{id_sucursal:a.sucursal.id_sucursal,nombre:a.sucursal.nombre,direccion:a.sucursal.direccion,telefono:a.sucursal.telefono||"",id_compania:a.sucursal.id_compania,estado:a.sucursal.estado},compania:{id_compania:a.sucursal.compania.id_compania,nombre:a.sucursal.compania.nombre,direccion:a.sucursal.compania.direccion,telefono:a.sucursal.compania.telefono||"",estado:a.sucursal.compania.estado}})))}catch(t){return console.error(" Error inesperado al buscar asignaciones:",t),[]}}async function _G(e,t){try{const r=await wG(e);return r?r.password!==t?{success:!1,message:"Contrasea incorrecta"}:{success:!0,usuario:r}:{success:!1,message:"Usuario no encontrado"}}catch(r){return console.error(" Error al validar credenciales:",r),{success:!1,message:"Error al validar credenciales"}}}async function jG(e){try{console.log(" Buscando sucursales para compaa ID:",e);const{data:t,error:r}=await Nr.from("sucursal").select("*").eq("id_compania",e).eq("estado","activo").order("nombre");return r?(console.error(" Error al buscar sucursales:",r),[]):(console.log(` Se encontraron ${t?.length||0} sucursales`),t||[])}catch(t){return console.error(" Error inesperado al buscar sucursales:",t),[]}}async function NA(e){try{console.log(" Buscando mdicos para sucursal ID:",e);const{data:t,error:r}=await Nr.from("usuario_sucursal").select(`
        id_usuario_sucursal,
        id_usuario,
        id_sucursal,
        especialidad,
        estado,
        usuario:usuario!inner (
          id_usuario,
          nombre,
          apellido,
          email,
          tipo_usuario,
          telefono,
          cedula,
          estado
        ),
        sucursal:sucursal!inner (
          id_sucursal,
          nombre,
          direccion,
          telefono,
          id_compania,
          estado,
          compania:compania!inner (
            id_compania,
            nombre,
            direccion,
            telefono,
            estado
          )
        )
      `).eq("id_sucursal",e).eq("estado","activo").eq("usuario.tipo_usuario","medico").eq("usuario.estado","activo");return r?(console.error(" Error al buscar mdicos:",r),[]):!t||t.length===0?(console.log(" No se encontraron mdicos para la sucursal"),[]):(console.log(` Se encontraron ${t.length} mdicos`),t.map(a=>({id_usuario_sucursal:a.id_usuario_sucursal,id_usuario:a.id_usuario,id_sucursal:a.id_sucursal,especialidad:a.especialidad||"Sin especialidad",estado:a.estado,usuario:{id_usuario:a.usuario.id_usuario,nombre:a.usuario.nombre,apellido:a.usuario.apellido,email:a.usuario.email,tipo_usuario:a.usuario.tipo_usuario},sucursal:{id_sucursal:a.sucursal.id_sucursal,nombre:a.sucursal.nombre,direccion:a.sucursal.direccion,telefono:a.sucursal.telefono||"",id_compania:a.sucursal.id_compania,estado:a.sucursal.estado},compania:{id_compania:a.sucursal.compania.id_compania,nombre:a.sucursal.compania.nombre,direccion:a.sucursal.compania.direccion,telefono:a.sucursal.compania.telefono||"",estado:a.sucursal.compania.estado}})))}catch(t){return console.error(" Error inesperado al buscar mdicos:",t),[]}}const e_="/assets/535c4fa3c95ae864b14ba302621119ba18d73bbc-CgHM-4xg.png";function SG({onLogin:e}){const[t,r]=w.useState(""),[n,a]=w.useState(""),[i,s]=w.useState("credentials"),[c,d]=w.useState(null),[f,p]=w.useState([]),[h,g]=w.useState(""),[x,_]=w.useState(!1),b=async S=>{if(S.preventDefault(),!t||!n){de.error("Por favor complete todos los campos");return}_(!0);try{const A=await _G(t,n);if(!A.success||!A.usuario){de.error(A.message||"Error al iniciar sesin"),_(!1);return}const P=A.usuario,E=await BD(P.id_usuario);if(E.length===0){de.error("El usuario no tiene asignaciones activas"),_(!1);return}if(E.length===1){de.success("Bienvenido!"),localStorage.setItem("currentUserEmail",t),localStorage.setItem("currentUserId",P.id_usuario.toString()),localStorage.setItem("currentUsuarioSucursalId",E[0].id_usuario_sucursal.toString()),localStorage.setItem("currentSucursalId",E[0].sucursal.id_sucursal.toString()),localStorage.setItem("currentCompaniaId",E[0].compania.id_compania.toString()),e(P,E[0]);return}d(P),p(E),s("selection"),_(!1)}catch(A){console.error(" Error en login:",A),de.error("Error al conectar con el servidor"),_(!1)}},v=S=>{if(S.preventDefault(),!h||!c){de.error("Por favor selecciona una sucursal");return}const A=f.find(P=>P.id_usuario_sucursal.toString()===h);A&&(de.success("Bienvenido!"),localStorage.setItem("currentUserEmail",c.email),localStorage.setItem("currentUserId",c.id_usuario.toString()),localStorage.setItem("currentUsuarioSucursalId",A.id_usuario_sucursal.toString()),localStorage.setItem("currentSucursalId",A.sucursal.id_sucursal.toString()),localStorage.setItem("currentCompaniaId",A.compania.id_compania.toString()),e(c,A))},j=()=>{s("credentials"),d(null),p([]),g("")};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:o.jsxs(tt,{className:"w-full max-w-md",children:[o.jsxs(Nw,{className:"space-y-1 text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("img",{src:e_,alt:"Clnicas ATLAS",className:"h-20 object-contain"})}),o.jsx(u6,{className:"text-2xl",children:"Sistema de Control de Citas"}),o.jsx(d6,{children:i==="credentials"?"Ingresa tus credenciales para acceder al sistema":"Selecciona la compaa y sucursal"})]}),o.jsx(Nh,{children:i==="credentials"?o.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{htmlFor:"email",children:"Correo Electrnico"}),o.jsxs("div",{className:"relative",children:[o.jsx(Gj,{className:"absolute left-3 top-3 size-4 text-gray-400"}),o.jsx(Se,{id:"email",type:"email",placeholder:"tu@email.com",value:t,onChange:S=>r(S.target.value),className:"pl-10",required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{htmlFor:"password",children:"Contrasea"}),o.jsxs("div",{className:"relative",children:[o.jsx(CW,{className:"absolute left-3 top-3 size-4 text-gray-400"}),o.jsx(Se,{id:"password",type:"password",placeholder:"",value:n,onChange:S=>a(S.target.value),className:"pl-10",required:!0})]})]}),o.jsx(fe,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:x,children:x?"Iniciando sesin...":"Iniciar Sesin"})]}):o.jsxs("form",{onSubmit:v,className:"space-y-4",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-4",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:["Bienvenido/a"," ",o.jsxs("span",{className:"font-semibold",children:[c?.nombre," ",c?.apellido]})]}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Tienes acceso a ",f.length," ","ubicaciones"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{htmlFor:"asignacion",children:"Selecciona Compaa y Sucursal"}),o.jsxs(ft,{value:h,onValueChange:g,children:[o.jsx(pt,{id:"asignacion",children:o.jsx(ht,{placeholder:"Seleccione una opcin"})}),o.jsx(mt,{children:f.map(S=>o.jsx(Ae,{value:S.id_usuario_sucursal.toString(),children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(zl,{className:"size-4 text-blue-600"}),o.jsx("span",{children:S.compania.nombre}),o.jsx("span",{className:"text-gray-400",children:""}),o.jsx(Co,{className:"size-4 text-green-600"}),o.jsx("span",{children:S.sucursal.nombre})]})},S.id_usuario_sucursal))})]})]}),h&&o.jsx("div",{className:"bg-gray-50 p-3 rounded-lg border space-y-2",children:(()=>{const S=f.find(A=>A.id_usuario_sucursal.toString()===h);return S?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(zl,{className:"size-4 text-blue-600 mt-0.5"}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Compaa:"})," ",S.compania.nombre]}),o.jsx("p",{className:"text-xs text-gray-500",children:S.compania.direccion})]})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Co,{className:"size-4 text-green-600 mt-0.5"}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Sucursal:"})," ",S.sucursal.nombre]}),o.jsx("p",{className:"text-xs text-gray-500",children:S.sucursal.direccion})]})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(mi,{className:"size-4 text-purple-600 mt-0.5"}),o.jsx("div",{children:o.jsxs("p",{className:"text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Especialidad:"})," ",S.especialidad]})})]})]}):null})()}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(fe,{type:"button",variant:"outline",onClick:j,className:"flex-1",children:"Atrs"}),o.jsx(fe,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700",disabled:!h,children:"Ingresar"})]})]})})]})})}const EG=VI("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Dt({className:e,variant:t,asChild:r=!1,...n}){const a=r?qI:"span";return o.jsx(a,{"data-slot":"badge",className:Xe(EG({variant:t}),e),...n})}function NG(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var Jr=e=>{const{present:t,children:r}=e,n=CG(t),a=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),i=lt(n.ref,AG(a));return typeof r=="function"||n.isPresent?w.cloneElement(a,{ref:i}):null};Jr.displayName="Presence";function CG(e){const[t,r]=w.useState(),n=w.useRef(null),a=w.useRef(e),i=w.useRef("none"),s=e?"mounted":"unmounted",[c,d]=NG(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const f=uh(n.current);i.current=c==="mounted"?f:"none"},[c]),er(()=>{const f=n.current,p=a.current;if(p!==e){const g=i.current,x=uh(f);e?d("MOUNT"):x==="none"||f?.display==="none"?d("UNMOUNT"):d(p&&g!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),er(()=>{if(t){let f;const p=t.ownerDocument.defaultView??window,h=x=>{const b=uh(n.current).includes(CSS.escape(x.animationName));if(x.target===t&&b&&(d("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",f=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},g=x=>{x.target===t&&(i.current=uh(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{p.clearTimeout(f),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:w.useCallback(f=>{n.current=f?getComputedStyle(f):null,r(f)},[])}}function uh(e){return e?.animationName||"none"}function AG(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function PG(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var eS="ScrollArea",[qD]=on(eS),[OG,la]=qD(eS),UD=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...s}=e,[c,d]=w.useState(null),[f,p]=w.useState(null),[h,g]=w.useState(null),[x,_]=w.useState(null),[b,v]=w.useState(null),[j,S]=w.useState(0),[A,P]=w.useState(0),[E,O]=w.useState(!1),[C,T]=w.useState(!1),I=lt(t,D=>d(D)),R=As(a);return o.jsx(OG,{scope:r,type:n,dir:R,scrollHideDelay:i,scrollArea:c,viewport:f,onViewportChange:p,content:h,onContentChange:g,scrollbarX:x,onScrollbarXChange:_,scrollbarXEnabled:E,onScrollbarXEnabledChange:O,scrollbarY:b,onScrollbarYChange:v,scrollbarYEnabled:C,onScrollbarYEnabledChange:T,onCornerWidthChange:S,onCornerHeightChange:P,children:o.jsx(We.div,{dir:R,...s,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":A+"px",...e.style}})})});UD.displayName=eS;var VD="ScrollAreaViewport",WD=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,s=la(VD,r),c=w.useRef(null),d=lt(t,c,s.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),o.jsx(We.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});WD.displayName=VD;var Xa="ScrollAreaScrollbar",HD=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=la(Xa,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:s}=a,c=e.orientation==="horizontal";return w.useEffect(()=>(c?i(!0):s(!0),()=>{c?i(!1):s(!1)}),[c,i,s]),a.type==="hover"?o.jsx(kG,{...n,ref:t,forceMount:r}):a.type==="scroll"?o.jsx(TG,{...n,ref:t,forceMount:r}):a.type==="auto"?o.jsx(GD,{...n,ref:t,forceMount:r}):a.type==="always"?o.jsx(tS,{...n,ref:t}):null});HD.displayName=Xa;var kG=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=la(Xa,e.__scopeScrollArea),[i,s]=w.useState(!1);return w.useEffect(()=>{const c=a.scrollArea;let d=0;if(c){const f=()=>{window.clearTimeout(d),s(!0)},p=()=>{d=window.setTimeout(()=>s(!1),a.scrollHideDelay)};return c.addEventListener("pointerenter",f),c.addEventListener("pointerleave",p),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",f),c.removeEventListener("pointerleave",p)}}},[a.scrollArea,a.scrollHideDelay]),o.jsx(Jr,{present:r||i,children:o.jsx(GD,{"data-state":i?"visible":"hidden",...n,ref:t})})}),TG=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=la(Xa,e.__scopeScrollArea),i=e.orientation==="horizontal",s=ym(()=>d("SCROLL_END"),100),[c,d]=PG("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(c==="idle"){const f=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(f)}},[c,a.scrollHideDelay,d]),w.useEffect(()=>{const f=a.viewport,p=i?"scrollLeft":"scrollTop";if(f){let h=f[p];const g=()=>{const x=f[p];h!==x&&(d("SCROLL"),s()),h=x};return f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[a.viewport,i,d,s]),o.jsx(Jr,{present:r||c!=="hidden",children:o.jsx(tS,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Pe(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Pe(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),GD=w.forwardRef((e,t)=>{const r=la(Xa,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,s]=w.useState(!1),c=e.orientation==="horizontal",d=ym(()=>{if(r.viewport){const f=r.viewport.offsetWidth<r.viewport.scrollWidth,p=r.viewport.offsetHeight<r.viewport.scrollHeight;s(c?f:p)}},10);return Fl(r.viewport,d),Fl(r.content,d),o.jsx(Jr,{present:n||i,children:o.jsx(tS,{"data-state":i?"visible":"hidden",...a,ref:t})})}),tS=w.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=la(Xa,e.__scopeScrollArea),i=w.useRef(null),s=w.useRef(0),[c,d]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=QD(c.viewport,c.content),p={...n,sizes:c,onSizesChange:d,hasThumb:f>0&&f<1,onThumbChange:g=>i.current=g,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:g=>s.current=g};function h(g,x){return LG(g,s.current,c,x)}return r==="horizontal"?o.jsx(RG,{...p,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const g=a.viewport.scrollLeft,x=CA(g,c,a.dir);i.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:g=>{a.viewport&&(a.viewport.scrollLeft=g)},onDragScroll:g=>{a.viewport&&(a.viewport.scrollLeft=h(g,a.dir))}}):r==="vertical"?o.jsx(IG,{...p,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const g=a.viewport.scrollTop,x=CA(g,c);i.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:g=>{a.viewport&&(a.viewport.scrollTop=g)},onDragScroll:g=>{a.viewport&&(a.viewport.scrollTop=h(g))}}):null}),RG=w.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=la(Xa,e.__scopeScrollArea),[s,c]=w.useState(),d=w.useRef(null),f=lt(t,d,i.onScrollbarXChange);return w.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),o.jsx(YD,{"data-orientation":"horizontal",...a,ref:f,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":vm(r)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.x),onDragScroll:p=>e.onDragScroll(p.x),onWheelScroll:(p,h)=>{if(i.viewport){const g=i.viewport.scrollLeft+p.deltaX;e.onWheelScroll(g),e$(g,h)&&p.preventDefault()}},onResize:()=>{d.current&&i.viewport&&s&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Wh(s.paddingLeft),paddingEnd:Wh(s.paddingRight)}})}})}),IG=w.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=la(Xa,e.__scopeScrollArea),[s,c]=w.useState(),d=w.useRef(null),f=lt(t,d,i.onScrollbarYChange);return w.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),o.jsx(YD,{"data-orientation":"vertical",...a,ref:f,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":vm(r)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.y),onDragScroll:p=>e.onDragScroll(p.y),onWheelScroll:(p,h)=>{if(i.viewport){const g=i.viewport.scrollTop+p.deltaY;e.onWheelScroll(g),e$(g,h)&&p.preventDefault()}},onResize:()=>{d.current&&i.viewport&&s&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Wh(s.paddingTop),paddingEnd:Wh(s.paddingBottom)}})}})}),[MG,KD]=qD(Xa),YD=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:f,onWheelScroll:p,onResize:h,...g}=e,x=la(Xa,r),[_,b]=w.useState(null),v=lt(t,I=>b(I)),j=w.useRef(null),S=w.useRef(""),A=x.viewport,P=n.content-n.viewport,E=Pr(p),O=Pr(d),C=ym(h,10);function T(I){if(j.current){const R=I.clientX-j.current.left,D=I.clientY-j.current.top;f({x:R,y:D})}}return w.useEffect(()=>{const I=R=>{const D=R.target;_?.contains(D)&&E(R,P)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[A,_,P,E]),w.useEffect(O,[n,O]),Fl(_,C),Fl(x.content,C),o.jsx(MG,{scope:r,scrollbar:_,hasThumb:a,onThumbChange:Pr(i),onThumbPointerUp:Pr(s),onThumbPositionChange:O,onThumbPointerDown:Pr(c),children:o.jsx(We.div,{...g,ref:v,style:{position:"absolute",...g.style},onPointerDown:Pe(e.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),j.current=_.getBoundingClientRect(),S.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),T(I))}),onPointerMove:Pe(e.onPointerMove,T),onPointerUp:Pe(e.onPointerUp,I=>{const R=I.target;R.hasPointerCapture(I.pointerId)&&R.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=S.current,x.viewport&&(x.viewport.style.scrollBehavior=""),j.current=null})})})}),Vh="ScrollAreaThumb",XD=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=KD(Vh,e.__scopeScrollArea);return o.jsx(Jr,{present:r||a.hasThumb,children:o.jsx(DG,{ref:t,...n})})}),DG=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=la(Vh,r),s=KD(Vh,r),{onThumbPositionChange:c}=s,d=lt(t,h=>s.onThumbChange(h)),f=w.useRef(void 0),p=ym(()=>{f.current&&(f.current(),f.current=void 0)},100);return w.useEffect(()=>{const h=i.viewport;if(h){const g=()=>{if(p(),!f.current){const x=zG(h,c);f.current=x,c()}};return c(),h.addEventListener("scroll",g),()=>h.removeEventListener("scroll",g)}},[i.viewport,p,c]),o.jsx(We.div,{"data-state":s.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Pe(e.onPointerDownCapture,h=>{const x=h.target.getBoundingClientRect(),_=h.clientX-x.left,b=h.clientY-x.top;s.onThumbPointerDown({x:_,y:b})}),onPointerUp:Pe(e.onPointerUp,s.onThumbPointerUp)})});XD.displayName=Vh;var rS="ScrollAreaCorner",JD=w.forwardRef((e,t)=>{const r=la(rS,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx($G,{...e,ref:t}):null});JD.displayName=rS;var $G=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=la(rS,r),[i,s]=w.useState(0),[c,d]=w.useState(0),f=!!(i&&c);return Fl(a.scrollbarX,()=>{const p=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(p),d(p)}),Fl(a.scrollbarY,()=>{const p=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(p),s(p)}),f?o.jsx(We.div,{...n,ref:t,style:{width:i,height:c,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Wh(e){return e?parseInt(e,10):0}function QD(e,t){const r=e/t;return isNaN(r)?0:r}function vm(e){const t=QD(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function LG(e,t,r,n="ltr"){const a=vm(r),i=a/2,s=t||i,c=a-s,d=r.scrollbar.paddingStart+s,f=r.scrollbar.size-r.scrollbar.paddingEnd-c,p=r.content-r.viewport,h=n==="ltr"?[0,p]:[p*-1,0];return ZD([d,f],h)(e)}function CA(e,t,r="ltr"){const n=vm(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,s=t.content-t.viewport,c=i-n,d=r==="ltr"?[0,s]:[s*-1,0],f=Cw(e,d);return ZD([0,s],[0,c])(f)}function ZD(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function e$(e,t){return e>0&&e<t}var zG=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function a(){const i={left:e.scrollLeft,top:e.scrollTop},s=r.left!==i.left,c=r.top!==i.top;(s||c)&&t(),r=i,n=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(n)};function ym(e,t){const r=Pr(e),n=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),w.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Fl(e,t){const r=Pr(t);er(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var FG=UD,BG=WD,qG=JD;function t_({className:e,children:t,...r}){return o.jsxs(FG,{"data-slot":"scroll-area",className:Xe("relative",e),...r,children:[o.jsx(BG,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),o.jsx(UG,{}),o.jsx(qG,{})]})}function UG({className:e,orientation:t="vertical",...r}){return o.jsx(HD,{"data-slot":"scroll-area-scrollbar",orientation:t,className:Xe("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...r,children:o.jsx(XD,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function bc(){return o.jsx("div",{className:"fixed bottom-4 left-4 z-50",children:o.jsxs(Dt,{variant:"outline",className:"bg-green-50 border-green-200 text-green-700 flex items-center gap-2 px-3 py-1.5",children:[o.jsx(uW,{className:"size-3.5"}),o.jsx("span",{className:"text-xs",children:"Datos de Supabase"}),o.jsxs("span",{className:"relative flex size-2",children:[o.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),o.jsx("span",{className:"relative inline-flex rounded-full size-2 bg-green-500"})]})]})})}async function VG(){try{console.log(" Obteniendo conversaciones...");const{data:e,error:t}=await we.from("conversacion_chatbot").select(`
        *,
        paciente:paciente(id_paciente, nombres, apellidos, cedula)
      `).order("fecha_conversacion",{ascending:!1});return t?(console.error(" Error al obtener conversaciones:",t),[]):(console.log(` Se encontraron ${e?.length||0} conversaciones`),e||[])}catch(e){return console.error(" Error inesperado:",e),[]}}async function WG(e){try{console.log(" Obteniendo conversaciones del paciente:",e);const{data:t,error:r}=await we.from("conversacion_chatbot").select(`
        *,
        paciente:paciente(id_paciente, nombres, apellidos, cedula)
      `).eq("id_paciente",e).order("fecha_conversacion",{ascending:!1});return r?(console.error(" Error al obtener conversaciones:",r),[]):t||[]}catch(t){return console.error(" Error inesperado:",t),[]}}async function HG(e){try{console.log(" Obteniendo conversacin con mensajes:",e);const{data:t,error:r}=await we.from("conversacion_chatbot").select(`
        *,
        paciente:paciente(id_paciente, nombres, apellidos, cedula)
      `).eq("id_conversacion",e).maybeSingle();if(r||!t)return console.error(" Error al obtener conversacin:",r),null;const{data:n,error:a}=await we.from("mensaje_chatbot").select("*").eq("id_conversacion",e).order("hora",{ascending:!0});return a?(console.error(" Error al obtener mensajes:",a),null):{...t,mensajesArray:n||[]}}catch(t){return console.error(" Error inesperado:",t),null}}async function GG(e,t="consulta_info"){try{console.log(" Creando conversacin para paciente:",e);const r=new Date().toISOString(),n={id_paciente:e,tipo:t,estado:"pendiente",fecha_conversacion:r,hora_inicio:r,hora_fin:r,mensajes:[],resultado:{}},{data:a,error:i}=await we.from("conversacion_chatbot").insert(n).select().single();return i?(console.error(" Error al crear conversacin:",i),null):(console.log(" Conversacin creada exitosamente"),a)}catch(r){return console.error(" Error inesperado:",r),null}}async function nS(e,t){try{console.log(" Actualizando conversacin:",e);const{error:r}=await we.from("conversacion_chatbot").update({...t,hora_fin:new Date().toISOString()}).eq("id_conversacion",e);return r?(console.error(" Error al actualizar conversacin:",r),!1):(console.log(" Conversacin actualizada"),!0)}catch(r){return console.error(" Error inesperado:",r),!1}}async function KG(e){return nS(e,{estado:"completado"})}async function YG(e){try{console.log(" Eliminando conversacin:",e),await we.from("mensaje_chatbot").delete().eq("id_conversacion",e);const{error:t}=await we.from("conversacion_chatbot").delete().eq("id_conversacion",e);return t?(console.error(" Error al eliminar conversacin:",t),!1):(console.log(" Conversacin eliminada"),!0)}catch(t){return console.error(" Error inesperado:",t),!1}}async function AA(e,t,r,n){try{console.log(" Agregando mensaje a conversacin:",e);const a={id_conversacion:e,tipo:t,texto:r,hora:new Date().toISOString(),metadatos:n||{}},{data:i,error:s}=await we.from("mensaje_chatbot").insert(a).select().single();return s?(console.error(" Error al agregar mensaje:",s),null):(await nS(e,{}),console.log(" Mensaje agregado"),i)}catch(a){return console.error(" Error inesperado:",a),null}}async function XG(e){try{console.log(" Obteniendo mensajes de conversacin:",e);const{data:t,error:r}=await we.from("mensaje_chatbot").select("*").eq("id_conversacion",e).order("hora",{ascending:!0});return r?(console.error(" Error al obtener mensajes:",r),[]):t||[]}catch(t){return console.error(" Error inesperado:",t),[]}}async function JG(e,t=[]){try{console.log(" Generando respuesta IA para:",e);const r=e.toLowerCase();return r.includes("cita")||r.includes("agendar")?`Para agendar una cita, puedes ir a la seccin "Agenda" en el men principal. All podrs:

 Ver el calendario semanal con disponibilidad
 Crear nueva cita seleccionando paciente, mdico y horario
 Buscar pacientes existentes o registrar nuevos
 Confirmar la cita

Necesitas ayuda con algo especfico del proceso de agendamiento?`:r.includes("paciente")||r.includes("historia")?`En la seccin "Pacientes" puedes:

 Ver lista completa de pacientes registrados
 Buscar por nombre, cdula o cdigo
 Registrar signos vitales (presin, temperatura, peso, etc.)
 Llenar historia clnica y antecedentes mdicos
 Adjuntar archivos y documentos
 Registrar alergias y medicamentos

Qu informacin de pacientes necesitas consultar?`:r.includes("cobro")||r.includes("pago")||r.includes("factura")?`El mdulo de "Cobros" te permite:

 Gestionar pagos de consultas y procedimientos
 Agregar cargos adicionales (exmenes, medicamentos)
 Registrar mltiples formas de pago (efectivo, tarjeta, transferencia)
 Aplicar descuentos
 Ver dashboard con mtricas financieras
 Exportar reportes a CSV

Necesitas ayuda con algn proceso de cobro?`:r.includes("reporte")||r.includes("estadstica")||r.includes("anlisis")?`En "Reportes" encontrars anlisis completo del sistema:

 Estadsticas generales (pacientes, citas, ingresos)
 Grficos de citas por da
 Anlisis de ingresos y pagos pendientes
 Desempeo por mdico
 Desempeo por sucursal
 Top pacientes (ms frecuentes o que ms gastan)
 Distribucin de formas de pago

Qu tipo de anlisis necesitas ver?`:r.includes("configuracin")||r.includes("configurar")||r.includes("usuario")?`El panel de "Configuraciones" te permite administrar:

 Compaas y sucursales
 Consultorios
 Usuarios del sistema (mdicos, administrativos)
 Asignaciones de usuarios a sucursales
 Horarios de atencin por mdico
 Precios base y personalizados

Qu necesitas configurar en el sistema?`:r.includes("hola")||r.includes("buenos")||r.includes("buenas")?`Hola!  Soy tu asistente virtual de MediControl.

Puedo ayudarte con:
  Informacin sobre citas y agenda
  Gestin de pacientes
  Cobros y facturacin
  Reportes y estadsticas
  Configuraciones del sistema

En qu puedo ayudarte hoy?`:r.includes("ayuda")||r.includes("help")?`Estoy aqu para ayudarte con el sistema MediControl. Puedo asistirte con:

 **Mdulos disponibles:**
 Agenda - Gestin de citas mdicas
 Pacientes - Historias clnicas y datos
 Cobros - Facturacin y pagos
 Reportes - Anlisis y estadsticas
 Configuraciones - Administracin del sistema

 **Pregntame sobre:**
 Cmo agendar una cita
 Cmo registrar informacin de pacientes
 Cmo procesar pagos
 Cmo ver reportes
 Cualquier duda del sistema

Qu necesitas saber?`:`Entiendo tu consulta sobre "${e}".

Como asistente de MediControl, puedo ayudarte con:
  Agendamiento de citas
  Gestin de pacientes
  Cobros y facturacin
  Reportes del sistema
  Configuraciones

Podras darme ms detalles sobre lo que necesitas? Por ejemplo, puedes preguntarme:
- "Cmo agendar una cita?"
- "Cmo registrar un paciente?"
- "Cmo ver los reportes?"`}catch(r){return console.error(" Error al generar respuesta:",r),"Lo siento, tuve un problema al procesar tu mensaje. Podras intentarlo de nuevo?"}}async function QG(e,t){try{if(!await AA(e,"usuario",t))return console.error(" No se pudo guardar el mensaje del usuario"),null;const a=(await XG(e)).slice(-10),i=await JG(t,a);return await AA(e,"asistente",i)}catch(r){return console.error(" Error al procesar mensaje:",r),null}}async function ZG(){try{console.log(" Obteniendo estadsticas de conversaciones...");const{data:e,error:t}=await we.from("conversacion_chatbot").select("tipo, estado");return t?(console.error(" Error:",t),{totalConversaciones:0,conversacionesActivas:0,conversacionesCerradas:0,porTipo:{}}):{totalConversaciones:e?.length||0,conversacionesActivas:e?.filter(n=>n.estado==="pendiente").length||0,conversacionesCerradas:e?.filter(n=>n.estado==="completado").length||0,porTipo:e?.reduce((n,a)=>(n[a.tipo]=(n[a.tipo]||0)+1,n),{})||{}}}catch(e){return console.error(" Error inesperado:",e),{totalConversaciones:0,conversacionesActivas:0,conversacionesCerradas:0,porTipo:{}}}}function eK(e){return{agendamiento:"Agendamiento",consulta_info:"Consulta de Informacin",reagendamiento:"Reagendamiento",cancelacion:"Cancelacin"}[e]||e}function PA(e){return{completado:"Completado",pendiente:"Pendiente",cancelado:"Cancelado"}[e]||e}function t$(e){const t=new Date,r=new Date(e),n=t.getTime()-r.getTime(),a=Math.floor(n/6e4),i=Math.floor(n/36e5),s=Math.floor(n/864e5);return a<1?"Ahora":a<60?`Hace ${a} min`:i<24?`Hace ${i}h`:s<7?`Hace ${s}d`:r.toLocaleDateString("es-ES",{day:"2-digit",month:"short"})}function tK(e){const[t,r]=w.useState([]),[n,a]=w.useState(!0),[i,s]=w.useState(null),c=w.useCallback(async()=>{a(!0),s(null);try{const g=e?await WG(e):await VG();r(g)}catch(g){s("Error al cargar conversaciones"),console.error(g)}a(!1)},[e]);return w.useEffect(()=>{c()},[c]),{conversaciones:t,isLoading:n,error:i,loadConversaciones:c,crearConversacion:async(g,x="consulta_info")=>{const _=await GG(g,x);return _?(await c(),_):null},actualizarConversacion:async(g,x)=>{const _=await nS(g,x);return _&&await c(),_},cerrarConversacionById:async g=>{const x=await KG(g);return x&&await c(),x},eliminarConversacion:async g=>{const x=await YG(g);return x&&await c(),x}}}function rK(e){const[t,r]=w.useState(null),[n,a]=w.useState(!1),[i,s]=w.useState(!1),[c,d]=w.useState(null),f=w.useCallback(async()=>{if(!e){r(null);return}a(!0),d(null);try{const h=await HG(e);r(h)}catch(h){d("Error al cargar conversacin"),console.error(h)}a(!1)},[e]);w.useEffect(()=>{f()},[f]);const p=async h=>{if(!e||!h.trim())return null;s(!0),d(null);try{const g=await QG(e,h.trim());return g?(await f(),g):(d("Error al enviar mensaje"),null)}catch(g){return d("Error al enviar mensaje"),console.error(g),null}finally{s(!1)}};return{conversacion:t,mensajes:t?.mensajesArray||[],isLoading:n,isSending:i,error:c,loadConversacion:f,enviarMensaje:p}}function nK(){const[e,t]=w.useState({totalConversaciones:0,conversacionesActivas:0,conversacionesCerradas:0,porTipo:{}}),[r,n]=w.useState(!0),a=w.useCallback(async()=>{n(!0);const i=await ZG();t(i),n(!1)},[]);return w.useEffect(()=>{a()},[a]),{estadisticas:e,isLoading:r,loadEstadisticas:a}}function aK(e){const t=iK(e),r=w.forwardRef((n,a)=>{const{children:i,...s}=n,c=w.Children.toArray(i),d=c.find(sK);if(d){const f=d.props.children,p=c.map(h=>h===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:h);return o.jsx(t,{...s,ref:a,children:w.isValidElement(f)?w.cloneElement(f,void 0,p):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function iK(e){const t=w.forwardRef((r,n)=>{const{children:a,...i}=r;if(w.isValidElement(a)){const s=cK(a),c=lK(i,a.props);return a.type!==w.Fragment&&(c.ref=n?Ai(n,s):s),w.cloneElement(a,c)}return w.Children.count(a)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var oK=Symbol("radix.slottable");function sK(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===oK}function lK(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function cK(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var xm="Dialog",[r$,n$]=on(xm),[uK,Pa]=r$(xm),a$=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:s=!0}=e,c=w.useRef(null),d=w.useRef(null),[f,p]=Aa({prop:n,defaultProp:a??!1,onChange:i,caller:xm});return o.jsx(uK,{scope:t,triggerRef:c,contentRef:d,contentId:ra(),titleId:ra(),descriptionId:ra(),open:f,onOpenChange:p,onOpenToggle:w.useCallback(()=>p(h=>!h),[p]),modal:s,children:r})};a$.displayName=xm;var i$="DialogTrigger",o$=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Pa(i$,r),i=lt(t,a.triggerRef);return o.jsx(We.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":oS(a.open),...n,ref:i,onClick:Pe(e.onClick,a.onOpenToggle)})});o$.displayName=i$;var aS="DialogPortal",[dK,s$]=r$(aS,{forceMount:void 0}),l$=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Pa(aS,t);return o.jsx(dK,{scope:t,forceMount:r,children:w.Children.map(n,s=>o.jsx(Jr,{present:r||i.open,children:o.jsx(om,{asChild:!0,container:a,children:s})}))})};l$.displayName=aS;var Hh="DialogOverlay",c$=w.forwardRef((e,t)=>{const r=s$(Hh,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Pa(Hh,e.__scopeDialog);return i.modal?o.jsx(Jr,{present:n||i.open,children:o.jsx(hK,{...a,ref:t})}):null});c$.displayName=Hh;var fK=aK("DialogOverlay.RemoveScroll"),hK=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Pa(Hh,r);return o.jsx(lm,{as:fK,allowPinchZoom:!0,shards:[a.contentRef],children:o.jsx(We.div,{"data-state":oS(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ws="DialogContent",u$=w.forwardRef((e,t)=>{const r=s$(ws,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Pa(ws,e.__scopeDialog);return o.jsx(Jr,{present:n||i.open,children:i.modal?o.jsx(pK,{...a,ref:t}):o.jsx(mK,{...a,ref:t})})});u$.displayName=ws;var pK=w.forwardRef((e,t)=>{const r=Pa(ws,e.__scopeDialog),n=w.useRef(null),a=lt(t,r.contentRef,n);return w.useEffect(()=>{const i=n.current;if(i)return Vj(i)},[]),o.jsx(d$,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Pe(e.onPointerDownOutside,i=>{const s=i.detail.originalEvent,c=s.button===0&&s.ctrlKey===!0;(s.button===2||c)&&i.preventDefault()}),onFocusOutside:Pe(e.onFocusOutside,i=>i.preventDefault())})}),mK=w.forwardRef((e,t)=>{const r=Pa(ws,e.__scopeDialog),n=w.useRef(!1),a=w.useRef(!1);return o.jsx(d$,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;r.triggerRef.current?.contains(s)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),d$=w.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...s}=e,c=Pa(ws,r),d=w.useRef(null),f=lt(t,d);return Rj(),o.jsxs(o.Fragment,{children:[o.jsx(em,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:o.jsx(Zp,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":oS(c.open),...s,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(vK,{titleId:c.titleId}),o.jsx(xK,{contentRef:d,descriptionId:c.descriptionId})]})]})}),iS="DialogTitle",f$=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Pa(iS,r);return o.jsx(We.h2,{id:a.titleId,...n,ref:t})});f$.displayName=iS;var h$="DialogDescription",p$=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Pa(h$,r);return o.jsx(We.p,{id:a.descriptionId,...n,ref:t})});p$.displayName=h$;var m$="DialogClose",g$=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Pa(m$,r);return o.jsx(We.button,{type:"button",...n,ref:t,onClick:Pe(e.onClick,()=>a.onOpenChange(!1))})});g$.displayName=m$;function oS(e){return e?"open":"closed"}var v$="DialogTitleWarning",[gK,y$]=f6(v$,{contentName:ws,titleName:iS,docsSlug:"dialog"}),vK=({titleId:e})=>{const t=y$(v$),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},yK="DialogDescriptionWarning",xK=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${y$(yK).contentName}}.`;return w.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},x$=a$,bK=o$,b$=l$,w$=c$,_$=u$,j$=f$,S$=p$,sS=g$,wK=Symbol("radix.slottable");function _K(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=wK,t}var E$="AlertDialog",[jK]=on(E$,[n$]),ki=n$(),N$=e=>{const{__scopeAlertDialog:t,...r}=e,n=ki(t);return o.jsx(x$,{...n,...r,modal:!0})};N$.displayName=E$;var SK="AlertDialogTrigger",EK=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ki(r);return o.jsx(bK,{...a,...n,ref:t})});EK.displayName=SK;var NK="AlertDialogPortal",C$=e=>{const{__scopeAlertDialog:t,...r}=e,n=ki(t);return o.jsx(b$,{...n,...r})};C$.displayName=NK;var CK="AlertDialogOverlay",A$=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ki(r);return o.jsx(w$,{...a,...n,ref:t})});A$.displayName=CK;var Rl="AlertDialogContent",[AK,PK]=jK(Rl),OK=_K("AlertDialogContent"),P$=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=ki(r),s=w.useRef(null),c=lt(t,s),d=w.useRef(null);return o.jsx(gK,{contentName:Rl,titleName:O$,docsSlug:"alert-dialog",children:o.jsx(AK,{scope:r,cancelRef:d,children:o.jsxs(_$,{role:"alertdialog",...i,...a,ref:c,onOpenAutoFocus:Pe(a.onOpenAutoFocus,f=>{f.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[o.jsx(OK,{children:n}),o.jsx(TK,{contentRef:s})]})})})});P$.displayName=Rl;var O$="AlertDialogTitle",k$=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ki(r);return o.jsx(j$,{...a,...n,ref:t})});k$.displayName=O$;var T$="AlertDialogDescription",R$=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ki(r);return o.jsx(S$,{...a,...n,ref:t})});R$.displayName=T$;var kK="AlertDialogAction",I$=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ki(r);return o.jsx(sS,{...a,...n,ref:t})});I$.displayName=kK;var M$="AlertDialogCancel",D$=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=PK(M$,r),i=ki(r),s=lt(t,a);return o.jsx(sS,{...i,...n,ref:s})});D$.displayName=M$;var TK=({contentRef:e})=>{const t=`\`${Rl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Rl}\` by passing a \`${T$}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Rl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},RK=N$,IK=C$,MK=A$,DK=P$,$K=I$,LK=D$,zK=k$,FK=R$;function Ti({...e}){return o.jsx(RK,{"data-slot":"alert-dialog",...e})}function BK({...e}){return o.jsx(IK,{"data-slot":"alert-dialog-portal",...e})}const $$=w.forwardRef(({className:e,...t},r)=>o.jsx(MK,{ref:r,"data-slot":"alert-dialog-overlay",className:Xe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));$$.displayName="AlertDialogOverlay";function Ri({className:e,...t}){return o.jsxs(BK,{children:[o.jsx($$,{}),o.jsx(DK,{"data-slot":"alert-dialog-content",className:Xe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function Ii({className:e,...t}){return o.jsx("div",{"data-slot":"alert-dialog-header",className:Xe("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Mi({className:e,...t}){return o.jsx("div",{"data-slot":"alert-dialog-footer",className:Xe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Di({className:e,...t}){return o.jsx(zK,{"data-slot":"alert-dialog-title",className:Xe("text-lg font-semibold",e),...t})}function $i({className:e,...t}){return o.jsx(FK,{"data-slot":"alert-dialog-description",className:Xe("text-muted-foreground text-sm",e),...t})}function Li({className:e,...t}){return o.jsx($K,{className:Xe(Tj(),e),...t})}function zi({className:e,...t}){return o.jsx(LK,{className:Xe(Tj({variant:"outline"}),e),...t})}var by="rovingFocusGroup.onEntryFocus",qK={bubbles:!1,cancelable:!0},Td="RovingFocusGroup",[r_,L$,UK]=Qp(Td),[VK,wc]=on(Td,[UK]),[WK,HK]=VK(Td),z$=w.forwardRef((e,t)=>o.jsx(r_.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(r_.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(GK,{...e,ref:t})})}));z$.displayName=Td;var GK=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:p=!1,...h}=e,g=w.useRef(null),x=lt(t,g),_=As(i),[b,v]=Aa({prop:s,defaultProp:c??null,onChange:d,caller:Td}),[j,S]=w.useState(!1),A=Pr(f),P=L$(r),E=w.useRef(!1),[O,C]=w.useState(0);return w.useEffect(()=>{const T=g.current;if(T)return T.addEventListener(by,A),()=>T.removeEventListener(by,A)},[A]),o.jsx(WK,{scope:r,orientation:n,dir:_,loop:a,currentTabStopId:b,onItemFocus:w.useCallback(T=>v(T),[v]),onItemShiftTab:w.useCallback(()=>S(!0),[]),onFocusableItemAdd:w.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:w.useCallback(()=>C(T=>T-1),[]),children:o.jsx(We.div,{tabIndex:j||O===0?-1:0,"data-orientation":n,...h,ref:x,style:{outline:"none",...e.style},onMouseDown:Pe(e.onMouseDown,()=>{E.current=!0}),onFocus:Pe(e.onFocus,T=>{const I=!E.current;if(T.target===T.currentTarget&&I&&!j){const R=new CustomEvent(by,qK);if(T.currentTarget.dispatchEvent(R),!R.defaultPrevented){const D=P().filter(F=>F.focusable),B=D.find(F=>F.active),W=D.find(F=>F.id===b),J=[B,W,...D].filter(Boolean).map(F=>F.ref.current);q$(J,p)}}E.current=!1}),onBlur:Pe(e.onBlur,()=>S(!1))})})}),F$="RovingFocusGroupItem",B$=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:s,...c}=e,d=ra(),f=i||d,p=HK(F$,r),h=p.currentTabStopId===f,g=L$(r),{onFocusableItemAdd:x,onFocusableItemRemove:_,currentTabStopId:b}=p;return w.useEffect(()=>{if(n)return x(),()=>_()},[n,x,_]),o.jsx(r_.ItemSlot,{scope:r,id:f,focusable:n,active:a,children:o.jsx(We.span,{tabIndex:h?0:-1,"data-orientation":p.orientation,...c,ref:t,onMouseDown:Pe(e.onMouseDown,v=>{n?p.onItemFocus(f):v.preventDefault()}),onFocus:Pe(e.onFocus,()=>p.onItemFocus(f)),onKeyDown:Pe(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){p.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const j=XK(v,p.orientation,p.dir);if(j!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let A=g().filter(P=>P.focusable).map(P=>P.ref.current);if(j==="last")A.reverse();else if(j==="prev"||j==="next"){j==="prev"&&A.reverse();const P=A.indexOf(v.currentTarget);A=p.loop?JK(A,P+1):A.slice(P+1)}setTimeout(()=>q$(A))}}),children:typeof s=="function"?s({isCurrentTabStop:h,hasTabStop:b!=null}):s})})});B$.displayName=F$;var KK={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function YK(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function XK(e,t,r){const n=YK(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return KK[n]}function q$(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function JK(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var lS=z$,cS=B$;function QK(e){const t=ZK(e),r=w.forwardRef((n,a)=>{const{children:i,...s}=n,c=w.Children.toArray(i),d=c.find(tY);if(d){const f=d.props.children,p=c.map(h=>h===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:h);return o.jsx(t,{...s,ref:a,children:w.isValidElement(f)?w.cloneElement(f,void 0,p):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function ZK(e){const t=w.forwardRef((r,n)=>{const{children:a,...i}=r;if(w.isValidElement(a)){const s=nY(a),c=rY(i,a.props);return a.type!==w.Fragment&&(c.ref=n?Ai(n,s):s),w.cloneElement(a,c)}return w.Children.count(a)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eY=Symbol("radix.slottable");function tY(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eY}function rY(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function nY(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var n_=["Enter"," "],aY=["ArrowDown","PageUp","Home"],U$=["ArrowUp","PageDown","End"],iY=[...aY,...U$],oY={ltr:[...n_,"ArrowRight"],rtl:[...n_,"ArrowLeft"]},sY={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Rd="Menu",[Wu,lY,cY]=Qp(Rd),[Ps,V$]=on(Rd,[cY,im,wc]),bm=im(),W$=wc(),[uY,Os]=Ps(Rd),[dY,Id]=Ps(Rd),H$=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:s=!0}=e,c=bm(t),[d,f]=w.useState(null),p=w.useRef(!1),h=Pr(i),g=As(a);return w.useEffect(()=>{const x=()=>{p.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>p.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),o.jsx(OM,{...c,children:o.jsx(uY,{scope:t,open:r,onOpenChange:h,content:d,onContentChange:f,children:o.jsx(dY,{scope:t,onClose:w.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:p,dir:g,modal:s,children:n})})})};H$.displayName=Rd;var fY="MenuAnchor",uS=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=bm(r);return o.jsx(kM,{...a,...n,ref:t})});uS.displayName=fY;var dS="MenuPortal",[hY,G$]=Ps(dS,{forceMount:void 0}),K$=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=Os(dS,t);return o.jsx(hY,{scope:t,forceMount:r,children:o.jsx(Jr,{present:r||i.open,children:o.jsx(om,{asChild:!0,container:a,children:n})})})};K$.displayName=dS;var na="MenuContent",[pY,fS]=Ps(na),Y$=w.forwardRef((e,t)=>{const r=G$(na,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Os(na,e.__scopeMenu),s=Id(na,e.__scopeMenu);return o.jsx(Wu.Provider,{scope:e.__scopeMenu,children:o.jsx(Jr,{present:n||i.open,children:o.jsx(Wu.Slot,{scope:e.__scopeMenu,children:s.modal?o.jsx(mY,{...a,ref:t}):o.jsx(gY,{...a,ref:t})})})})}),mY=w.forwardRef((e,t)=>{const r=Os(na,e.__scopeMenu),n=w.useRef(null),a=lt(t,n);return w.useEffect(()=>{const i=n.current;if(i)return Vj(i)},[]),o.jsx(hS,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Pe(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),gY=w.forwardRef((e,t)=>{const r=Os(na,e.__scopeMenu);return o.jsx(hS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),vY=QK("MenuContent.ScrollLock"),hS=w.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:h,onInteractOutside:g,onDismiss:x,disableOutsideScroll:_,...b}=e,v=Os(na,r),j=Id(na,r),S=bm(r),A=W$(r),P=lY(r),[E,O]=w.useState(null),C=w.useRef(null),T=lt(t,C,v.onContentChange),I=w.useRef(0),R=w.useRef(""),D=w.useRef(0),B=w.useRef(null),W=w.useRef("right"),Y=w.useRef(0),J=_?lm:w.Fragment,F=_?{as:vY,allowPinchZoom:!0}:void 0,K=H=>{const te=R.current+H,q=P().filter(re=>!re.disabled),Q=document.activeElement,U=q.find(re=>re.ref.current===Q)?.textValue,ne=q.map(re=>re.textValue),se=PY(ne,te,U),ve=q.find(re=>re.textValue===se)?.ref.current;(function re(oe){R.current=oe,window.clearTimeout(I.current),oe!==""&&(I.current=window.setTimeout(()=>re(""),1e3))})(te),ve&&setTimeout(()=>ve.focus())};w.useEffect(()=>()=>window.clearTimeout(I.current),[]),Rj();const L=w.useCallback(H=>W.current===B.current?.side&&kY(H,B.current?.area),[]);return o.jsx(pY,{scope:r,searchRef:R,onItemEnter:w.useCallback(H=>{L(H)&&H.preventDefault()},[L]),onItemLeave:w.useCallback(H=>{L(H)||(C.current?.focus(),O(null))},[L]),onTriggerLeave:w.useCallback(H=>{L(H)&&H.preventDefault()},[L]),pointerGraceTimerRef:D,onPointerGraceIntentChange:w.useCallback(H=>{B.current=H},[]),children:o.jsx(J,{...F,children:o.jsx(em,{asChild:!0,trapped:a,onMountAutoFocus:Pe(i,H=>{H.preventDefault(),C.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:o.jsx(Zp,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:h,onInteractOutside:g,onDismiss:x,children:o.jsx(lS,{asChild:!0,...A,dir:j.dir,orientation:"vertical",loop:n,currentTabStopId:E,onCurrentTabStopIdChange:O,onEntryFocus:Pe(d,H=>{j.isUsingKeyboardRef.current||H.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(TM,{role:"menu","aria-orientation":"vertical","data-state":dL(v.open),"data-radix-menu-content":"",dir:j.dir,...S,...b,ref:T,style:{outline:"none",...b.style},onKeyDown:Pe(b.onKeyDown,H=>{const q=H.target.closest("[data-radix-menu-content]")===H.currentTarget,Q=H.ctrlKey||H.altKey||H.metaKey,U=H.key.length===1;q&&(H.key==="Tab"&&H.preventDefault(),!Q&&U&&K(H.key));const ne=C.current;if(H.target!==ne||!iY.includes(H.key))return;H.preventDefault();const ve=P().filter(re=>!re.disabled).map(re=>re.ref.current);U$.includes(H.key)&&ve.reverse(),CY(ve)}),onBlur:Pe(e.onBlur,H=>{H.currentTarget.contains(H.target)||(window.clearTimeout(I.current),R.current="")}),onPointerMove:Pe(e.onPointerMove,Hu(H=>{const te=H.target,q=Y.current!==H.clientX;if(H.currentTarget.contains(te)&&q){const Q=H.clientX>Y.current?"right":"left";W.current=Q,Y.current=H.clientX}}))})})})})})})});Y$.displayName=na;var yY="MenuGroup",pS=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(We.div,{role:"group",...n,ref:t})});pS.displayName=yY;var xY="MenuLabel",X$=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(We.div,{...n,ref:t})});X$.displayName=xY;var Gh="MenuItem",OA="menu.itemSelect",wm=w.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=w.useRef(null),s=Id(Gh,e.__scopeMenu),c=fS(Gh,e.__scopeMenu),d=lt(t,i),f=w.useRef(!1),p=()=>{const h=i.current;if(!r&&h){const g=new CustomEvent(OA,{bubbles:!0,cancelable:!0});h.addEventListener(OA,x=>n?.(x),{once:!0}),iM(h,g),g.defaultPrevented?f.current=!1:s.onClose()}};return o.jsx(J$,{...a,ref:d,disabled:r,onClick:Pe(e.onClick,p),onPointerDown:h=>{e.onPointerDown?.(h),f.current=!0},onPointerUp:Pe(e.onPointerUp,h=>{f.current||h.currentTarget?.click()}),onKeyDown:Pe(e.onKeyDown,h=>{const g=c.searchRef.current!=="";r||g&&h.key===" "||n_.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});wm.displayName=Gh;var J$=w.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,s=fS(Gh,r),c=W$(r),d=w.useRef(null),f=lt(t,d),[p,h]=w.useState(!1),[g,x]=w.useState("");return w.useEffect(()=>{const _=d.current;_&&x((_.textContent??"").trim())},[i.children]),o.jsx(Wu.ItemSlot,{scope:r,disabled:n,textValue:a??g,children:o.jsx(cS,{asChild:!0,...c,focusable:!n,children:o.jsx(We.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:f,onPointerMove:Pe(e.onPointerMove,Hu(_=>{n?s.onItemLeave(_):(s.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Pe(e.onPointerLeave,Hu(_=>s.onItemLeave(_))),onFocus:Pe(e.onFocus,()=>h(!0)),onBlur:Pe(e.onBlur,()=>h(!1))})})})}),bY="MenuCheckboxItem",Q$=w.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return o.jsx(nL,{scope:e.__scopeMenu,checked:r,children:o.jsx(wm,{role:"menuitemcheckbox","aria-checked":Kh(r)?"mixed":r,...a,ref:t,"data-state":gS(r),onSelect:Pe(a.onSelect,()=>n?.(Kh(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Q$.displayName=bY;var Z$="MenuRadioGroup",[wY,_Y]=Ps(Z$,{value:void 0,onValueChange:()=>{}}),eL=w.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=Pr(n);return o.jsx(wY,{scope:e.__scopeMenu,value:r,onValueChange:i,children:o.jsx(pS,{...a,ref:t})})});eL.displayName=Z$;var tL="MenuRadioItem",rL=w.forwardRef((e,t)=>{const{value:r,...n}=e,a=_Y(tL,e.__scopeMenu),i=r===a.value;return o.jsx(nL,{scope:e.__scopeMenu,checked:i,children:o.jsx(wm,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":gS(i),onSelect:Pe(n.onSelect,()=>a.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});rL.displayName=tL;var mS="MenuItemIndicator",[nL,jY]=Ps(mS,{checked:!1}),aL=w.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=jY(mS,r);return o.jsx(Jr,{present:n||Kh(i.checked)||i.checked===!0,children:o.jsx(We.span,{...a,ref:t,"data-state":gS(i.checked)})})});aL.displayName=mS;var SY="MenuSeparator",iL=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(We.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});iL.displayName=SY;var EY="MenuArrow",oL=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=bm(r);return o.jsx(RM,{...a,...n,ref:t})});oL.displayName=EY;var NY="MenuSub",[bve,sL]=Ps(NY),ju="MenuSubTrigger",lL=w.forwardRef((e,t)=>{const r=Os(ju,e.__scopeMenu),n=Id(ju,e.__scopeMenu),a=sL(ju,e.__scopeMenu),i=fS(ju,e.__scopeMenu),s=w.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=i,f={__scopeMenu:e.__scopeMenu},p=w.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return w.useEffect(()=>p,[p]),w.useEffect(()=>{const h=c.current;return()=>{window.clearTimeout(h),d(null)}},[c,d]),o.jsx(uS,{asChild:!0,...f,children:o.jsx(J$,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":dL(r.open),...e,ref:Ai(t,a.onTriggerChange),onClick:h=>{e.onClick?.(h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Pe(e.onPointerMove,Hu(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!s.current&&(i.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{r.onOpenChange(!0),p()},100))})),onPointerLeave:Pe(e.onPointerLeave,Hu(h=>{p();const g=r.content?.getBoundingClientRect();if(g){const x=r.content?.dataset.side,_=x==="right",b=_?-5:5,v=g[_?"left":"right"],j=g[_?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+b,y:h.clientY},{x:v,y:g.top},{x:j,y:g.top},{x:j,y:g.bottom},{x:v,y:g.bottom}],side:x}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Pe(e.onKeyDown,h=>{const g=i.searchRef.current!=="";e.disabled||g&&h.key===" "||oY[n.dir].includes(h.key)&&(r.onOpenChange(!0),r.content?.focus(),h.preventDefault())})})})});lL.displayName=ju;var cL="MenuSubContent",uL=w.forwardRef((e,t)=>{const r=G$(na,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Os(na,e.__scopeMenu),s=Id(na,e.__scopeMenu),c=sL(cL,e.__scopeMenu),d=w.useRef(null),f=lt(t,d);return o.jsx(Wu.Provider,{scope:e.__scopeMenu,children:o.jsx(Jr,{present:n||i.open,children:o.jsx(Wu.Slot,{scope:e.__scopeMenu,children:o.jsx(hS,{id:c.contentId,"aria-labelledby":c.triggerId,...a,ref:f,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{s.isUsingKeyboardRef.current&&d.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:Pe(e.onFocusOutside,p=>{p.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Pe(e.onEscapeKeyDown,p=>{s.onClose(),p.preventDefault()}),onKeyDown:Pe(e.onKeyDown,p=>{const h=p.currentTarget.contains(p.target),g=sY[s.dir].includes(p.key);h&&g&&(i.onOpenChange(!1),c.trigger?.focus(),p.preventDefault())})})})})})});uL.displayName=cL;function dL(e){return e?"open":"closed"}function Kh(e){return e==="indeterminate"}function gS(e){return Kh(e)?"indeterminate":e?"checked":"unchecked"}function CY(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function AY(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function PY(e,t,r){const a=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let s=AY(e,Math.max(i,0));a.length===1&&(s=s.filter(f=>f!==r));const d=s.find(f=>f.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function OY(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const c=t[i],d=t[s],f=c.x,p=c.y,h=d.x,g=d.y;p>n!=g>n&&r<(h-f)*(n-p)/(g-p)+f&&(a=!a)}return a}function kY(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return OY(r,t)}function Hu(e){return t=>t.pointerType==="mouse"?e(t):void 0}var TY=H$,RY=uS,IY=K$,MY=Y$,DY=pS,$Y=X$,LY=wm,zY=Q$,FY=eL,BY=rL,qY=aL,UY=iL,VY=oL,WY=lL,HY=uL,_m="DropdownMenu",[GY]=on(_m,[V$]),sn=V$(),[KY,fL]=GY(_m),hL=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:s,modal:c=!0}=e,d=sn(t),f=w.useRef(null),[p,h]=Aa({prop:a,defaultProp:i??!1,onChange:s,caller:_m});return o.jsx(KY,{scope:t,triggerId:ra(),triggerRef:f,contentId:ra(),open:p,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(g=>!g),[h]),modal:c,children:o.jsx(TY,{...d,open:p,onOpenChange:h,dir:n,modal:c,children:r})})};hL.displayName=_m;var pL="DropdownMenuTrigger",mL=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=fL(pL,r),s=sn(r);return o.jsx(RY,{asChild:!0,...s,children:o.jsx(We.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Ai(t,i.triggerRef),onPointerDown:Pe(e.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:Pe(e.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});mL.displayName=pL;var YY="DropdownMenuPortal",gL=e=>{const{__scopeDropdownMenu:t,...r}=e,n=sn(t);return o.jsx(IY,{...n,...r})};gL.displayName=YY;var vL="DropdownMenuContent",yL=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fL(vL,r),i=sn(r),s=w.useRef(!1);return o.jsx(MY,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:Pe(e.onCloseAutoFocus,c=>{s.current||a.triggerRef.current?.focus(),s.current=!1,c.preventDefault()}),onInteractOutside:Pe(e.onInteractOutside,c=>{const d=c.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,p=d.button===2||f;(!a.modal||p)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});yL.displayName=vL;var XY="DropdownMenuGroup",JY=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=sn(r);return o.jsx(DY,{...a,...n,ref:t})});JY.displayName=XY;var QY="DropdownMenuLabel",ZY=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=sn(r);return o.jsx($Y,{...a,...n,ref:t})});ZY.displayName=QY;var eX="DropdownMenuItem",xL=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=sn(r);return o.jsx(LY,{...a,...n,ref:t})});xL.displayName=eX;var tX="DropdownMenuCheckboxItem",rX=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=sn(r);return o.jsx(zY,{...a,...n,ref:t})});rX.displayName=tX;var nX="DropdownMenuRadioGroup",aX=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=sn(r);return o.jsx(FY,{...a,...n,ref:t})});aX.displayName=nX;var iX="DropdownMenuRadioItem",oX=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=sn(r);return o.jsx(BY,{...a,...n,ref:t})});oX.displayName=iX;var sX="DropdownMenuItemIndicator",lX=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=sn(r);return o.jsx(qY,{...a,...n,ref:t})});lX.displayName=sX;var cX="DropdownMenuSeparator",uX=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=sn(r);return o.jsx(UY,{...a,...n,ref:t})});uX.displayName=cX;var dX="DropdownMenuArrow",fX=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=sn(r);return o.jsx(VY,{...a,...n,ref:t})});fX.displayName=dX;var hX="DropdownMenuSubTrigger",pX=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=sn(r);return o.jsx(WY,{...a,...n,ref:t})});pX.displayName=hX;var mX="DropdownMenuSubContent",gX=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=sn(r);return o.jsx(HY,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gX.displayName=mX;var vX=hL,yX=mL,xX=gL,bX=yL,wX=xL;function _X({...e}){return o.jsx(vX,{"data-slot":"dropdown-menu",...e})}function jX({...e}){return o.jsx(yX,{"data-slot":"dropdown-menu-trigger",...e})}function SX({className:e,sideOffset:t=4,...r}){return o.jsx(xX,{children:o.jsx(bX,{"data-slot":"dropdown-menu-content",sideOffset:t,className:Xe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...r})})}function EX({className:e,inset:t,variant:r="default",...n}){return o.jsx(wX,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:Xe("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n})}function NX({currentUser:e}){const[t,r]=w.useState(null),[n,a]=w.useState(""),[i,s]=w.useState(""),[c,d]=w.useState(!1),[f,p]=w.useState(!1),[h,g]=w.useState(null),{conversaciones:x,isLoading:_,crearConversacion:b,eliminarConversacion:v}=tK(),{conversacion:j,mensajes:S,isLoading:A,isSending:P,enviarMensaje:E}=rK(t),{estadisticas:O,isLoading:C}=nK(),T=w.useRef(null),I=w.useRef(null);w.useEffect(()=>{T.current?.scrollIntoView({behavior:"smooth"})},[S]),w.useEffect(()=>{t&&I.current?.focus()},[t]);const R=x.filter(F=>(F.paciente?`${F.paciente.nombres} ${F.paciente.apellidos}`:`Conversacin #${F.id_conversacion}`).toLowerCase().includes(i.toLowerCase())),D=async()=>{const K=await b(1,"consulta_info");K?(r(K.id_conversacion),de.success("Nueva conversacin creada")):de.error("Error al crear conversacin")},B=async()=>{if(!n.trim()||!t)return;const F=n;a(""),await E(F)||(de.error("Error al enviar mensaje"),a(F))},W=F=>{F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),B())},Y=F=>{g(F),p(!0)},J=async()=>{if(!h)return;await v(h.id_conversacion)?(de.success("Conversacin eliminada"),t===h.id_conversacion&&r(null)):de.error("Error al eliminar conversacin"),p(!1),g(null)};return o.jsxs("div",{className:"h-[calc(100vh-8rem)] flex flex-col gap-4",children:[o.jsx(bc,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"flex items-center gap-2",children:[o.jsx(hs,{className:"size-6 text-blue-600"}),"ChatBot Inteligente"]}),o.jsx("p",{className:"text-sm text-gray-500",children:"Asistente virtual con memoria persistente"})]}),!C&&o.jsxs("div",{className:"flex gap-4",children:[o.jsx(tt,{className:"px-4 py-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(IW,{className:"size-4 text-blue-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Total"}),o.jsx("p",{className:"text-lg",children:O.totalConversaciones})]})]})}),o.jsx(tt,{className:"px-4 py-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(zw,{className:"size-4 text-green-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Activas"}),o.jsx("p",{className:"text-lg",children:O.conversacionesActivas})]})]})})]})]}),o.jsxs("div",{className:"flex-1 grid grid-cols-12 gap-4 min-h-0",children:[o.jsxs(tt,{className:"col-span-12 md:col-span-4 lg:col-span-3 flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b space-y-3",children:[o.jsxs(fe,{onClick:D,className:"w-full",children:[o.jsx(cr,{className:"size-4 mr-2"}),"Nueva Conversacin"]}),o.jsxs("div",{className:"relative",children:[o.jsx(ps,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-gray-400"}),o.jsx(Se,{placeholder:"Buscar conversaciones...",value:i,onChange:F=>s(F.target.value),className:"pl-9"})]})]}),o.jsx(t_,{className:"flex-1",children:_?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(lr,{className:"size-6 animate-spin text-blue-600"})}):R.length===0?o.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:i?"No se encontraron conversaciones":"No hay conversaciones an"}):o.jsx("div",{className:"p-2 space-y-1",children:R.map(F=>o.jsx("div",{className:`
                      group relative p-3 rounded-lg cursor-pointer transition-colors
                      ${t===F.id_conversacion?"bg-blue-50 border-2 border-blue-200":"hover:bg-gray-50 border-2 border-transparent"}
                    `,onClick:()=>r(F.id_conversacion),children:o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(Kj,{className:"size-4 text-blue-600 flex-shrink-0"}),o.jsx("p",{className:"text-sm truncate",children:F.paciente?`${F.paciente.nombres} ${F.paciente.apellidos}`:`Conversacin #${F.id_conversacion}`})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[o.jsx(Dt,{variant:F.estado==="pendiente"?"default":"secondary",className:"text-xs",children:PA(F.estado)}),o.jsx("span",{children:t$(F.created_at||F.fecha_conversacion)})]})]}),o.jsxs(_X,{children:[o.jsx(jX,{asChild:!0,children:o.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-8 w-8",onClick:K=>K.stopPropagation(),children:o.jsx(vW,{className:"size-4"})})}),o.jsx(SX,{align:"end",children:o.jsxs(EX,{className:"text-red-600",onClick:K=>{K.stopPropagation(),Y(F)},children:[o.jsx(Pi,{className:"size-4 mr-2"}),"Eliminar"]})})]})]})},F.id_conversacion))})})]}),o.jsx(tt,{className:"col-span-12 md:col-span-8 lg:col-span-9 flex flex-col",children:t?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"p-4 border-b",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:o.jsx(hs,{className:"size-5 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm",children:j?.paciente?`${j.paciente.nombres} ${j.paciente.apellidos}`:`Conversacin #${j?.id_conversacion}`}),o.jsx("p",{className:"text-xs text-gray-500",children:eK(j?.tipo||"consulta_info")})]})]}),o.jsx(Dt,{variant:j?.estado==="pendiente"?"default":"secondary",children:PA(j?.estado||"pendiente")})]})}),o.jsxs(t_,{className:"flex-1 p-4",children:[A?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(lr,{className:"size-6 animate-spin text-blue-600"})}):S.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"No hay mensajes an. Escribe tu primera pregunta!"}),o.jsxs("div",{className:"text-left max-w-md mx-auto bg-blue-50 p-4 rounded-lg",children:[o.jsxs("p",{className:"text-sm mb-2",children:[" ",o.jsx("strong",{children:"Prueba preguntar:"})]}),o.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[o.jsx("li",{children:" Cmo agendar una cita?"}),o.jsx("li",{children:" Cmo registrar un paciente?"}),o.jsx("li",{children:" Cmo ver los reportes?"}),o.jsx("li",{children:" Cmo procesar un pago?"})]})]})]}):o.jsxs("div",{className:"space-y-4",children:[S.map(F=>o.jsx(CX,{mensaje:F},F.id_mensaje)),o.jsx("div",{ref:T})]}),P&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mt-4",children:[o.jsx("div",{className:"bg-gray-100 p-3 rounded-lg",children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx("div",{className:"size-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),o.jsx("div",{className:"size-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),o.jsx("div",{className:"size-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})}),o.jsx("span",{children:"Asistente est escribiendo..."})]})]}),o.jsxs("div",{className:"p-4 border-t",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Se,{ref:I,placeholder:"Escribe tu mensaje...",value:n,onChange:F=>a(F.target.value),onKeyPress:W,disabled:P,className:"flex-1"}),o.jsx(fe,{onClick:B,disabled:!n.trim()||P,children:P?o.jsx(lr,{className:"size-4 animate-spin"}):o.jsx(wD,{className:"size-4"})})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Presiona Enter para enviar  Shift+Enter para nueva lnea"})]})]}):o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsxs("div",{className:"text-center max-w-md",children:[o.jsx("div",{className:"bg-blue-100 size-20 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(hs,{className:"size-10 text-blue-600"})}),o.jsx("h3",{className:"mb-2",children:"Hola! Soy tu asistente virtual"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Puedo ayudarte con informacin sobre citas, pacientes, cobros, reportes y ms. Selecciona una conversacin o crea una nueva para comenzar."}),o.jsxs(fe,{onClick:D,children:[o.jsx(cr,{className:"size-4 mr-2"}),"Iniciar Conversacin"]})]})})})]}),o.jsx(Ti,{open:f,onOpenChange:p,children:o.jsxs(Ri,{children:[o.jsxs(Ii,{children:[o.jsx(Di,{children:"Eliminar conversacin?"}),o.jsx($i,{children:"Esta accin eliminar la conversacin y todos sus mensajes. Esta accin no se puede deshacer."})]}),o.jsxs(Mi,{children:[o.jsx(zi,{children:"Cancelar"}),o.jsx(Li,{onClick:J,className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]})]})})]})}function CX({mensaje:e}){const t=e.tipo==="usuario"||e.tipo==="paciente",r=e.tipo==="asistente"||e.tipo==="bot";return o.jsxs("div",{className:`flex gap-3 ${t?"justify-end":"justify-start"}`,children:[r&&o.jsx("div",{className:"bg-blue-100 p-2 rounded-lg size-8 flex items-center justify-center flex-shrink-0",children:o.jsx(hs,{className:"size-4 text-blue-600"})}),o.jsxs("div",{className:`
          max-w-[70%] rounded-lg p-3
          ${t?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}
        `,children:[o.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:e.texto}),o.jsx("p",{className:`text-xs mt-1 ${t?"text-blue-100":"text-gray-500"}`,children:t$(e.hora)})]}),t&&o.jsx("div",{className:"bg-gray-200 p-2 rounded-lg size-8 flex items-center justify-center flex-shrink-0",children:o.jsx(hm,{className:"size-4 text-gray-600"})})]})}var jm="Tabs",[AX]=on(jm,[wc]),bL=wc(),[PX,vS]=AX(jm),wL=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:s="horizontal",dir:c,activationMode:d="automatic",...f}=e,p=As(c),[h,g]=Aa({prop:n,onChange:a,defaultProp:i??"",caller:jm});return o.jsx(PX,{scope:r,baseId:ra(),value:h,onValueChange:g,orientation:s,dir:p,activationMode:d,children:o.jsx(We.div,{dir:p,"data-orientation":s,...f,ref:t})})});wL.displayName=jm;var _L="TabsList",jL=w.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=vS(_L,r),s=bL(r);return o.jsx(lS,{asChild:!0,...s,orientation:i.orientation,dir:i.dir,loop:n,children:o.jsx(We.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});jL.displayName=_L;var SL="TabsTrigger",EL=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,s=vS(SL,r),c=bL(r),d=AL(s.baseId,n),f=PL(s.baseId,n),p=n===s.value;return o.jsx(cS,{asChild:!0,...c,focusable:!a,active:p,children:o.jsx(We.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":f,"data-state":p?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...i,ref:t,onMouseDown:Pe(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?s.onValueChange(n):h.preventDefault()}),onKeyDown:Pe(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&s.onValueChange(n)}),onFocus:Pe(e.onFocus,()=>{const h=s.activationMode!=="manual";!p&&!a&&h&&s.onValueChange(n)})})})});EL.displayName=SL;var NL="TabsContent",CL=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...s}=e,c=vS(NL,r),d=AL(c.baseId,n),f=PL(c.baseId,n),p=n===c.value,h=w.useRef(p);return w.useEffect(()=>{const g=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(g)},[]),o.jsx(Jr,{present:a||p,children:({present:g})=>o.jsx(We.div,{"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!g,id:f,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:g&&i})})});CL.displayName=NL;function AL(e,t){return`${e}-trigger-${t}`}function PL(e,t){return`${e}-content-${t}`}var OX=wL,kX=jL,TX=EL,RX=CL;function OL({className:e,...t}){return o.jsx(OX,{"data-slot":"tabs",className:Xe("flex flex-col gap-2",e),...t})}function kL({className:e,...t}){return o.jsx(kX,{"data-slot":"tabs-list",className:Xe("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function _l({className:e,...t}){return o.jsx(TX,{"data-slot":"tabs-trigger",className:Xe("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function An({className:e,...t}){return o.jsx(RX,{"data-slot":"tabs-content",className:Xe("flex-1 outline-none",e),...t})}function Or({...e}){return o.jsx(x$,{"data-slot":"dialog",...e})}function IX({...e}){return o.jsx(b$,{"data-slot":"dialog-portal",...e})}const TL=w.forwardRef(({className:e,...t},r)=>o.jsx(w$,{ref:r,"data-slot":"dialog-overlay",className:Xe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));TL.displayName="DialogOverlay";function kr({className:e,children:t,...r}){return o.jsxs(IX,{"data-slot":"dialog-portal",children:[o.jsx(TL,{}),o.jsxs(_$,{"data-slot":"dialog-content",className:Xe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[60] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,o.jsxs(sS,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[o.jsx(bo,{}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Tr({className:e,...t}){return o.jsx("div",{"data-slot":"dialog-header",className:Xe("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Rr({className:e,...t}){return o.jsx("div",{"data-slot":"dialog-footer",className:Xe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Ir({className:e,...t}){return o.jsx(j$,{"data-slot":"dialog-title",className:Xe("text-lg leading-none font-semibold",e),...t})}function Mr({className:e,...t}){return o.jsx(S$,{"data-slot":"dialog-description",className:Xe("text-muted-foreground text-sm",e),...t})}function aa({className:e,...t}){return o.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:o.jsx("table",{"data-slot":"table",className:Xe("w-full caption-bottom text-sm",e),...t})})}function ia({className:e,...t}){return o.jsx("thead",{"data-slot":"table-header",className:Xe("[&_tr]:border-b",e),...t})}function oa({className:e,...t}){return o.jsx("tbody",{"data-slot":"table-body",className:Xe("[&_tr:last-child]:border-0",e),...t})}function gt({className:e,...t}){return o.jsx("tr",{"data-slot":"table-row",className:Xe("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function Ce({className:e,...t}){return o.jsx("th",{"data-slot":"table-head",className:Xe("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function _e({className:e,...t}){return o.jsx("td",{"data-slot":"table-cell",className:Xe("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}async function MX(){try{console.log(" Obteniendo compaas...");const{data:e,error:t}=await we.from("compania").select("*").order("nombre",{ascending:!0});return t?(console.error(" Error al obtener compaas:",t),[]):(console.log(` Se encontraron ${e?.length||0} compaas`),e||[])}catch(e){return console.error(" Error inesperado:",e),[]}}async function DX(e){try{console.log(" Creando compaa:",e.nombre);const{data:t,error:r}=await we.from("compania").insert(e).select().single();return r?(console.error(" Error al crear compaa:",r),null):(console.log(" Compaa creada exitosamente"),t)}catch(t){return console.error(" Error inesperado:",t),null}}async function $X(e,t){try{console.log(" Actualizando compaa ID:",e);const{error:r}=await we.from("compania").update(t).eq("id_compania",e);return r?(console.error(" Error al actualizar compaa:",r),!1):(console.log(" Compaa actualizada exitosamente"),!0)}catch(r){return console.error(" Error inesperado:",r),!1}}async function LX(e){try{console.log(" Eliminando compaa ID:",e);const{error:t}=await we.from("compania").delete().eq("id_compania",e);return t?(console.error(" Error al eliminar compaa:",t),!1):(console.log(" Compaa eliminada exitosamente"),!0)}catch(t){return console.error(" Error inesperado:",t),!1}}async function zX(){try{console.log(" Obteniendo sucursales...");const{data:e,error:t}=await we.from("sucursal").select(`
        *,
        compania:compania!inner(*)
      `).order("nombre",{ascending:!0});return t?(console.error(" Error al obtener sucursales:",t),[]):(console.log(` Se encontraron ${e?.length||0} sucursales`),e||[])}catch(e){return console.error(" Error inesperado:",e),[]}}async function FX(e){try{console.log(" Creando sucursal:",e.nombre);const{data:t,error:r}=await we.from("sucursal").insert(e).select().single();return r?(console.error(" Error al crear sucursal:",r),null):(console.log(" Sucursal creada exitosamente"),t)}catch(t){return console.error(" Error inesperado:",t),null}}async function BX(e,t){try{console.log(" Actualizando sucursal ID:",e);const{error:r}=await we.from("sucursal").update(t).eq("id_sucursal",e);return r?(console.error(" Error al actualizar sucursal:",r),!1):(console.log(" Sucursal actualizada exitosamente"),!0)}catch(r){return console.error(" Error inesperado:",r),!1}}async function qX(e){try{console.log(" Eliminando sucursal ID:",e);const{error:t}=await we.from("sucursal").delete().eq("id_sucursal",e);return t?(console.error(" Error al eliminar sucursal:",t),!1):(console.log(" Sucursal eliminada exitosamente"),!0)}catch(t){return console.error(" Error inesperado:",t),!1}}async function UX(){try{console.log(" Obteniendo consultorios...");const{data:e,error:t}=await we.from("consultorio").select(`
        *,
        sucursal:sucursal!inner(
          *,
          compania:compania(*)
        )
      `).order("nombre",{ascending:!0});return t?(console.error(" Error al obtener consultorios:",t),[]):(console.log(` Se encontraron ${e?.length||0} consultorios`),e||[])}catch(e){return console.error(" Error inesperado:",e),[]}}async function VX(e){try{console.log(" Creando consultorio:",e.nombre);const{data:t,error:r}=await we.from("consultorio").insert(e).select().single();return r?(console.error(" Error al crear consultorio:",r),null):(console.log(" Consultorio creado exitosamente"),t)}catch(t){return console.error(" Error inesperado:",t),null}}async function WX(e,t){try{console.log(" Actualizando consultorio ID:",e);const{error:r}=await we.from("consultorio").update(t).eq("id_consultorio",e);return r?(console.error(" Error al actualizar consultorio:",r),!1):(console.log(" Consultorio actualizado exitosamente"),!0)}catch(r){return console.error(" Error inesperado:",r),!1}}async function HX(e){try{console.log(" Eliminando consultorio ID:",e);const{error:t}=await we.from("consultorio").delete().eq("id_consultorio",e);return t?(console.error(" Error al eliminar consultorio:",t),!1):(console.log(" Consultorio eliminado exitosamente"),!0)}catch(t){return console.error(" Error inesperado:",t),!1}}async function GX(){try{console.log(" Obteniendo usuarios...");const{data:e,error:t}=await we.from("usuario").select("*").order("apellido",{ascending:!0});return t?(console.error(" Error al obtener usuarios:",t),[]):(console.log(` Se encontraron ${e?.length||0} usuarios`),e||[])}catch(e){return console.error(" Error inesperado:",e),[]}}async function KX(e){try{console.log(" Creando usuario:",e.email);const{data:t,error:r}=await we.from("usuario").insert(e).select().single();if(r)throw console.error(" Error al crear usuario:",r),r.code==="23505"?r.message.includes("cedula")?new Error("La cdula ya est registrada en el sistema"):r.message.includes("email")?new Error("El email ya est registrado en el sistema"):new Error("Ya existe un registro con estos datos"):new Error("Error al crear el usuario");return console.log(" Usuario creado exitosamente"),t}catch(t){throw console.error(" Error inesperado:",t),t}}async function YX(e,t){try{console.log(" Actualizando usuario ID:",e);const{error:r}=await we.from("usuario").update(t).eq("id_usuario",e);return r?(console.error(" Error al actualizar usuario:",r),!1):(console.log(" Usuario actualizado exitosamente"),!0)}catch(r){return console.error(" Error inesperado:",r),!1}}async function XX(e){try{console.log(" Eliminando usuario ID:",e);const{error:t}=await we.from("usuario").delete().eq("id_usuario",e);return t?(console.error(" Error al eliminar usuario:",t),!1):(console.log(" Usuario eliminado exitosamente"),!0)}catch(t){return console.error(" Error inesperado:",t),!1}}async function JX(){try{console.log(" Obteniendo asignaciones usuario-sucursal...");const{data:e,error:t}=await we.from("usuario_sucursal").select(`
        *,
        usuario:usuario!inner(*),
        sucursal:sucursal!inner(
          *,
          compania:compania(*)
        )
      `).order("id_usuario_sucursal",{ascending:!1});return t?(console.error(" Error al obtener asignaciones:",t),[]):(console.log(` Se encontraron ${e?.length||0} asignaciones`),e||[])}catch(e){return console.error(" Error inesperado:",e),[]}}async function RL(e){try{console.log(" Creando asignacin usuario-sucursal");const{data:t,error:r}=await we.from("usuario_sucursal").insert(e).select().single();return r?(console.error(" Error al crear asignacin:",r),null):(console.log(" Asignacin creada exitosamente"),t)}catch(t){return console.error(" Error inesperado:",t),null}}async function QX(e,t){try{console.log(" Actualizando asignacin ID:",e);const{error:r}=await we.from("usuario_sucursal").update(t).eq("id_usuario_sucursal",e);return r?(console.error(" Error al actualizar asignacin:",r),!1):(console.log(" Asignacin actualizada exitosamente"),!0)}catch(r){return console.error(" Error inesperado:",r),!1}}async function ZX(e){try{console.log(" Eliminando asignacin ID:",e);const{error:t}=await we.from("usuario_sucursal").delete().eq("id_usuario_sucursal",e);return t?(console.error(" Error al eliminar asignacin:",t),!1):(console.log(" Asignacin eliminada exitosamente"),!0)}catch(t){return console.error(" Error inesperado:",t),!1}}async function eJ(){try{console.log(" Obteniendo precios base...");const{data:e,error:t}=await we.from("precio_base_especialidad").select("*").order("especialidad",{ascending:!0});return t?(console.error(" Error al obtener precios base:",t),[]):(console.log(` Se encontraron ${e?.length||0} precios base`),e||[])}catch(e){return console.error(" Error inesperado:",e),[]}}async function tJ(e){try{console.log(" Creando precio base:",e.especialidad);const{data:t,error:r}=await we.from("precio_base_especialidad").insert(e).select().single();return r?(console.error(" Error al crear precio base:",r),null):(console.log(" Precio base creado exitosamente"),t)}catch(t){return console.error(" Error inesperado:",t),null}}async function rJ(e,t){try{console.log(" Actualizando precio base ID:",e);const{error:r}=await we.from("precio_base_especialidad").update(t).eq("id_precio_base",e);return r?(console.error(" Error al actualizar precio base:",r),!1):(console.log(" Precio base actualizado exitosamente"),!0)}catch(r){return console.error(" Error inesperado:",r),!1}}async function nJ(e){try{console.log(" Eliminando precio base ID:",e);const{error:t}=await we.from("precio_base_especialidad").delete().eq("id_precio_base",e);return t?(console.error(" Error al eliminar precio base:",t),!1):(console.log(" Precio base eliminado exitosamente"),!0)}catch(t){return console.error(" Error inesperado:",t),!1}}async function aJ(){try{console.log(" Obteniendo precios por usuario...");const{data:e,error:t}=await we.from("precio_usuario_sucursal").select(`
        *,
        usuario_sucursal:usuario_sucursal!inner(
          *,
          usuario:usuario(*),
          sucursal:sucursal(
            *,
            compania:compania(*)
          )
        )
      `);return t?(console.error(" Error al obtener precios usuario:",t),[]):(console.log(` Se encontraron ${e?.length||0} precios usuario`),e||[])}catch(e){return console.error(" Error inesperado:",e),[]}}async function iJ(e){try{console.log(" Creando precio usuario");const{data:t,error:r}=await we.from("precio_usuario_sucursal").insert(e).select().single();return r?(console.error(" Error al crear precio usuario:",r),null):(console.log(" Precio usuario creado exitosamente"),t)}catch(t){return console.error(" Error inesperado:",t),null}}async function oJ(e,t){try{console.log(" Actualizando precio usuario ID:",e);const{error:r}=await we.from("precio_usuario_sucursal").update(t).eq("id_precio_usuario",e);return r?(console.error(" Error al actualizar precio usuario:",r),!1):(console.log(" Precio usuario actualizado exitosamente"),!0)}catch(r){return console.error(" Error inesperado:",r),!1}}async function sJ(e){try{console.log(" Eliminando precio usuario ID:",e);const{error:t}=await we.from("precio_usuario_sucursal").delete().eq("id_precio_usuario",e);return t?(console.error(" Error al eliminar precio usuario:",t),!1):(console.log(" Precio usuario eliminado exitosamente"),!0)}catch(t){return console.error(" Error inesperado:",t),!1}}async function lJ(){try{console.log(" Obteniendo asignaciones de consultorio...");const{data:e,error:t}=await we.from("asignacion_consultorio").select(`
        *,
        usuario_sucursal:usuario_sucursal!inner(
          *,
          usuario:usuario(*),
          sucursal:sucursal(*)
        ),
        consultorio:consultorio!inner(*)
      `).order("dia_semana",{ascending:!0}).order("hora_inicio",{ascending:!0});return t?(console.error(" Error al obtener asignaciones:",t),[]):(console.log(` Se encontraron ${e?.length||0} asignaciones`),e||[])}catch(e){return console.error(" Error inesperado:",e),[]}}async function cJ(e){try{console.log(" Creando asignacin de consultorio:",e);const{data:t,error:r}=await we.from("asignacion_consultorio").insert(e).select().single();return r?(console.error(" Error al crear asignacin:",r),null):(console.log(" Asignacin creada exitosamente:",t),t)}catch(t){return console.error(" Error inesperado:",t),null}}async function uJ(e,t){try{console.log(" Actualizando asignacin ID:",e);const{error:r}=await we.from("asignacion_consultorio").update(t).eq("id_asignacion",e);return r?(console.error(" Error al actualizar asignacin:",r),!1):(console.log(" Asignacin actualizada exitosamente"),!0)}catch(r){return console.error(" Error inesperado:",r),!1}}async function dJ(e){try{console.log(" Eliminando asignacin ID:",e);const{error:t}=await we.from("asignacion_consultorio").delete().eq("id_asignacion",e);return t?(console.error(" Error al eliminar asignacin:",t),!1):(console.log(" Asignacin eliminada exitosamente"),!0)}catch(t){return console.error(" Error inesperado:",t),!1}}function fJ(e){return{medico:"Mdico",administrativo:"Administrativo",enfermera:"Enfermera",secretaria:"Secretaria"}[e]||e}function hJ(e){return typeof e=="number"?{0:"Domingo",1:"Lunes",2:"Martes",3:"Mircoles",4:"Jueves",5:"Viernes",6:"Sbado"}[e]||e.toString():{lunes:"Lunes",martes:"Martes",miercoles:"Mircoles",jueves:"Jueves",viernes:"Viernes",sabado:"Sbado",domingo:"Domingo"}[e]||e}function Il(e){return new Intl.NumberFormat("es-EC",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e)}function Sm(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[a,i]=w.useState(null);w.useEffect(()=>{s()},[]);const s=async()=>{n(!0),i(null);const p=await MX();t(p),n(!1)};return{companias:e,isLoading:r,error:a,loadCompanias:s,agregarCompania:async p=>{const h=await DX(p);return h?(await s(),h):null},actualizarCompania:async(p,h)=>{const g=await $X(p,h);return g&&await s(),g},eliminarCompania:async p=>{const h=await LX(p);return h&&await s(),h}}}function Em(e){const[t,r]=w.useState([]),[n,a]=w.useState(!0);w.useEffect(()=>{i()},[e]);const i=async()=>{a(!0);const f=await zX();r(f),a(!1)};return{sucursales:t,isLoading:n,loadSucursales:i,agregarSucursal:async f=>{const p=await FX(f);return p?(await i(),p):null},actualizarSucursal:async(f,p)=>{const h=await BX(f,p);return h&&await i(),h},eliminarSucursal:async f=>{const p=await qX(f);return p&&await i(),p}}}function IL(e){const[t,r]=w.useState([]),[n,a]=w.useState(!0);w.useEffect(()=>{i()},[e]);const i=async()=>{a(!0);const f=await UX();r(f),a(!1)};return{consultorios:t,isLoading:n,loadConsultorios:i,agregarConsultorio:async f=>{const p=await VX(f);return p?(await i(),p):null},actualizarConsultorio:async(f,p)=>{const h=await WX(f,p);return h&&await i(),h},eliminarConsultorio:async f=>{const p=await HX(f);return p&&await i(),p}}}function ML(e){const[t,r]=w.useState([]),[n,a]=w.useState(!0);w.useEffect(()=>{i()},[e]);const i=async()=>{a(!0);const f=await GX();r(f),a(!1)};return{usuarios:t,isLoading:n,loadUsuarios:i,agregarUsuario:async f=>{try{const p=await KX(f);return await i(),p}catch(p){throw p}},actualizarUsuario:async(f,p)=>{const h=await YX(f,p);return h&&await i(),h},eliminarUsuario:async f=>{const p=await XX(f);return p&&await i(),p}}}function yS(e){const[t,r]=w.useState([]),[n,a]=w.useState(!0);w.useEffect(()=>{i()},[e]);const i=async()=>{a(!0);const f=await JX();r(f),a(!1)};return{asignaciones:t,isLoading:n,loadAsignaciones:i,agregarAsignacion:async f=>{const p=await RL(f);return p?(await i(),p):null},actualizarAsignacion:async(f,p)=>{const h=await QX(f,p);return h&&await i(),h},eliminarAsignacion:async f=>{const p=await ZX(f);return p&&await i(),p}}}function pJ(){const[e,t]=w.useState([]),[r,n]=w.useState(!0);w.useEffect(()=>{a()},[]);const a=async()=>{n(!0);const d=await eJ();t(d),n(!1)};return{preciosBase:e,isLoading:r,loadPreciosBase:a,agregarPrecioBase:async d=>{const f=await tJ(d);return f?(await a(),f):null},actualizarPrecioBase:async(d,f)=>{const p=await rJ(d,f);return p&&await a(),p},eliminarPrecioBase:async d=>{const f=await nJ(d);return f&&await a(),f}}}function mJ(){const[e,t]=w.useState([]),[r,n]=w.useState(!0);w.useEffect(()=>{a()},[]);const a=async()=>{n(!0);const d=await aJ();t(d),n(!1)};return{preciosUsuario:e,isLoading:r,loadPreciosUsuario:a,agregarPrecioUsuario:async d=>{const f=await iJ(d);return f?(await a(),f):null},actualizarPrecioUsuario:async(d,f)=>{const p=await oJ(d,f);return p&&await a(),p},eliminarPrecioUsuario:async d=>{const f=await sJ(d);return f&&await a(),f}}}function gJ(e){const[t,r]=w.useState([]),[n,a]=w.useState(!0);w.useEffect(()=>{i()},[e]);const i=async()=>{a(!0);const f=await lJ();r(f),a(!1)};return{asignaciones:t,isLoading:n,loadAsignaciones:i,agregarAsignacion:async f=>{const p=await cJ(f);return p?(await i(),p):null},actualizarAsignacion:async(f,p)=>{const h=await uJ(f,p);return h&&await i(),h},eliminarAsignacion:async f=>{const p=await dJ(f);return p&&await i(),p}}}function vJ(){const{companias:e,isLoading:t,agregarCompania:r,actualizarCompania:n,eliminarCompania:a}=Sm(),[i,s]=w.useState(!1),[c,d]=w.useState(!1),[f,p]=w.useState(null),[h,g]=w.useState(!1),[x,_]=w.useState(null),[b,v]=w.useState({nombre:"",direccion:"",telefono:"",email:"",logo_url:"",estado:"activo"}),j=()=>{v({nombre:"",direccion:"",telefono:"",email:"",logo_url:"",estado:"activo"}),d(!1),p(null),s(!0)},S=O=>{v({nombre:O.nombre,direccion:O.direccion||"",telefono:O.telefono||"",email:O.email||"",logo_url:O.logo_url||"",estado:O.estado}),d(!0),p(O),s(!0)},A=async()=>{if(!b.nombre.trim()){de.error("El nombre es requerido");return}const O={nombre:b.nombre.trim(),direccion:b.direccion.trim()||null,telefono:b.telefono.trim()||null,email:b.email.trim()||null,logo_url:b.logo_url.trim()||null,estado:b.estado};c&&f?await n(f.id_compania,O)?(de.success("Compaa actualizada exitosamente"),s(!1)):de.error("Error al actualizar la compaa"):await r(O)?(de.success("Compaa creada exitosamente"),s(!1)):de.error("Error al crear la compaa")},P=O=>{_(O),g(!0)},E=async()=>{if(!x)return;await a(x.id_compania)?(de.success("Compaa eliminada exitosamente"),g(!1),_(null)):de.error("Error al eliminar la compaa. Puede tener registros asociados.")};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"flex items-center gap-2",children:[o.jsx(zl,{className:"size-5"}),"Gestin de Compaas"]}),o.jsx("p",{className:"text-sm text-gray-600",children:"Administra las compaas del sistema"})]}),o.jsxs(fe,{onClick:j,children:[o.jsx(cr,{className:"size-4 mr-2"}),"Nueva Compaa"]})]}),t?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(lr,{className:"size-8 animate-spin text-blue-600"})}):o.jsx(tt,{children:o.jsxs(aa,{children:[o.jsx(ia,{children:o.jsxs(gt,{children:[o.jsx(Ce,{children:"Nombre"}),o.jsx(Ce,{children:"Telfono"}),o.jsx(Ce,{children:"Email"}),o.jsx(Ce,{children:"Direccin"}),o.jsx(Ce,{children:"Estado"}),o.jsx(Ce,{className:"text-right",children:"Acciones"})]})}),o.jsx(oa,{children:e.length===0?o.jsx(gt,{children:o.jsx(_e,{colSpan:6,className:"text-center py-8 text-gray-500",children:"No hay compaas registradas"})}):e.map((O,C)=>o.jsxs(gt,{children:[o.jsx(_e,{className:"font-semibold",children:O.nombre}),o.jsx(_e,{children:O.telefono||"-"}),o.jsx(_e,{children:O.email||"-"}),o.jsx(_e,{className:"max-w-xs truncate",children:O.direccion||"-"}),o.jsx(_e,{children:o.jsx(Dt,{variant:O.estado==="activo"?"default":"secondary",children:O.estado==="activo"?"Activo":"Inactivo"})}),o.jsx(_e,{className:"text-right",children:o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>S(O),children:o.jsx(Oo,{className:"size-4"})}),o.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>P(O),children:o.jsx(Pi,{className:"size-4 text-red-600"})})]})})]},O.id_compania||`compania-${C}`))})]})}),o.jsx(Or,{open:i,onOpenChange:s,children:o.jsxs(kr,{children:[o.jsxs(Tr,{children:[o.jsx(Ir,{children:c?"Editar Compaa":"Nueva Compaa"}),o.jsx(Mr,{children:c?"Modifica los datos de la compaa":"Ingresa los datos de la nueva compaa"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Nombre *"}),o.jsx(Se,{value:b.nombre,onChange:O=>v({...b,nombre:O.target.value}),placeholder:"Nombre de la compaa"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Direccin"}),o.jsx(Se,{value:b.direccion,onChange:O=>v({...b,direccion:O.target.value}),placeholder:"Direccin fsica"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Telfono"}),o.jsx(Se,{value:b.telefono,onChange:O=>v({...b,telefono:O.target.value}),placeholder:"Telfono"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Email"}),o.jsx(Se,{type:"email",value:b.email,onChange:O=>v({...b,email:O.target.value}),placeholder:"email@ejemplo.com"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Logo URL (opcional)"}),o.jsx(Se,{value:b.logo_url,onChange:O=>v({...b,logo_url:O.target.value}),placeholder:"https://ejemplo.com/logo.png"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Estado"}),o.jsxs(ft,{value:b.estado,onValueChange:O=>v({...b,estado:O}),children:[o.jsx(pt,{children:o.jsx(ht,{})}),o.jsxs(mt,{children:[o.jsx(Ae,{value:"activo",children:"Activo"}),o.jsx(Ae,{value:"inactivo",children:"Inactivo"})]})]})]})]}),o.jsxs(Rr,{children:[o.jsx(fe,{variant:"outline",onClick:()=>s(!1),children:"Cancelar"}),o.jsx(fe,{onClick:A,children:c?"Actualizar":"Crear"})]})]})}),o.jsx(Ti,{open:h,onOpenChange:g,children:o.jsxs(Ri,{children:[o.jsxs(Ii,{children:[o.jsx(Di,{children:"Ests seguro?"}),o.jsxs($i,{children:['Esta accin eliminar la compaa "',x?.nombre,'". Esta accin no se puede deshacer y puede fallar si existen registros asociados.']})]}),o.jsxs(Mi,{children:[o.jsx(zi,{children:"Cancelar"}),o.jsx(Li,{onClick:E,className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]})]})})]})}function yJ(){const{sucursales:e,isLoading:t,agregarSucursal:r,actualizarSucursal:n,eliminarSucursal:a}=Em(),{companias:i}=Sm(),[s,c]=w.useState(!1),[d,f]=w.useState(!1),[p,h]=w.useState(null),[g,x]=w.useState(!1),[_,b]=w.useState(null),[v,j]=w.useState({id_compania:0,nombre:"",direccion:"",telefono:"",email:"",estado:"activo"}),S=()=>{j({id_compania:i[0]?.id_compania||0,nombre:"",direccion:"",telefono:"",email:"",estado:"activo"}),f(!1),h(null),c(!0)},A=C=>{j({id_compania:C.id_compania,nombre:C.nombre,direccion:C.direccion||"",telefono:C.telefono||"",email:C.email||"",estado:C.estado}),f(!0),h(C),c(!0)},P=async()=>{if(!v.nombre.trim()){de.error("El nombre es requerido");return}if(!v.id_compania){de.error("Debe seleccionar una compaa");return}const C={id_compania:v.id_compania,nombre:v.nombre.trim(),direccion:v.direccion.trim()||null,telefono:v.telefono.trim()||null,email:v.email.trim()||null,estado:v.estado};d&&p?await n(p.id_sucursal,C)?(de.success("Sucursal actualizada exitosamente"),c(!1)):de.error("Error al actualizar la sucursal"):await r(C)?(de.success("Sucursal creada exitosamente"),c(!1)):de.error("Error al crear la sucursal")},E=C=>{b(C),x(!0)},O=async()=>{if(!_)return;await a(_.id_sucursal)?(de.success("Sucursal eliminada exitosamente"),x(!1),b(null)):de.error("Error al eliminar la sucursal. Puede tener registros asociados.")};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"flex items-center gap-2",children:[o.jsx(Co,{className:"size-5"}),"Gestin de Sucursales"]}),o.jsx("p",{className:"text-sm text-gray-600",children:"Administra las sucursales de las compaas"})]}),o.jsxs(fe,{onClick:S,disabled:i.length===0,children:[o.jsx(cr,{className:"size-4 mr-2"}),"Nueva Sucursal"]})]}),i.length===0&&o.jsx(tt,{className:"p-4 bg-yellow-50 border-yellow-200",children:o.jsx("p",{className:"text-sm text-yellow-800",children:" Primero debes crear al menos una compaa antes de agregar sucursales."})}),t?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(lr,{className:"size-8 animate-spin text-blue-600"})}):o.jsx(tt,{children:o.jsxs(aa,{children:[o.jsx(ia,{children:o.jsxs(gt,{children:[o.jsx(Ce,{children:"Nombre"}),o.jsx(Ce,{children:"Compaa"}),o.jsx(Ce,{children:"Direccin"}),o.jsx(Ce,{children:"Telfono"}),o.jsx(Ce,{children:"Email"}),o.jsx(Ce,{children:"Estado"}),o.jsx(Ce,{className:"text-right",children:"Acciones"})]})}),o.jsx(oa,{children:e.length===0?o.jsx(gt,{children:o.jsx(_e,{colSpan:7,className:"text-center py-8 text-gray-500",children:"No hay sucursales registradas"})}):e.map((C,T)=>o.jsxs(gt,{children:[o.jsx(_e,{className:"font-semibold",children:C.nombre}),o.jsx(_e,{children:C.compania?.nombre}),o.jsx(_e,{className:"max-w-xs truncate",children:C.direccion||"-"}),o.jsx(_e,{children:C.telefono||"-"}),o.jsx(_e,{children:C.email||"-"}),o.jsx(_e,{children:o.jsx(Dt,{variant:C.estado==="activo"?"default":"secondary",children:C.estado==="activo"?"Activo":"Inactivo"})}),o.jsx(_e,{className:"text-right",children:o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>A(C),children:o.jsx(Oo,{className:"size-4"})}),o.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>E(C),children:o.jsx(Pi,{className:"size-4 text-red-600"})})]})})]},C.id_sucursal||`sucursal-${T}`))})]})}),o.jsx(Or,{open:s,onOpenChange:c,children:o.jsxs(kr,{children:[o.jsxs(Tr,{children:[o.jsx(Ir,{children:d?"Editar Sucursal":"Nueva Sucursal"}),o.jsx(Mr,{children:d?"Modifica los datos de la sucursal":"Ingresa los datos de la nueva sucursal"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Compaa *"}),o.jsxs(ft,{value:v.id_compania.toString(),onValueChange:C=>j({...v,id_compania:parseInt(C)}),children:[o.jsx(pt,{children:o.jsx(ht,{})}),o.jsx(mt,{children:i.map(C=>o.jsx(Ae,{value:C.id_compania.toString(),children:C.nombre},C.id_compania))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Nombre *"}),o.jsx(Se,{value:v.nombre,onChange:C=>j({...v,nombre:C.target.value}),placeholder:"Nombre de la sucursal"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Direccin"}),o.jsx(Se,{value:v.direccion,onChange:C=>j({...v,direccion:C.target.value}),placeholder:"Direccin fsica"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Telfono"}),o.jsx(Se,{value:v.telefono,onChange:C=>j({...v,telefono:C.target.value}),placeholder:"Telfono"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Email"}),o.jsx(Se,{type:"email",value:v.email,onChange:C=>j({...v,email:C.target.value}),placeholder:"email@ejemplo.com"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Estado"}),o.jsxs(ft,{value:v.estado,onValueChange:C=>j({...v,estado:C}),children:[o.jsx(pt,{children:o.jsx(ht,{})}),o.jsxs(mt,{children:[o.jsx(Ae,{value:"activo",children:"Activo"}),o.jsx(Ae,{value:"inactivo",children:"Inactivo"})]})]})]})]}),o.jsxs(Rr,{children:[o.jsx(fe,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),o.jsx(fe,{onClick:P,children:d?"Actualizar":"Crear"})]})]})}),o.jsx(Ti,{open:g,onOpenChange:x,children:o.jsxs(Ri,{children:[o.jsxs(Ii,{children:[o.jsx(Di,{children:"Ests seguro?"}),o.jsxs($i,{children:['Esta accin eliminar la sucursal "',_?.nombre,'". Esta accin no se puede deshacer y puede fallar si existen registros asociados.']})]}),o.jsxs(Mi,{children:[o.jsx(zi,{children:"Cancelar"}),o.jsx(Li,{onClick:O,className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]})]})})]})}const qt=w.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:`flex min-h-[80px] w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e||""}`,ref:r,...t}));qt.displayName="Textarea";function xJ(){const{consultorios:e,isLoading:t,agregarConsultorio:r,actualizarConsultorio:n,eliminarConsultorio:a}=IL(),{sucursales:i}=Em(),[s,c]=w.useState(!1),[d,f]=w.useState(!1),[p,h]=w.useState(null),[g,x]=w.useState(!1),[_,b]=w.useState(null),[v,j]=w.useState({id_sucursal:0,nombre:"",numero:"",piso:"",capacidad:1,equipamiento:"",estado:"activo"}),S=()=>{j({id_sucursal:i[0]?.id_sucursal||0,nombre:"",numero:"",piso:"",capacidad:1,equipamiento:"",estado:"activo"}),f(!1),h(null),c(!0)},A=C=>{j({id_sucursal:C.id_sucursal,nombre:C.nombre,numero:C.numero||"",piso:C.piso||"",capacidad:C.capacidad||1,equipamiento:C.equipamiento||"",estado:C.estado}),f(!0),h(C),c(!0)},P=async()=>{if(!v.nombre.trim()){de.error("El nombre es requerido");return}if(!v.id_sucursal){de.error("Debe seleccionar una sucursal");return}const C={id_sucursal:v.id_sucursal,nombre:v.nombre.trim(),numero:v.numero.trim()||null,piso:v.piso.trim()||null,capacidad:v.capacidad,equipamiento:v.equipamiento.trim()||null,estado:v.estado};d&&p?await n(p.id_consultorio,C)?(de.success("Consultorio actualizado exitosamente"),c(!1)):de.error("Error al actualizar el consultorio"):await r(C)?(de.success("Consultorio creado exitosamente"),c(!1)):de.error("Error al crear el consultorio")},E=C=>{b(C),x(!0)},O=async()=>{if(!_)return;await a(_.id_consultorio)?(de.success("Consultorio eliminado exitosamente"),x(!1),b(null)):de.error("Error al eliminar el consultorio. Puede tener registros asociados.")};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"flex items-center gap-2",children:[o.jsx(xD,{className:"size-5"}),"Gestin de Consultorios"]}),o.jsx("p",{className:"text-sm text-gray-600",children:"Administra los consultorios de cada sucursal"})]}),o.jsxs(fe,{onClick:S,disabled:i.length===0,children:[o.jsx(cr,{className:"size-4 mr-2"}),"Nuevo Consultorio"]})]}),i.length===0&&o.jsx(tt,{className:"p-4 bg-yellow-50 border-yellow-200",children:o.jsx("p",{className:"text-sm text-yellow-800",children:" Primero debes crear al menos una sucursal antes de agregar consultorios."})}),t?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(lr,{className:"size-8 animate-spin text-blue-600"})}):o.jsx(tt,{children:o.jsxs(aa,{children:[o.jsx(ia,{children:o.jsxs(gt,{children:[o.jsx(Ce,{children:"Nombre"}),o.jsx(Ce,{children:"Sucursal"}),o.jsx(Ce,{children:"Nmero"}),o.jsx(Ce,{children:"Piso"}),o.jsx(Ce,{children:"Capacidad"}),o.jsx(Ce,{children:"Estado"}),o.jsx(Ce,{className:"text-right",children:"Acciones"})]})}),o.jsx(oa,{children:e.length===0?o.jsx(gt,{children:o.jsx(_e,{colSpan:7,className:"text-center py-8 text-gray-500",children:"No hay consultorios registrados"})}):e.map((C,T)=>o.jsxs(gt,{children:[o.jsx(_e,{className:"font-semibold",children:C.nombre}),o.jsx(_e,{children:C.sucursal?.nombre}),o.jsx(_e,{children:C.numero||"-"}),o.jsx(_e,{children:C.piso||"-"}),o.jsxs(_e,{children:[C.capacidad||1," persona",C.capacidad!==1?"s":""]}),o.jsx(_e,{children:o.jsx(Dt,{variant:C.estado==="activo"?"default":C.estado==="inactivo"?"secondary":"destructive",children:C.estado==="activo"?"Activo":C.estado==="inactivo"?"Inactivo":"Mantenimiento"})}),o.jsx(_e,{className:"text-right",children:o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>A(C),children:o.jsx(Oo,{className:"size-4"})}),o.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>E(C),children:o.jsx(Pi,{className:"size-4 text-red-600"})})]})})]},C.id_consultorio||`consultorio-${T}`))})]})}),o.jsx(Or,{open:s,onOpenChange:c,children:o.jsxs(kr,{children:[o.jsxs(Tr,{children:[o.jsx(Ir,{children:d?"Editar Consultorio":"Nuevo Consultorio"}),o.jsx(Mr,{children:d?"Modifica los datos del consultorio":"Ingresa los datos del nuevo consultorio"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Sucursal *"}),o.jsxs(ft,{value:v.id_sucursal.toString(),onValueChange:C=>j({...v,id_sucursal:parseInt(C)}),children:[o.jsx(pt,{children:o.jsx(ht,{})}),o.jsx(mt,{children:i.map(C=>o.jsxs(Ae,{value:C.id_sucursal.toString(),children:[C.nombre," (",C.compania?.nombre,")"]},C.id_sucursal))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Nombre *"}),o.jsx(Se,{value:v.nombre,onChange:C=>j({...v,nombre:C.target.value}),placeholder:"Ej: Consultorio A"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Nmero"}),o.jsx(Se,{value:v.numero,onChange:C=>j({...v,numero:C.target.value}),placeholder:"Ej: 101"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Piso"}),o.jsx(Se,{value:v.piso,onChange:C=>j({...v,piso:C.target.value}),placeholder:"Ej: Planta Baja"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Capacidad (personas)"}),o.jsx(Se,{type:"number",min:"1",value:v.capacidad,onChange:C=>j({...v,capacidad:parseInt(C.target.value)||1}),placeholder:"Ej: 3"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Equipamiento"}),o.jsx(qt,{value:v.equipamiento,onChange:C=>j({...v,equipamiento:C.target.value}),placeholder:"Ej: Camilla, Tensimetro, ECG, Estetoscopio",rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Estado"}),o.jsxs(ft,{value:v.estado,onValueChange:C=>j({...v,estado:C}),children:[o.jsx(pt,{children:o.jsx(ht,{})}),o.jsxs(mt,{children:[o.jsx(Ae,{value:"activo",children:"Activo"}),o.jsx(Ae,{value:"inactivo",children:"Inactivo"}),o.jsx(Ae,{value:"mantenimiento",children:"En Mantenimiento"})]})]})]})]}),o.jsxs(Rr,{children:[o.jsx(fe,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),o.jsx(fe,{onClick:P,children:d?"Actualizar":"Crear"})]})]})}),o.jsx(Ti,{open:g,onOpenChange:x,children:o.jsxs(Ri,{children:[o.jsxs(Ii,{children:[o.jsx(Di,{children:"Ests seguro?"}),o.jsxs($i,{children:['Esta accin eliminar el consultorio "',_?.nombre,'". Esta accin no se puede deshacer y puede fallar si existen registros asociados.']})]}),o.jsxs(Mi,{children:[o.jsx(zi,{children:"Cancelar"}),o.jsx(Li,{onClick:O,className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]})]})})]})}function bJ(){const{usuarios:e,isLoading:t,agregarUsuario:r,actualizarUsuario:n,eliminarUsuario:a}=ML(),{companias:i}=Sm(),{sucursales:s}=Em(),[c,d]=w.useState(!1),[f,p]=w.useState(!1),[h,g]=w.useState(null),[x,_]=w.useState(!1),[b,v]=w.useState(null),[j,S]=w.useState({nombre:"",apellido:"",cedula:"",email:"",telefono:"",password:"",tipo_usuario:"medico",fecha_ingreso:new Date().toISOString().split("T")[0],estado:"activo",id_compania:"",id_sucursal:"",especialidad:""}),[A,P]=w.useState([]);w.useEffect(()=>{if(j.id_compania){const R=s.filter(D=>D.id_compania.toString()===j.id_compania);P(R),j.id_sucursal&&(R.find(B=>B.id_sucursal.toString()===j.id_sucursal)||S(B=>({...B,id_sucursal:""})))}else P([]),S(R=>({...R,id_sucursal:""}))},[j.id_compania,s]);const E=()=>{S({nombre:"",apellido:"",cedula:"",email:"",telefono:"",password:"",tipo_usuario:"medico",fecha_ingreso:new Date().toISOString().split("T")[0],estado:"activo",id_compania:"",id_sucursal:"",especialidad:""}),p(!1),g(null),P([]),d(!0)},O=R=>{S({nombre:R.nombre,apellido:R.apellido,cedula:R.cedula,email:R.email,telefono:R.telefono||"",password:"",tipo_usuario:R.tipo_usuario,fecha_ingreso:R.fecha_ingreso,estado:R.estado,id_compania:"",id_sucursal:"",especialidad:""}),p(!0),g(R),P([]),d(!0)},C=async()=>{if(!j.nombre.trim()||!j.apellido.trim()||!j.email.trim()||!j.cedula.trim()){de.error("Nombre, apellido, cdula y email son requeridos");return}if(!f&&!j.password.trim()){de.error("La contrasea es requerida para usuarios nuevos");return}if(!f&&(!j.id_compania||!j.id_sucursal)){de.error("Compaa y sucursal son requeridos");return}const R={nombre:j.nombre.trim(),apellido:j.apellido.trim(),cedula:j.cedula.trim(),email:j.email.trim(),telefono:j.telefono.trim()||null,tipo_usuario:j.tipo_usuario,fecha_ingreso:j.fecha_ingreso,estado:j.estado};if((!f||j.password.trim())&&(R.password=j.password.trim()),f&&h)await n(h.id_usuario,R)?(de.success("Usuario actualizado exitosamente"),d(!1)):de.error("Error al actualizar el usuario");else try{const D=await r(R);D&&(await RL({id_usuario:D.id_usuario,id_sucursal:parseInt(j.id_sucursal),especialidad:j.especialidad.trim()||null,cargo:null,estado:"activo"})?(de.success("Usuario y asignacin creados exitosamente"),d(!1)):(de.warning("Usuario creado pero hubo un error al crear la asignacin"),d(!1)))}catch(D){de.error(D.message||"Error al crear el usuario")}},T=R=>{v(R),_(!0)},I=async()=>{if(!b)return;await a(b.id_usuario)?(de.success("Usuario eliminado exitosamente"),_(!1),v(null)):de.error("Error al eliminar el usuario. Puede tener registros asociados.")};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"flex items-center gap-2",children:[o.jsx(pm,{className:"size-5"}),"Gestin de Usuarios"]}),o.jsx("p",{className:"text-sm text-gray-600",children:"Administra los usuarios del sistema"})]}),o.jsxs(fe,{onClick:E,children:[o.jsx(cr,{className:"size-4 mr-2"}),"Nuevo Usuario"]})]}),t?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(lr,{className:"size-8 animate-spin text-blue-600"})}):o.jsx(tt,{children:o.jsxs(aa,{children:[o.jsx(ia,{children:o.jsxs(gt,{children:[o.jsx(Ce,{children:"Nombre"}),o.jsx(Ce,{children:"Cdula"}),o.jsx(Ce,{children:"Email"}),o.jsx(Ce,{children:"Telfono"}),o.jsx(Ce,{children:"Tipo"}),o.jsx(Ce,{children:"Estado"}),o.jsx(Ce,{className:"text-right",children:"Acciones"})]})}),o.jsx(oa,{children:e.length===0?o.jsx(gt,{children:o.jsx(_e,{colSpan:7,className:"text-center py-8 text-gray-500",children:"No hay usuarios registrados"})}):e.map((R,D)=>o.jsxs(gt,{children:[o.jsxs(_e,{className:"font-semibold",children:[R.nombre," ",R.apellido]}),o.jsx(_e,{children:R.cedula}),o.jsx(_e,{children:R.email}),o.jsx(_e,{children:R.telefono||"-"}),o.jsx(_e,{children:o.jsx(Dt,{variant:"outline",children:fJ(R.tipo_usuario)})}),o.jsx(_e,{children:o.jsx(Dt,{variant:R.estado==="activo"?"default":"secondary",children:R.estado==="activo"?"Activo":"Inactivo"})}),o.jsx(_e,{className:"text-right",children:o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>O(R),children:o.jsx(Oo,{className:"size-4"})}),o.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>T(R),children:o.jsx(Pi,{className:"size-4 text-red-600"})})]})})]},R.id_usuario||`usuario-${D}`))})]})}),o.jsx(Or,{open:c,onOpenChange:d,children:o.jsxs(kr,{className:"max-w-2xl",children:[o.jsxs(Tr,{children:[o.jsx(Ir,{children:f?"Editar Usuario":"Nuevo Usuario"}),o.jsx(Mr,{children:f?"Modifica los datos del usuario":"Ingresa los datos del nuevo usuario"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Nombre *"}),o.jsx(Se,{value:j.nombre,onChange:R=>S({...j,nombre:R.target.value}),placeholder:"Nombre"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Apellido *"}),o.jsx(Se,{value:j.apellido,onChange:R=>S({...j,apellido:R.target.value}),placeholder:"Apellido"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Cdula *"}),o.jsx(Se,{value:j.cedula,onChange:R=>S({...j,cedula:R.target.value}),placeholder:"Cdula de identidad",disabled:f})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Email *"}),o.jsx(Se,{type:"email",value:j.email,onChange:R=>S({...j,email:R.target.value}),placeholder:"email@ejemplo.com",disabled:f})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Telfono"}),o.jsx(Se,{value:j.telefono,onChange:R=>S({...j,telefono:R.target.value}),placeholder:"Telfono"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(z,{children:["Contrasea ",f?"":"*"]}),o.jsx(Se,{type:"password",value:j.password,onChange:R=>S({...j,password:R.target.value}),placeholder:f?"Dejar vaco para mantener actual":"Contrasea"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Tipo de Usuario *"}),o.jsxs(ft,{value:j.tipo_usuario,onValueChange:R=>S({...j,tipo_usuario:R}),children:[o.jsx(pt,{children:o.jsx(ht,{})}),o.jsxs(mt,{children:[o.jsx(Ae,{value:"medico",children:"Mdico"}),o.jsx(Ae,{value:"administrativo",children:"Administrativo"}),o.jsx(Ae,{value:"enfermera",children:"Enfermera"}),o.jsx(Ae,{value:"secretaria",children:"Secretaria"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Fecha de Ingreso *"}),o.jsx(Se,{type:"date",value:j.fecha_ingreso,onChange:R=>S({...j,fecha_ingreso:R.target.value})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Estado"}),o.jsxs(ft,{value:j.estado,onValueChange:R=>S({...j,estado:R}),children:[o.jsx(pt,{children:o.jsx(ht,{})}),o.jsxs(mt,{children:[o.jsx(Ae,{value:"activo",children:"Activo"}),o.jsx(Ae,{value:"inactivo",children:"Inactivo"})]})]})]}),!f&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Compaa *"}),o.jsxs(ft,{value:j.id_compania,onValueChange:R=>S({...j,id_compania:R}),children:[o.jsx(pt,{children:o.jsx(ht,{placeholder:"Seleccione una compaa"})}),o.jsx(mt,{children:i.map(R=>o.jsx(Ae,{value:R.id_compania.toString(),children:R.nombre},R.id_compania))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Sucursal *"}),o.jsxs(ft,{value:j.id_sucursal,onValueChange:R=>S({...j,id_sucursal:R}),disabled:!j.id_compania,children:[o.jsx(pt,{children:o.jsx(ht,{placeholder:"Seleccione una sucursal"})}),o.jsx(mt,{children:A.map(R=>o.jsx(Ae,{value:R.id_sucursal.toString(),children:R.nombre},R.id_sucursal))})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Especialidad"}),o.jsx(Se,{value:j.especialidad,onChange:R=>S({...j,especialidad:R.target.value}),placeholder:"Ej: Medicina General, Cardiologa, etc."})]})]})]}),o.jsxs(Rr,{children:[o.jsx(fe,{variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),o.jsx(fe,{onClick:C,children:f?"Actualizar":"Crear"})]})]})}),o.jsx(Ti,{open:x,onOpenChange:_,children:o.jsxs(Ri,{children:[o.jsxs(Ii,{children:[o.jsx(Di,{children:"Ests seguro?"}),o.jsxs($i,{children:['Esta accin eliminar al usuario "',b?.nombre," ",b?.apellido,'". Esta accin no se puede deshacer y puede fallar si existen registros asociados.']})]}),o.jsxs(Mi,{children:[o.jsx(zi,{children:"Cancelar"}),o.jsx(Li,{onClick:I,className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]})]})})]})}function wJ(){const{asignaciones:e,isLoading:t,agregarAsignacion:r,actualizarAsignacion:n,eliminarAsignacion:a}=yS(),{usuarios:i}=ML(),{sucursales:s}=Em(),[c,d]=w.useState(!1),[f,p]=w.useState(!1),[h,g]=w.useState(null),[x,_]=w.useState(!1),[b,v]=w.useState(null),[j,S]=w.useState({id_usuario:0,id_sucursal:0,especialidad:"",cargo:"",estado:"activo"}),A=()=>{S({id_usuario:i[0]?.id_usuario||0,id_sucursal:s[0]?.id_sucursal||0,especialidad:"",cargo:"",estado:"activo"}),p(!1),g(null),d(!0)},P=T=>{S({id_usuario:T.id_usuario,id_sucursal:T.id_sucursal,especialidad:T.especialidad||"",cargo:T.cargo||"",estado:T.estado}),p(!0),g(T),d(!0)},E=async()=>{if(!j.id_usuario||!j.id_sucursal){de.error("Debe seleccionar un usuario y una sucursal");return}const T={id_usuario:j.id_usuario,id_sucursal:j.id_sucursal,especialidad:j.especialidad.trim()||null,cargo:j.cargo.trim()||null,estado:j.estado};f&&h?await n(h.id_usuario_sucursal,T)?(de.success("Asignacin actualizada exitosamente"),d(!1)):de.error("Error al actualizar la asignacin"):await r(T)?(de.success("Asignacin creada exitosamente"),d(!1)):de.error("Error al crear la asignacin")},O=T=>{v(T),_(!0)},C=async()=>{if(!b)return;await a(b.id_usuario_sucursal)?(de.success("Asignacin eliminada exitosamente"),_(!1),v(null)):de.error("Error al eliminar la asignacin. Puede tener registros asociados.")};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"flex items-center gap-2",children:[o.jsx(jD,{className:"size-5"}),"Asignaciones Usuario-Sucursal"]}),o.jsx("p",{className:"text-sm text-gray-600",children:"Asigna usuarios a sucursales con especialidad"})]}),o.jsxs(fe,{onClick:A,disabled:i.length===0||s.length===0,children:[o.jsx(cr,{className:"size-4 mr-2"}),"Nueva Asignacin"]})]}),(i.length===0||s.length===0)&&o.jsx(tt,{className:"p-4 bg-yellow-50 border-yellow-200",children:o.jsx("p",{className:"text-sm text-yellow-800",children:" Debes tener usuarios y sucursales registrados antes de crear asignaciones."})}),t?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(lr,{className:"size-8 animate-spin text-blue-600"})}):o.jsx(tt,{children:o.jsxs(aa,{children:[o.jsx(ia,{children:o.jsxs(gt,{children:[o.jsx(Ce,{children:"Usuario"}),o.jsx(Ce,{children:"Sucursal"}),o.jsx(Ce,{children:"Compaa"}),o.jsx(Ce,{children:"Especialidad"}),o.jsx(Ce,{children:"Cargo"}),o.jsx(Ce,{children:"Estado"}),o.jsx(Ce,{className:"text-right",children:"Acciones"})]})}),o.jsx(oa,{children:e.length===0?o.jsx(gt,{children:o.jsx(_e,{colSpan:7,className:"text-center py-8 text-gray-500",children:"No hay asignaciones registradas"})}):e.map((T,I)=>o.jsxs(gt,{children:[o.jsxs(_e,{className:"font-semibold",children:[T.usuario?.nombre," ",T.usuario?.apellido]}),o.jsx(_e,{children:T.sucursal?.nombre}),o.jsx(_e,{children:T.sucursal?.compania?.nombre}),o.jsx(_e,{children:T.especialidad||"-"}),o.jsx(_e,{children:T.cargo||"-"}),o.jsx(_e,{children:o.jsx(Dt,{variant:T.estado==="activo"?"default":"secondary",children:T.estado==="activo"?"Activo":"Inactivo"})}),o.jsx(_e,{className:"text-right",children:o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>P(T),children:o.jsx(Oo,{className:"size-4"})}),o.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>O(T),children:o.jsx(Pi,{className:"size-4 text-red-600"})})]})})]},T.id_usuario_sucursal||`asignacion-${I}`))})]})}),o.jsx(Or,{open:c,onOpenChange:d,children:o.jsxs(kr,{children:[o.jsxs(Tr,{children:[o.jsx(Ir,{children:f?"Editar Asignacin":"Nueva Asignacin"}),o.jsx(Mr,{children:f?"Modifica los datos de la asignacin":"Asigna un usuario a una sucursal"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Usuario *"}),o.jsxs(ft,{value:j.id_usuario.toString(),onValueChange:T=>S({...j,id_usuario:parseInt(T)}),children:[o.jsx(pt,{children:o.jsx(ht,{})}),o.jsx(mt,{children:i.map(T=>o.jsxs(Ae,{value:T.id_usuario.toString(),children:[T.nombre," ",T.apellido," (",T.tipo_usuario,")"]},T.id_usuario))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Sucursal *"}),o.jsxs(ft,{value:j.id_sucursal.toString(),onValueChange:T=>S({...j,id_sucursal:parseInt(T)}),children:[o.jsx(pt,{children:o.jsx(ht,{})}),o.jsx(mt,{children:s.map(T=>o.jsxs(Ae,{value:T.id_sucursal.toString(),children:[T.nombre," (",T.compania?.nombre,")"]},T.id_sucursal))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Especialidad"}),o.jsx(Se,{value:j.especialidad,onChange:T=>S({...j,especialidad:T.target.value}),placeholder:"Ej: Pediatra, Medicina General"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Cargo"}),o.jsx(Se,{value:j.cargo,onChange:T=>S({...j,cargo:T.target.value}),placeholder:"Ej: Mdico, Recepcionista"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Estado"}),o.jsxs(ft,{value:j.estado,onValueChange:T=>S({...j,estado:T}),children:[o.jsx(pt,{children:o.jsx(ht,{})}),o.jsxs(mt,{children:[o.jsx(Ae,{value:"activo",children:"Activo"}),o.jsx(Ae,{value:"inactivo",children:"Inactivo"})]})]})]})]}),o.jsxs(Rr,{children:[o.jsx(fe,{variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),o.jsx(fe,{onClick:E,children:f?"Actualizar":"Crear"})]})]})}),o.jsx(Ti,{open:x,onOpenChange:_,children:o.jsxs(Ri,{children:[o.jsxs(Ii,{children:[o.jsx(Di,{children:"Ests seguro?"}),o.jsxs($i,{children:["Esta accin eliminar la asignacin de ",b?.usuario?.nombre," ",b?.usuario?.apellido," a ",b?.sucursal?.nombre,". Esta accin no se puede deshacer y puede fallar si existen registros asociados."]})]}),o.jsxs(Mi,{children:[o.jsx(zi,{children:"Cancelar"}),o.jsx(Li,{onClick:C,className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]})]})})]})}function _J(){const{preciosBase:e,isLoading:t,agregarPrecioBase:r,actualizarPrecioBase:n,eliminarPrecioBase:a}=pJ(),{companias:i}=Sm(),[s,c]=w.useState(!1),[d,f]=w.useState(!1),[p,h]=w.useState(null),[g,x]=w.useState(!1),[_,b]=w.useState(null),[v,j]=w.useState({id_compania:0,especialidad:"",precio_consulta:0,precio_control:0,precio_emergencia:0,estado:"activo"}),S=()=>{j({id_compania:i[0]?.id_compania||0,especialidad:"",precio_consulta:0,precio_control:0,precio_emergencia:0,estado:"activo"}),f(!1),h(null),c(!0)},A=C=>{j({id_compania:C.id_compania,especialidad:C.especialidad,precio_consulta:C.precio_consulta,precio_control:C.precio_control,precio_emergencia:C.precio_emergencia,estado:C.estado}),f(!0),h(C),c(!0)},P=async()=>{if(!v.especialidad.trim()){de.error("La especialidad es requerida");return}if(!v.id_compania){de.error("Debe seleccionar una compaa");return}if(v.precio_consulta<0||v.precio_control<0||v.precio_emergencia<0){de.error("Los precios no pueden ser negativos");return}const C={id_compania:v.id_compania,especialidad:v.especialidad.trim(),precio_consulta:v.precio_consulta,precio_control:v.precio_control,precio_emergencia:v.precio_emergencia,estado:v.estado};d&&p?await n(p.id_precio_base,C)?(de.success("Precio base actualizado exitosamente"),c(!1)):de.error("Error al actualizar el precio base"):await r(C)?(de.success("Precio base creado exitosamente"),c(!1)):de.error("Error al crear el precio base")},E=C=>{b(C),x(!0)},O=async()=>{if(!_)return;await a(_.id_precio_base)?(de.success("Precio base eliminado exitosamente"),x(!1),b(null)):de.error("Error al eliminar el precio base. Puede tener registros asociados.")};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"flex items-center gap-2",children:[o.jsx(_D,{className:"size-5"}),"Precios Base por Especialidad"]}),o.jsx("p",{className:"text-sm text-gray-600",children:"Define los precios base por especialidad"})]}),o.jsxs(fe,{onClick:S,disabled:i.length===0,children:[o.jsx(cr,{className:"size-4 mr-2"}),"Nuevo Precio Base"]})]}),i.length===0&&o.jsx(tt,{className:"p-4 bg-yellow-50 border-yellow-200",children:o.jsx("p",{className:"text-sm text-yellow-800",children:" Primero debes crear al menos una compaa antes de agregar precios base."})}),t?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(lr,{className:"size-8 animate-spin text-blue-600"})}):o.jsx(tt,{children:o.jsxs(aa,{children:[o.jsx(ia,{children:o.jsxs(gt,{children:[o.jsx(Ce,{children:"Especialidad"}),o.jsx(Ce,{className:"text-right",children:"Consulta"}),o.jsx(Ce,{className:"text-right",children:"Control"}),o.jsx(Ce,{className:"text-right",children:"Emergencia"}),o.jsx(Ce,{children:"Estado"}),o.jsx(Ce,{className:"text-right",children:"Acciones"})]})}),o.jsx(oa,{children:e.length===0?o.jsx(gt,{children:o.jsx(_e,{colSpan:6,className:"text-center py-8 text-gray-500",children:"No hay precios base registrados"})}):e.map((C,T)=>o.jsxs(gt,{children:[o.jsx(_e,{className:"font-semibold",children:C.especialidad}),o.jsx(_e,{className:"text-right text-green-600",children:Il(C.precio_consulta)}),o.jsx(_e,{className:"text-right text-green-600",children:Il(C.precio_control)}),o.jsx(_e,{className:"text-right text-green-600",children:Il(C.precio_emergencia)}),o.jsx(_e,{children:o.jsx(Dt,{variant:C.estado==="activo"?"default":"secondary",children:C.estado==="activo"?"Activo":"Inactivo"})}),o.jsx(_e,{className:"text-right",children:o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>A(C),children:o.jsx(Oo,{className:"size-4"})}),o.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>E(C),children:o.jsx(Pi,{className:"size-4 text-red-600"})})]})})]},C.id_precio_base||`precio-${T}`))})]})}),o.jsx(Or,{open:s,onOpenChange:c,children:o.jsxs(kr,{children:[o.jsxs(Tr,{children:[o.jsx(Ir,{children:d?"Editar Precio Base":"Nuevo Precio Base"}),o.jsx(Mr,{children:d?"Modifica los datos del precio base":"Define precios base para una especialidad"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Compaa *"}),o.jsxs(ft,{value:v.id_compania.toString(),onValueChange:C=>j({...v,id_compania:parseInt(C)}),children:[o.jsx(pt,{children:o.jsx(ht,{})}),o.jsx(mt,{children:i.map(C=>o.jsx(Ae,{value:C.id_compania.toString(),children:C.nombre},C.id_compania))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Especialidad *"}),o.jsx(Se,{value:v.especialidad,onChange:C=>j({...v,especialidad:C.target.value}),placeholder:"Ej: Pediatra, Cardiologa"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Precio Consulta *"}),o.jsx(Se,{type:"number",min:"0",step:"0.01",value:v.precio_consulta,onChange:C=>j({...v,precio_consulta:parseFloat(C.target.value)||0}),placeholder:"0.00"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Precio Control *"}),o.jsx(Se,{type:"number",min:"0",step:"0.01",value:v.precio_control,onChange:C=>j({...v,precio_control:parseFloat(C.target.value)||0}),placeholder:"0.00"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Precio Emergencia *"}),o.jsx(Se,{type:"number",min:"0",step:"0.01",value:v.precio_emergencia,onChange:C=>j({...v,precio_emergencia:parseFloat(C.target.value)||0}),placeholder:"0.00"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Estado"}),o.jsxs(ft,{value:v.estado,onValueChange:C=>j({...v,estado:C}),children:[o.jsx(pt,{children:o.jsx(ht,{})}),o.jsxs(mt,{children:[o.jsx(Ae,{value:"activo",children:"Activo"}),o.jsx(Ae,{value:"inactivo",children:"Inactivo"})]})]})]})]}),o.jsxs(Rr,{children:[o.jsx(fe,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),o.jsx(fe,{onClick:P,children:d?"Actualizar":"Crear"})]})]})}),o.jsx(Ti,{open:g,onOpenChange:x,children:o.jsxs(Ri,{children:[o.jsxs(Ii,{children:[o.jsx(Di,{children:"Ests seguro?"}),o.jsxs($i,{children:['Esta accin eliminar el precio base para la especialidad "',_?.especialidad,'". Esta accin no se puede deshacer y puede fallar si existen registros asociados.']})]}),o.jsxs(Mi,{children:[o.jsx(zi,{children:"Cancelar"}),o.jsx(Li,{onClick:O,className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]})]})})]})}function jJ(){const{preciosUsuario:e,isLoading:t,agregarPrecioUsuario:r,actualizarPrecioUsuario:n,eliminarPrecioUsuario:a}=mJ(),{asignaciones:i}=yS(),[s,c]=w.useState(!1),[d,f]=w.useState(!1),[p,h]=w.useState(null),[g,x]=w.useState(!1),[_,b]=w.useState(null),[v,j]=w.useState({id_usuario_sucursal:0,precio_consulta:0,precio_control:0,precio_emergencia:0,tipo_ajuste:"ninguno",valor_ajuste:0,estado:"activo"}),S=()=>{j({id_usuario_sucursal:i[0]?.id_usuario_sucursal||0,precio_consulta:0,precio_control:0,precio_emergencia:0,tipo_ajuste:"ninguno",valor_ajuste:0,estado:"activo"}),f(!1),h(null),c(!0)},A=C=>{j({id_usuario_sucursal:C.id_usuario_sucursal,precio_consulta:C.precio_consulta,precio_control:C.precio_control,precio_emergencia:C.precio_emergencia,tipo_ajuste:C.tipo_ajuste,valor_ajuste:C.valor_ajuste,estado:C.estado}),f(!0),h(C),c(!0)},P=async()=>{if(!v.id_usuario_sucursal){de.error("Debe seleccionar un usuario");return}if(v.precio_consulta<0||v.precio_control<0||v.precio_emergencia<0){de.error("Los precios no pueden ser negativos");return}const C={id_usuario_sucursal:v.id_usuario_sucursal,precio_consulta:v.precio_consulta,precio_control:v.precio_control,precio_emergencia:v.precio_emergencia,tipo_ajuste:v.tipo_ajuste,valor_ajuste:v.valor_ajuste,estado:v.estado};d&&p?await n(p.id_precio,C)?(de.success("Precio de usuario actualizado exitosamente"),c(!1)):de.error("Error al actualizar el precio de usuario"):await r(C)?(de.success("Precio de usuario creado exitosamente"),c(!1)):de.error("Error al crear el precio de usuario")},E=C=>{b(C),x(!0)},O=async()=>{if(!_)return;await a(_.id_precio)?(de.success("Precio de usuario eliminado exitosamente"),x(!1),b(null)):de.error("Error al eliminar el precio de usuario. Puede tener registros asociados.")};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"flex items-center gap-2",children:[o.jsx(kl,{className:"size-5"}),"Precios por Usuario"]}),o.jsx("p",{className:"text-sm text-gray-600",children:"Define precios especficos por usuario/mdico"})]}),o.jsxs(fe,{onClick:S,disabled:i.length===0,children:[o.jsx(cr,{className:"size-4 mr-2"}),"Nuevo Precio Usuario"]})]}),i.length===0&&o.jsx(tt,{className:"p-4 bg-yellow-50 border-yellow-200",children:o.jsx("p",{className:"text-sm text-yellow-800",children:" Primero debes asignar usuarios a sucursales antes de definir precios especficos."})}),t?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(lr,{className:"size-8 animate-spin text-blue-600"})}):o.jsx(tt,{children:o.jsxs(aa,{children:[o.jsx(ia,{children:o.jsxs(gt,{children:[o.jsx(Ce,{children:"Usuario"}),o.jsx(Ce,{children:"Sucursal"}),o.jsx(Ce,{className:"text-right",children:"Consulta"}),o.jsx(Ce,{className:"text-right",children:"Control"}),o.jsx(Ce,{className:"text-right",children:"Emergencia"}),o.jsx(Ce,{children:"Ajuste"}),o.jsx(Ce,{children:"Estado"}),o.jsx(Ce,{className:"text-right",children:"Acciones"})]})}),o.jsx(oa,{children:e.length===0?o.jsx(gt,{children:o.jsx(_e,{colSpan:8,className:"text-center py-8 text-gray-500",children:"No hay precios por usuario registrados"})}):e.map((C,T)=>o.jsxs(gt,{children:[o.jsxs(_e,{className:"font-semibold",children:[C.usuario_sucursal?.usuario?.nombre," ",C.usuario_sucursal?.usuario?.apellido]}),o.jsx(_e,{children:C.usuario_sucursal?.sucursal?.nombre}),o.jsx(_e,{className:"text-right text-green-600",children:Il(C.precio_consulta)}),o.jsx(_e,{className:"text-right text-green-600",children:Il(C.precio_control)}),o.jsx(_e,{className:"text-right text-green-600",children:Il(C.precio_emergencia)}),o.jsx(_e,{children:o.jsxs(Dt,{variant:"outline",children:[C.tipo_ajuste,": ",C.valor_ajuste,"%"]})}),o.jsx(_e,{children:o.jsx(Dt,{variant:C.estado==="activo"?"default":"secondary",children:C.estado==="activo"?"Activo":"Inactivo"})}),o.jsx(_e,{className:"text-right",children:o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>A(C),children:o.jsx(Oo,{className:"size-4"})}),o.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>E(C),children:o.jsx(Pi,{className:"size-4 text-red-600"})})]})})]},C.id_precio||`precio-${T}`))})]})}),o.jsx(Or,{open:s,onOpenChange:c,children:o.jsxs(kr,{className:"max-w-2xl",children:[o.jsxs(Tr,{children:[o.jsx(Ir,{children:d?"Editar Precio de Usuario":"Nuevo Precio de Usuario"}),o.jsx(Mr,{children:d?"Modifica los datos del precio personalizado":"Define precios especficos para un usuario"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Usuario *"}),o.jsxs(ft,{value:v.id_usuario_sucursal.toString(),onValueChange:C=>j({...v,id_usuario_sucursal:parseInt(C)}),children:[o.jsx(pt,{children:o.jsx(ht,{})}),o.jsx(mt,{children:i.filter(C=>C.usuario?.tipo_usuario==="medico").map(C=>o.jsxs(Ae,{value:C.id_usuario_sucursal.toString(),children:[C.usuario?.nombre," ",C.usuario?.apellido," - ",C.sucursal?.nombre]},C.id_usuario_sucursal))})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Precio Consulta *"}),o.jsx(Se,{type:"number",min:"0",step:"0.01",value:v.precio_consulta,onChange:C=>j({...v,precio_consulta:parseFloat(C.target.value)||0}),placeholder:"0.00"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Precio Control *"}),o.jsx(Se,{type:"number",min:"0",step:"0.01",value:v.precio_control,onChange:C=>j({...v,precio_control:parseFloat(C.target.value)||0}),placeholder:"0.00"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Precio Emergencia *"}),o.jsx(Se,{type:"number",min:"0",step:"0.01",value:v.precio_emergencia,onChange:C=>j({...v,precio_emergencia:parseFloat(C.target.value)||0}),placeholder:"0.00"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Tipo de Ajuste"}),o.jsxs(ft,{value:v.tipo_ajuste,onValueChange:C=>j({...v,tipo_ajuste:C}),children:[o.jsx(pt,{children:o.jsx(ht,{})}),o.jsxs(mt,{children:[o.jsx(Ae,{value:"ninguno",children:"Sin Ajuste"}),o.jsx(Ae,{value:"porcentaje",children:"Porcentaje"}),o.jsx(Ae,{value:"monto_fijo",children:"Monto Fijo"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Valor de Ajuste (%)"}),o.jsx(Se,{type:"number",min:"0",step:"0.01",value:v.valor_ajuste,onChange:C=>j({...v,valor_ajuste:parseFloat(C.target.value)||0}),placeholder:"0.00"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Estado"}),o.jsxs(ft,{value:v.estado,onValueChange:C=>j({...v,estado:C}),children:[o.jsx(pt,{children:o.jsx(ht,{})}),o.jsxs(mt,{children:[o.jsx(Ae,{value:"activo",children:"Activo"}),o.jsx(Ae,{value:"inactivo",children:"Inactivo"})]})]})]})]}),o.jsxs(Rr,{children:[o.jsx(fe,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),o.jsx(fe,{onClick:P,children:d?"Actualizar":"Crear"})]})]})}),o.jsx(Ti,{open:g,onOpenChange:x,children:o.jsxs(Ri,{children:[o.jsxs(Ii,{children:[o.jsx(Di,{children:"Ests seguro?"}),o.jsxs($i,{children:["Esta accin eliminar el precio personalizado de ",_?.usuario_sucursal?.usuario?.nombre," ",_?.usuario_sucursal?.usuario?.apellido,". Esta accin no se puede deshacer y puede fallar si existen registros asociados."]})]}),o.jsxs(Mi,{children:[o.jsx(zi,{children:"Cancelar"}),o.jsx(Li,{onClick:O,className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]})]})})]})}const SJ=[{valor:1,nombre:"Lunes"},{valor:2,nombre:"Martes"},{valor:3,nombre:"Mircoles"},{valor:4,nombre:"Jueves"},{valor:5,nombre:"Viernes"},{valor:6,nombre:"Sbado"},{valor:0,nombre:"Domingo"}];function EJ(){const{asignaciones:e,isLoading:t,agregarAsignacion:r,actualizarAsignacion:n,eliminarAsignacion:a}=gJ(),{asignaciones:i}=yS(),{consultorios:s}=IL(),[c,d]=w.useState(!1),[f,p]=w.useState(!1),[h,g]=w.useState(null),[x,_]=w.useState(!1),[b,v]=w.useState(null),[j,S]=w.useState([]),[A,P]=w.useState({id_usuario_sucursal:0,id_consultorio:0,dia_semana:1,hora_inicio:"08:00",hora_fin:"17:00",duracion_consulta:30,estado:"activo"});w.useEffect(()=>{if(A.id_usuario_sucursal){const R=i.find(D=>D.id_usuario_sucursal===A.id_usuario_sucursal);if(R){const D=s.filter(W=>W.id_sucursal===R.id_sucursal);S(D),!D.find(W=>W.id_consultorio===A.id_consultorio)&&D.length>0?P(W=>({...W,id_consultorio:D[0].id_consultorio})):D.length===0&&P(W=>({...W,id_consultorio:0}))}else S([]),P(D=>({...D,id_consultorio:0}))}else S([]),P(R=>({...R,id_consultorio:0}))},[A.id_usuario_sucursal,i,s]);const E=()=>{P({id_usuario_sucursal:i[0]?.id_usuario_sucursal||0,id_consultorio:s[0]?.id_consultorio||0,dia_semana:1,hora_inicio:"08:00",hora_fin:"17:00",duracion_consulta:30,estado:"activo"}),p(!1),g(null),d(!0)},O=R=>{P({id_usuario_sucursal:R.id_usuario_sucursal,id_consultorio:R.id_consultorio,dia_semana:R.dia_semana,hora_inicio:R.hora_inicio,hora_fin:R.hora_fin,duracion_consulta:R.duracion_consulta||30,estado:R.estado}),p(!0),g(R),d(!0)},C=async()=>{if(!A.id_usuario_sucursal||!A.id_consultorio){de.error("Debe seleccionar un mdico y un consultorio");return}if(!A.hora_inicio||!A.hora_fin){de.error("Debe especificar hora de inicio y fin");return}if(!A.duracion_consulta||A.duracion_consulta<=0||A.duracion_consulta>480){de.error("La duracin debe estar entre 1 y 480 minutos (8 horas)");return}const R={id_usuario_sucursal:A.id_usuario_sucursal,id_consultorio:A.id_consultorio,dia_semana:A.dia_semana,hora_inicio:A.hora_inicio,hora_fin:A.hora_fin,duracion_consulta:A.duracion_consulta,estado:A.estado};console.log(" Guardando horario:",R),f&&h?await n(h.id_asignacion,R)?(de.success("Horario actualizado exitosamente"),d(!1)):de.error("Error al actualizar el horario"):await r(R)?(de.success("Horario creado exitosamente"),d(!1)):de.error("Error al crear el horario")},T=R=>{v(R),_(!0)},I=async()=>{if(!b)return;await a(b.id_asignacion)?(de.success("Horario eliminado exitosamente"),_(!1),v(null)):de.error("Error al eliminar el horario. Puede tener registros asociados.")};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"flex items-center gap-2",children:[o.jsx(mD,{className:"size-5"}),"Horarios y Asignaciones de Consultorio"]}),o.jsx("p",{className:"text-sm text-gray-600",children:"Define horarios de atencin por mdico y consultorio"})]}),o.jsxs(fe,{onClick:E,disabled:i.length===0||s.length===0,children:[o.jsx(cr,{className:"size-4 mr-2"}),"Nuevo Horario"]})]}),(i.length===0||s.length===0)&&o.jsx(tt,{className:"p-4 bg-yellow-50 border-yellow-200",children:o.jsx("p",{className:"text-sm text-yellow-800",children:" Debes tener usuarios asignados a sucursales y consultorios registrados antes de crear horarios."})}),t?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(lr,{className:"size-8 animate-spin text-blue-600"})}):o.jsx(tt,{children:o.jsxs(aa,{children:[o.jsx(ia,{children:o.jsxs(gt,{children:[o.jsx(Ce,{children:"Mdico"}),o.jsx(Ce,{children:"Consultorio"}),o.jsx(Ce,{children:"Sucursal"}),o.jsx(Ce,{children:"Da"}),o.jsx(Ce,{children:"Hora Inicio"}),o.jsx(Ce,{children:"Hora Fin"}),o.jsx(Ce,{children:"Duracin"}),o.jsx(Ce,{children:"Estado"}),o.jsx(Ce,{className:"text-right",children:"Acciones"})]})}),o.jsx(oa,{children:e.length===0?o.jsx(gt,{children:o.jsx(_e,{colSpan:9,className:"text-center py-8 text-gray-500",children:"No hay asignaciones de horario registradas"})}):e.map((R,D)=>o.jsxs(gt,{children:[o.jsxs(_e,{className:"font-semibold",children:["Dr. ",R.usuario_sucursal?.usuario?.nombre," ",R.usuario_sucursal?.usuario?.apellido]}),o.jsx(_e,{children:R.consultorio?.nombre}),o.jsx(_e,{children:R.usuario_sucursal?.sucursal?.nombre}),o.jsx(_e,{children:o.jsx(Dt,{variant:"outline",children:hJ(R.dia_semana)})}),o.jsx(_e,{children:R.hora_inicio}),o.jsx(_e,{children:R.hora_fin}),o.jsx(_e,{children:o.jsxs(Dt,{variant:"secondary",children:[R.duracion_consulta||30," min"]})}),o.jsx(_e,{children:o.jsx(Dt,{variant:R.estado==="activo"?"default":"secondary",children:R.estado==="activo"?"Activo":"Inactivo"})}),o.jsx(_e,{className:"text-right",children:o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>O(R),children:o.jsx(Oo,{className:"size-4"})}),o.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>T(R),children:o.jsx(Pi,{className:"size-4 text-red-600"})})]})})]},R.id_asignacion||`asignacion-${D}`))})]})}),o.jsx(Or,{open:c,onOpenChange:d,children:o.jsxs(kr,{children:[o.jsxs(Tr,{children:[o.jsx(Ir,{children:f?"Editar Horario":"Nuevo Horario"}),o.jsx(Mr,{children:f?"Modifica los datos del horario":"Define un horario de atencin"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Mdico *"}),o.jsxs(ft,{value:A.id_usuario_sucursal.toString(),onValueChange:R=>P({...A,id_usuario_sucursal:parseInt(R)}),children:[o.jsx(pt,{children:o.jsx(ht,{})}),o.jsx(mt,{children:i.filter(R=>R.usuario?.tipo_usuario==="medico").map(R=>o.jsxs(Ae,{value:R.id_usuario_sucursal.toString(),children:["Dr. ",R.usuario?.nombre," ",R.usuario?.apellido," - ",R.sucursal?.nombre]},R.id_usuario_sucursal))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Consultorio *"}),o.jsxs(ft,{value:A.id_consultorio.toString(),onValueChange:R=>P({...A,id_consultorio:parseInt(R)}),children:[o.jsx(pt,{children:o.jsx(ht,{})}),o.jsx(mt,{children:j.map(R=>o.jsxs(Ae,{value:R.id_consultorio.toString(),children:[R.nombre," (",R.sucursal?.nombre,")"]},R.id_consultorio))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Da de la semana *"}),o.jsxs(ft,{value:A.dia_semana.toString(),onValueChange:R=>P({...A,dia_semana:parseInt(R)}),children:[o.jsx(pt,{children:o.jsx(ht,{})}),o.jsx(mt,{children:SJ.map(R=>o.jsx(Ae,{value:R.valor.toString(),children:R.nombre},R.valor))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Hora Inicio *"}),o.jsx(Se,{type:"time",value:A.hora_inicio,onChange:R=>P({...A,hora_inicio:R.target.value})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Hora Fin *"}),o.jsx(Se,{type:"time",value:A.hora_fin,onChange:R=>P({...A,hora_fin:R.target.value})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Duracin de la Consulta (minutos) *"}),o.jsx(Se,{type:"number",min:"5",max:"480",step:"5",placeholder:"30",value:A.duracion_consulta,onChange:R=>P({...A,duracion_consulta:parseInt(R.target.value)||30})}),o.jsx("p",{className:"text-xs text-gray-500",children:"Tiempo estimado por consulta. Valores comunes: 15, 30, 45, 60 minutos"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Estado"}),o.jsxs(ft,{value:A.estado,onValueChange:R=>P({...A,estado:R}),children:[o.jsx(pt,{children:o.jsx(ht,{})}),o.jsxs(mt,{children:[o.jsx(Ae,{value:"activo",children:"Activo"}),o.jsx(Ae,{value:"inactivo",children:"Inactivo"})]})]})]})]}),o.jsxs(Rr,{children:[o.jsx(fe,{variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),o.jsx(fe,{onClick:C,children:f?"Actualizar":"Crear"})]})]})}),o.jsx(Ti,{open:x,onOpenChange:_,children:o.jsxs(Ri,{children:[o.jsxs(Ii,{children:[o.jsx(Di,{children:"Ests seguro?"}),o.jsxs($i,{children:["Esta accin eliminar el horario del Dr. ",b?.usuario_sucursal?.usuario?.nombre," en ",b?.consultorio?.nombre,". Esta accin no se puede deshacer y puede fallar si existen registros asociados."]})]}),o.jsxs(Mi,{children:[o.jsx(zi,{children:"Cancelar"}),o.jsx(Li,{onClick:I,className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]})]})})]})}function NJ(){const[e,t]=w.useState("compania"),r=[{value:"compania",label:"Compaas",icon:zl},{value:"sucursal",label:"Sucursales",icon:Co},{value:"consultorio",label:"Consultorios",icon:xD},{value:"usuario",label:"Usuarios",icon:pm},{value:"usuario-sucursal",label:"Asignaciones",icon:jD},{value:"asignacion-consultorio",label:"Horarios",icon:mD},{value:"precio-base",label:"Precios Base",icon:_D},{value:"precio-usuario",label:"Precios Usuario",icon:kl}],n=r.find(a=>a.value===e);return o.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[o.jsx(bc,{}),o.jsxs("div",{children:[o.jsx("h1",{className:"mb-2",children:"Configuraciones del Sistema"}),o.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"Gestiona la informacin de compaas, sucursales, consultorios, usuarios, horarios y precios"})]}),o.jsxs(OL,{value:e,onValueChange:t,className:"w-full",children:[o.jsx(kL,{className:"hidden md:grid w-full grid-cols-8 mb-6",children:r.map(a=>{const i=a.icon;return o.jsxs(_l,{value:a.value,className:"flex items-center gap-2",children:[o.jsx(i,{className:"size-4"}),o.jsx("span",{className:"hidden lg:inline",children:a.label})]},a.value)})}),o.jsx("div",{className:"md:hidden mb-4",children:o.jsxs(ft,{value:e,onValueChange:t,children:[o.jsx(pt,{className:"w-full",children:o.jsx(ht,{children:n&&o.jsxs("div",{className:"flex items-center gap-2",children:[(()=>{const a=n.icon;return o.jsx(a,{className:"size-4"})})(),o.jsx("span",{children:n.label})]})})}),o.jsx(mt,{children:r.map(a=>{const i=a.icon;return o.jsx(Ae,{value:a.value,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(i,{className:"size-4"}),o.jsx("span",{children:a.label})]})},a.value)})})]})}),o.jsx(An,{value:"compania",children:o.jsx(vJ,{})}),o.jsx(An,{value:"sucursal",children:o.jsx(yJ,{})}),o.jsx(An,{value:"consultorio",children:o.jsx(xJ,{})}),o.jsx(An,{value:"usuario",children:o.jsx(bJ,{})}),o.jsx(An,{value:"usuario-sucursal",children:o.jsx(wJ,{})}),o.jsx(An,{value:"asignacion-consultorio",children:o.jsx(EJ,{})}),o.jsx(An,{value:"precio-base",children:o.jsx(_J,{})}),o.jsx(An,{value:"precio-usuario",children:o.jsx(jJ,{})})]})]})}var Nm="Checkbox",[CJ]=on(Nm),[AJ,xS]=CJ(Nm);function PJ(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:s,name:c,onCheckedChange:d,required:f,value:p="on",internal_do_not_use_render:h}=e,[g,x]=Aa({prop:r,defaultProp:a??!1,onChange:d,caller:Nm}),[_,b]=w.useState(null),[v,j]=w.useState(null),S=w.useRef(!1),A=_?!!s||!!_.closest("form"):!0,P={checked:g,disabled:i,setChecked:x,control:_,setControl:b,name:c,form:s,value:p,hasConsumerStoppedPropagationRef:S,required:f,defaultChecked:wo(a)?!1:a,isFormControl:A,bubbleInput:v,setBubbleInput:j};return o.jsx(AJ,{scope:t,...P,children:OJ(h)?h(P):n})}var DL="CheckboxTrigger",$L=w.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:s,disabled:c,checked:d,required:f,setControl:p,setChecked:h,hasConsumerStoppedPropagationRef:g,isFormControl:x,bubbleInput:_}=xS(DL,e),b=lt(a,p),v=w.useRef(d);return w.useEffect(()=>{const j=i?.form;if(j){const S=()=>h(v.current);return j.addEventListener("reset",S),()=>j.removeEventListener("reset",S)}},[i,h]),o.jsx(We.button,{type:"button",role:"checkbox","aria-checked":wo(d)?"mixed":d,"aria-required":f,"data-state":UL(d),"data-disabled":c?"":void 0,disabled:c,value:s,...n,ref:b,onKeyDown:Pe(t,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:Pe(r,j=>{h(S=>wo(S)?!0:!S),_&&x&&(g.current=j.isPropagationStopped(),g.current||j.stopPropagation())})})});$L.displayName=DL;var LL=w.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:s,disabled:c,value:d,onCheckedChange:f,form:p,...h}=e;return o.jsx(PJ,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:c,required:s,onCheckedChange:f,name:n,form:p,value:d,internal_do_not_use_render:({isFormControl:g})=>o.jsxs(o.Fragment,{children:[o.jsx($L,{...h,ref:t,__scopeCheckbox:r}),g&&o.jsx(qL,{__scopeCheckbox:r})]})})});LL.displayName=Nm;var zL="CheckboxIndicator",FL=w.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=xS(zL,r);return o.jsx(Jr,{present:n||wo(i.checked)||i.checked===!0,children:o.jsx(We.span,{"data-state":UL(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});FL.displayName=zL;var BL="CheckboxBubbleInput",qL=w.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:s,required:c,disabled:d,name:f,value:p,form:h,bubbleInput:g,setBubbleInput:x}=xS(BL,e),_=lt(r,x),b=Uj(i),v=Fj(n);w.useEffect(()=>{const S=g;if(!S)return;const A=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(A,"checked").set,O=!a.current;if(b!==i&&E){const C=new Event("click",{bubbles:O});S.indeterminate=wo(i),E.call(S,wo(i)?!1:i),S.dispatchEvent(C)}},[g,b,i,a]);const j=w.useRef(wo(i)?!1:i);return o.jsx(We.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??j.current,required:c,disabled:d,name:f,value:p,form:h,...t,tabIndex:-1,ref:_,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});qL.displayName=BL;function OJ(e){return typeof e=="function"}function wo(e){return e==="indeterminate"}function UL(e){return wo(e)?"indeterminate":e?"checked":"unchecked"}function kh({className:e,...t}){return o.jsx(LL,{"data-slot":"checkbox",className:Xe("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(FL,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:o.jsx(gD,{className:"size-3.5"})})})}async function kA(e){try{console.log(" Obteniendo citas del paciente:",e);const{data:t,error:r}=await we.from("cita").select(`
        *,
        paciente:paciente!inner (
          id_paciente,
          nombres,
          apellidos,
          cedula,
          telefono,
          email,
          fecha_nacimiento,
          sexo
        ),
        usuario_sucursal:usuario_sucursal!inner (
          id_usuario_sucursal,
          especialidad,
          usuario:usuario!inner (
            id_usuario,
            nombre,
            apellido,
            tipo_usuario
          ),
          sucursal:sucursal!inner (
            id_sucursal,
            nombre,
            id_compania,
            compania:compania!inner (
              id_compania,
              nombre
            )
          )
        )
      `).eq("id_paciente",e).order("fecha_cita",{ascending:!1}).order("hora_inicio",{ascending:!1});return r?(console.error(" Error al obtener citas del paciente:",r),[]):(console.log(` Se encontraron ${t?.length||0} citas para el paciente`),(t||[]).map(a=>({...a,fecha:a.fecha_cita})))}catch(t){return console.error(" Error inesperado al obtener citas del paciente:",t),[]}}async function kJ(e,t,r,n){try{console.log(" Obteniendo citas del usuario:",e,"desde",t,"hasta",r,n?`en sucursal ${n}`:"en todas las sucursales");let a=we.from("usuario_sucursal").select("id_usuario_sucursal").eq("id_usuario",e).eq("estado","activo");n&&(a=a.eq("id_sucursal",n));const{data:i,error:s}=await a;if(s)return console.error(" Error al obtener asignaciones:",s),[];if(!i||i.length===0)return console.log(" El usuario no tiene asignaciones",n?"en esta sucursal":""),[];const c=i.map(h=>h.id_usuario_sucursal),{data:d,error:f}=await we.from("cita").select(`
        *,
        paciente:paciente!inner (
          id_paciente,
          nombres,
          apellidos,
          cedula,
          telefono,
          email,
          fecha_nacimiento,
          sexo
        ),
        usuario_sucursal:usuario_sucursal!inner (
          id_usuario_sucursal,
          especialidad,
          usuario:usuario!inner (
            id_usuario,
            nombre,
            apellido,
            tipo_usuario
          ),
          sucursal:sucursal!inner (
            id_sucursal,
            nombre,
            id_compania,
            compania:compania!inner (
              id_compania,
              nombre
            )
          )
        )
      `).in("id_usuario_sucursal",c).gte("fecha_cita",t).lte("fecha_cita",r).order("fecha_cita",{ascending:!0}).order("hora_inicio",{ascending:!0});return f?(console.error(" Error al obtener citas:",f),[]):(console.log(` Se encontraron ${d?.length||0} citas`),(d||[]).map(h=>({...h,fecha:h.fecha_cita})))}catch(a){return console.error(" Error inesperado al obtener citas:",a),[]}}async function TJ(e,t,r){try{const{data:n,error:a}=await we.from("cita").select(`
        *,
        paciente:paciente!inner (
          id_paciente,
          nombres,
          apellidos,
          cedula,
          telefono,
          email,
          fecha_nacimiento,
          sexo
        ),
        usuario_sucursal:usuario_sucursal!inner (
          id_usuario_sucursal,
          especialidad,
          usuario:usuario!inner (
            id_usuario,
            nombre,
            apellido,
            tipo_usuario
          ),
          sucursal:sucursal!inner (
            id_sucursal,
            nombre,
            id_compania,
            compania:compania!inner (
              id_compania,
              nombre
            )
          )
        )
      `).eq("usuario_sucursal.id_sucursal",e).gte("fecha_cita",t).lte("fecha_cita",r).order("fecha_cita",{ascending:!0}).order("hora_inicio",{ascending:!0});return a?[]:(n||[]).map(s=>({...s,fecha:s.fecha_cita}))}catch{return[]}}async function VL(e){try{const{data:t,error:r}=await we.from("cita").insert({...e,consulta_realizada:!1}).select().single();return r?(console.error(" Error al crear cita:",r),null):t}catch(t){return console.error(" Error inesperado al crear cita:",t),null}}async function WL(e,t,r,n){try{console.log(" Actualizando cita ID:",e);let a;if(t.estado_cita&&r){const{data:s,error:c}=await we.from("cita").select("estado_cita").eq("id_cita",e).maybeSingle();s&&(a=s.estado_cita)}const{error:i}=await we.from("cita").update(t).eq("id_cita",e);if(i)return console.error(" Error al actualizar cita:",i),!1;if(t.estado_cita&&r&&a){const{error:s}=await we.from("historial_estado_cita").insert({id_cita:e,estado_anterior:a,estado_nuevo:t.estado_cita,id_usuario_cambio:r,observaciones:n||"Actualizacin de cita"});s&&console.error(" Error al crear historial de estado:",s)}return console.log(" Cita actualizada exitosamente"),!0}catch(a){return console.error(" Error inesperado al actualizar cita:",a),!1}}async function HL(e,t,r){try{console.log(" Cancelando cita ID:",e);const{data:n,error:a}=await we.from("cita").select("estado_cita").eq("id_cita",e).maybeSingle();if(a||!n)return console.error(" Error al obtener cita:",a),!1;const i=n.estado_cita,{error:s}=await we.from("cita").update({estado_cita:"cancelada",cancelada_por:t,motivo_cancelacion:r}).eq("id_cita",e);if(s)return console.error(" Error al actualizar estado de cita:",s),!1;const{error:c}=await we.from("historial_estado_cita").insert({id_cita:e,estado_anterior:i,estado_nuevo:"cancelada",id_usuario_cambio:t,observaciones:r});return c&&(c.code==="23505"?console.log(" Historial ya existe (insertado por trigger)"):console.error(" Error al crear historial de estado:",c)),console.log(" Cita cancelada exitosamente"),!0}catch(n){return console.error(" Error inesperado al cancelar cita:",n),!1}}async function RJ(e,t){try{console.log(" Marcando cita como completada:",e,"Usuario:",t);const{data:r,error:n}=await we.from("cita").select("estado_cita").eq("id_cita",e).maybeSingle();if(n)return console.error(" Error al obtener cita actual:",n),!1;if(!r)return console.error(" Cita no encontrada"),!1;const a=r.estado_cita;console.log(" Estado anterior:",a);const{error:i}=await we.from("cita").update({estado_cita:"atendida",consulta_realizada:!0}).eq("id_cita",e);if(i){if(console.error(" Error al actualizar cita:",i),i.code==="23502"&&i.message?.includes("id_usuario_cambio")){console.log(" Detectado trigger automtico que causa error, insertando manualmente...");const{error:c}=await we.from("historial_estado_cita").insert({id_cita:e,estado_anterior:a,estado_nuevo:"atendida",id_usuario_cambio:t,observaciones:"Consulta mdica completada"});c&&console.error(" Error al insertar en historial:",c)}return!1}const{error:s}=await we.from("historial_estado_cita").insert({id_cita:e,estado_anterior:a,estado_nuevo:"atendida",id_usuario_cambio:t,observaciones:"Consulta mdica completada"});return s&&(s.code==="23505"?console.log(" Historial ya existe (insertado por trigger)"):console.error(" Error al insertar historial:",s)),console.log(" Cita marcada como completada exitosamente"),!0}catch(r){return console.error(" Error inesperado al marcar cita como completada:",r),!1}}async function IJ(e){try{console.log(" Buscando precio para id_usuario_sucursal:",e);const{data:t,error:r}=await we.from("precio_usuario_sucursal").select("precio_consulta").eq("id_usuario_sucursal",e).eq("estado","activo").maybeSingle();if(r&&console.error(" Error al obtener precio de usuario:",r),t?.precio_consulta)return console.log(" Precio personalizado encontrado:",t.precio_consulta),t.precio_consulta;console.log(" No hay precio personalizado, buscando precio base por especialidad...");const{data:n,error:a}=await we.from("usuario_sucursal").select(`
        especialidad,
        sucursal:sucursal!inner (
          id_compania
        )
      `).eq("id_usuario_sucursal",e).single();if(a||!n?.especialidad)return console.error(" Error al obtener especialidad del usuario:",a),0;console.log(" Especialidad encontrada:",n.especialidad),console.log(" Compaa:",n.sucursal?.id_compania);const{data:i,error:s}=await we.from("precio_base_especialidad").select("precio_consulta").eq("especialidad",n.especialidad).eq("id_compania",n.sucursal?.id_compania).eq("estado","activo").maybeSingle();return s?(console.error(" Error al obtener precio base de especialidad:",s),0):i?.precio_consulta?(console.log(" Precio base por especialidad encontrado:",i.precio_consulta),i.precio_consulta):(console.log(" No se encontr precio base para la especialidad"),0)}catch(t){return console.error(" Error inesperado al obtener precio:",t),0}}async function MJ(e){try{const{data:t,error:r}=await we.from("asignacion_consultorio").select("*").eq("id_usuario_sucursal",e).eq("estado","activo").order("dia_semana",{ascending:!0});return r?(console.error(" Error al obtener das de semana:",r),[]):t||[]}catch(t){return console.error(" Error inesperado al obtener das de semana:",t),[]}}async function DJ(e,t,r,n,a){try{let i=we.from("cita").select("id_cita").eq("id_usuario_sucursal",e).eq("fecha_cita",t).neq("estado_cita","cancelada");a&&(i=i.neq("id_cita",a));const{data:s,error:c}=await i;if(c)return console.error(" Error al verificar disponibilidad:",c),!1;if(!s||s.length===0)return!0;for(const d of s){const f=d.hora_inicio,p=d.hora_fin;if(r>=f&&r<p||n>f&&n<=p||r<=f&&n>=p)return!1}return!0}catch(i){return console.error(" Error inesperado al verificar disponibilidad:",i),!1}}function TA(e){return e.substring(0,5)}function $J(e){switch(e){case"agendada":return"blue";case"confirmada":return"blue";case"en_atencion":return"blue";case"atendida":return"green";case"cancelada":return"red";case"no_asistio":return"orange";default:return"gray"}}function LJ(e,t,r=30){const n=[],[a,i]=e.split(":").map(Number),[s,c]=t.split(":").map(Number);let d=a*60+i;const f=s*60+c;for(;d<f;){const p=Math.floor(d/60),h=d%60,g=`${p.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}`;n.push(g),d+=r}return n}function zJ(e,t,r,n){const[a,i]=w.useState([]),[s,c]=w.useState(!0),[d,f]=w.useState(null);w.useEffect(()=>{e&&p()},[e,t,r]);const p=async()=>{if(!e)return;c(!0),f(null);const b=localStorage.getItem("currentSucursalId"),v=b?parseInt(b):void 0;console.log(" useCitas - Tipo de usuario:",n),console.log(" useCitas - Filtrando por sucursal:",v||"todas");let j;n==="secretaria"&&v?(console.log(" useCitas - Cargando citas como SECRETARIA"),j=await TJ(v,t,r)):(console.log(" useCitas - Cargando citas como MDICO"),j=await kJ(e,t,r,v)),j?i(j):f("Error al cargar citas"),c(!1)};return{citas:a,isLoading:s,error:d,loadCitas:p,crearCita:async b=>{const v=await VL(b);return v?(await p(),v):null},actualizarCita:async(b,v,j,S)=>{const A=await WL(b,v,j,S);return A&&await p(),A},cancelarCitaCompleta:async(b,v,j)=>{const S=await HL(b,v,j);return S&&await p(),S},marcarCompletada:async(b,v)=>{const j=await RJ(b,v);return j&&await p(),j}}}function FJ(e){const[t,r]=w.useState([]),[n,a]=w.useState(0),[i,s]=w.useState(!1);w.useEffect(()=>{console.log(" useHorarios - idUsuarioSucursal cambi:",e),e?c():(console.log(" useHorarios - idUsuarioSucursal es null, no se cargan horarios"),r([]),a(0))},[e]);const c=async()=>{if(!e){console.log(" loadHorarios - idUsuarioSucursal es null, abortando");return}console.log(" loadHorarios - Cargando horarios y precio para id_usuario_sucursal:",e),s(!0);const[f,p]=await Promise.all([MJ(e),IJ(e)]);console.log(" loadHorarios - Das cargados:",f.length),console.log(" loadHorarios - Precio obtenido:",p),r(f),a(p),s(!1)};return{diasSemana:t,precio:n,isLoading:i,loadHorarios:c,verificarDisponibilidadHorario:async(f,p,h,g)=>e?await DJ(e,f,p,h,g):!1}}const BJ="modulepreload",qJ=function(e){return"/"+e},RA={},IA=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let s=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");a=s(r.map(f=>{if(f=qJ(f),f in RA)return;RA[f]=!0;const p=f.endsWith(".css"),h=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${h}`))return;const g=document.createElement("link");if(g.rel=p?"stylesheet":BJ,p||(g.as="script"),g.crossOrigin="",g.href=f,d&&g.setAttribute("nonce",d),document.head.appendChild(g),p)return new Promise((x,_)=>{g.addEventListener("load",x),g.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(s){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=s,window.dispatchEvent(c),!c.defaultPrevented)throw s}return a.then(s=>{for(const c of s||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})};async function bS(){try{console.log(" Obteniendo lista de pacientes...");const{data:e,error:t}=await we.from("paciente").select("*").eq("estado","activo").order("apellidos",{ascending:!0});return t?(console.error(" Error al obtener pacientes:",t),[]):(console.log(` Se encontraron ${e?.length||0} pacientes`),e||[])}catch(e){return console.error(" Error inesperado al obtener pacientes:",e),[]}}async function GL(e){try{console.log(" Obteniendo pacientes de la compaa:",e);const{data:t,error:r}=await we.from("paciente").select("*").eq("estado","activo").eq("id_compania",e).order("apellidos",{ascending:!0});return r?(console.error(" Error al obtener pacientes:",r),[]):(console.log(` Se encontraron ${t?.length||0} pacientes de la compaa ${e}`),t||[])}catch(t){return console.error(" Error inesperado al obtener pacientes:",t),[]}}async function KL(e){try{console.log(" Buscando pacientes:",e);const t=`%${e}%`,{data:r,error:n}=await we.from("paciente").select("*").eq("activo",!0).or(`nombres.ilike.${t},apellidos.ilike.${t},cedula.ilike.${t}`).order("apellidos",{ascending:!0});return n?(console.error(" Error al buscar pacientes:",n),[]):(console.log(` Se encontraron ${r?.length||0} pacientes`),r||[])}catch(t){return console.error(" Error inesperado al buscar pacientes:",t),[]}}async function YL(e,t){try{console.log(" Buscando pacientes:",e,"en compaa:",t);const r=`%${e}%`,{data:n,error:a}=await we.from("paciente").select("*").eq("estado","activo").eq("id_compania",t).or(`nombres.ilike.${r},apellidos.ilike.${r},cedula.ilike.${r}`).order("apellidos",{ascending:!0});return a?(console.error(" Error al buscar pacientes:",a),[]):(console.log(` Se encontraron ${n?.length||0} pacientes de la compaa ${t}`),n||[])}catch(r){return console.error(" Error inesperado al buscar pacientes:",r),[]}}async function XL(e){try{console.log(" Obteniendo paciente ID:",e);const{data:t,error:r}=await we.from("paciente").select("*").eq("id_paciente",e).maybeSingle();return r?(console.error(" Error al obtener paciente:",r),null):(console.log(" Paciente encontrado:",t.nombres,t.apellidos),t)}catch(t){return console.error(" Error inesperado al obtener paciente:",t),null}}async function JL(e,t){try{console.log(" Buscando paciente por cdula:",e,t?`en compaa ${t}`:"");let r=we.from("paciente").select("*").eq("cedula",e).eq("estado","activo");t&&(r=r.eq("id_compania",t));const{data:n,error:a}=await r.maybeSingle();return a?(console.error(" Error al buscar paciente por cdula:",a),null):(console.log(n?" Paciente encontrado con cdula:":" No se encontr paciente con cdula:",e),n)}catch(r){return console.error(" Error inesperado al buscar paciente por cdula:",r),null}}async function QL(e){try{console.log(" Creando nuevo paciente:",e.nombres,e.apellidos);const{data:t,error:r}=await we.from("paciente").insert({...e,estado:"activo"}).select().single();if(r){if(console.error(" Error al crear paciente:",r),r.code==="23505"&&r.message.includes("cedula"))throw new Error("CEDULA_DUPLICADA");return null}return console.log(" Paciente creado exitosamente"),t}catch(t){if(console.error(" Error inesperado al crear paciente:",t),t instanceof Error&&t.message==="CEDULA_DUPLICADA")throw t;return null}}async function ZL(e,t){try{console.log(" Actualizando paciente ID:",e);const{error:r}=await we.from("paciente").update(t).eq("id_paciente",e);return r?(console.error(" Error al actualizar paciente:",r),!1):(console.log(" Paciente actualizado exitosamente"),!0)}catch(r){return console.error(" Error inesperado al actualizar paciente:",r),!1}}async function e4(e){try{console.log(" Desactivando paciente ID:",e);const{error:t}=await we.from("paciente").update({estado:"inactivo"}).eq("id_paciente",e);return t?(console.error(" Error al desactivar paciente:",t),!1):(console.log(" Paciente desactivado exitosamente"),!0)}catch(t){return console.error(" Error inesperado al desactivar paciente:",t),!1}}async function t4(e){try{console.log(" Obteniendo signos vitales del paciente:",e);const{data:t,error:r}=await we.from("signo_vital").select("*").eq("id_paciente",e).order("fecha_registro",{ascending:!1});return r?(console.error(" Error al obtener signos vitales:",r),[]):(console.log(` Se encontraron ${t?.length||0} registros de signos vitales`),t||[])}catch(t){return console.error(" Error inesperado al obtener signos vitales:",t),[]}}async function r4(e){try{console.log(" Creando nuevo registro de signos vitales para paciente:",e.id_paciente),console.log(" Datos a insertar:",JSON.stringify(e,null,2));const t={...e,estatura_cm:e.estatura_cm!==null?Math.min(999.99,Math.max(0,Number(e.estatura_cm))):null,peso_kg:e.peso_kg!==null?Math.min(999.99,Math.max(0,Number(e.peso_kg))):null,imc:e.imc!==null?Math.min(999.99,Math.max(0,Number(e.imc))):null,temperatura_c:e.temperatura_c!==null?Math.min(999.99,Math.max(0,Number(e.temperatura_c))):null,frecuencia_respiratoria:e.frecuencia_respiratoria!==null?Math.min(999,Math.max(0,Number(e.frecuencia_respiratoria))):null,frecuencia_cardiaca:e.frecuencia_cardiaca!==null?Math.min(999,Math.max(0,Number(e.frecuencia_cardiaca))):null,presion_sistolica:e.presion_sistolica!==null?Math.min(999,Math.max(0,Number(e.presion_sistolica))):null,presion_diastolica:e.presion_diastolica!==null?Math.min(999,Math.max(0,Number(e.presion_diastolica))):null,saturacion_oxigeno:e.saturacion_oxigeno!==null?Math.min(100,Math.max(0,Number(e.saturacion_oxigeno))):null};console.log(" Datos limpiados:",JSON.stringify(t,null,2));const{data:r,error:n}=await we.from("signo_vital").insert(t).select().single();return n?(console.error(" Error al crear signos vitales:",n),null):(console.log(" Signos vitales guardados exitosamente"),r)}catch(t){return console.error(" Error inesperado al crear signos vitales:",t),null}}const n4="medical_antecedentes";function a4(){try{const e=localStorage.getItem(n4);return e?JSON.parse(e):{}}catch(e){return console.error("Error al cargar antecedentes del localStorage:",e),{}}}function UJ(e){try{localStorage.setItem(n4,JSON.stringify(e))}catch(t){console.error("Error al guardar antecedentes en localStorage:",t)}}async function a_(e){try{console.log(" Obteniendo antecedentes del paciente:",e);const r=a4()[e]||{};return console.log(` Antecedentes cargados para paciente ${e}`),r}catch(t){return console.error(" Error inesperado al obtener antecedentes:",t),{}}}async function i4(e,t,r){try{console.log(" Guardando antecedente:",{id_paciente:e,tipo:t});const n=a4(),a=n[e]||{};return n[e]={...a,[t]:r,updated_at:new Date().toISOString()},UJ(n),console.log(" Antecedente guardado exitosamente"),!0}catch(n){return console.error(" Error inesperado al guardar antecedente:",n),!1}}async function o4(e){try{console.log(" Obteniendo archivos del paciente:",e);const{data:t,error:r}=await we.from("archivo_medico").select("*").eq("id_paciente",e).order("fecha_carga",{ascending:!1});return r?(console.error(" Error al obtener archivos:",r),[]):(console.log(` Se encontraron ${t?.length||0} archivos`),t||[])}catch(t){return console.error(" Error inesperado al obtener archivos:",t),[]}}async function s4(e){try{console.log(" Creando nuevo archivo para paciente:",e.id_paciente);const{data:t,error:r}=await we.from("archivo_medico").insert(e).select().single();return r?(console.error(" Error al crear archivo:",r),null):(console.log(" Archivo registrado exitosamente"),t)}catch(t){return console.error(" Error inesperado al crear archivo:",t),null}}async function l4(e){try{console.log(" Eliminando archivo ID:",e);const{error:t}=await we.from("archivo_medico").delete().eq("id_archivo",e);return t?(console.error(" Error al eliminar archivo:",t),!1):(console.log(" Archivo eliminado exitosamente"),!0)}catch(t){return console.error(" Error inesperado al eliminar archivo:",t),!1}}function c4(e,t){if(!e||!t||t===0)return null;const r=t/100,n=e/(r*r),a=Math.round(n*100)/100;return Math.min(999.99,a)}function Yh(e){const t=new Date,r=new Date(e);let n=t.getFullYear()-r.getFullYear();const a=t.getMonth()-r.getMonth();return(a<0||a===0&&t.getDate()<r.getDate())&&n--,n}function i_(e,t){const r=e.charAt(0).toUpperCase(),n=t.charAt(0).toUpperCase();return`${r}${n}`}const MA=Object.freeze(Object.defineProperty({__proto__:null,calcularEdad:Yh,calcularIMC:c4,createArchivoMedico:s4,createPaciente:QL,createSignoVital:r4,deleteArchivoMedico:l4,deletePaciente:e4,getAllPacientes:bS,getAntecedentesByPaciente:a_,getArchivosByPaciente:o4,getIniciales:i_,getPacienteByCedula:JL,getPacienteById:XL,getPacientesByCompania:GL,getSignosVitalesByPaciente:t4,saveAntecedente:i4,searchPacientes:KL,searchPacientesByCompania:YL,updatePaciente:ZL},Symbol.toStringTag,{value:"Module"}));function VJ({isOpen:e,onClose:t,onCitaAgendada:r,idUsuarioActual:n,citaEditar:a,tipoUsuario:i}){const[s,c]=w.useState("paciente"),d=!!a,f=i==="secretaria",[p,h]=w.useState(""),[g,x]=w.useState(""),[_,b]=w.useState([]),[v,j]=w.useState({nombres:"",apellidos:"",cedula:"",fecha_nacimiento:"",sexo:"M",telefono:"",email:"",direccion:"",id_sucursal:null,nombre_sucursal:""}),[S,A]=w.useState(""),[P,E]=w.useState(""),[O,C]=w.useState(""),[T,I]=w.useState("30"),[R,D]=w.useState("consulta"),[B,W]=w.useState(""),[Y,J]=w.useState([]),[F,K]=w.useState(!1),[L,H]=w.useState(""),[te,q]=w.useState([]),[Q,U]=w.useState([]);w.useEffect(()=>{e&&ne()},[e]),w.useEffect(()=>{e&&a&&(c("detalles"),x(a.id_paciente.toString()),A(a.id_usuario_sucursal.toString()),E(a.fecha),C(a.hora_inicio),I(a.duracion_minutos.toString()),D(a.tipo_cita),W(a.motivo_consulta))},[e,a]),w.useEffect(()=>{if(s==="nuevoPaciente"&&Y.length>0){const pe=localStorage.getItem("currentSucursalId");if(pe){const ke=Y.find(Le=>Le.id_sucursal===parseInt(pe));ke&&(j(Le=>({...Le,id_sucursal:ke.id_sucursal,nombre_sucursal:`${ke.compania.nombre} - ${ke.sucursal.nombre}`})),console.log(" Auto-llenada sucursal para nuevo paciente:",ke.sucursal.nombre))}}},[s,Y]);const ne=async()=>{const pe=localStorage.getItem("currentCompaniaId");if(pe){const{getPacientesByCompania:ke}=await IA(async()=>{const{getPacientesByCompania:qe}=await Promise.resolve().then(()=>MA);return{getPacientesByCompania:qe}},void 0),Le=await ke(parseInt(pe));b(Le)}else{const ke=await bS();b(ke)}},se=async()=>{if(!n)return;const pe=await BD(n),ke=localStorage.getItem("currentSucursalId"),Le=ke?pe.filter(qe=>qe.id_sucursal===parseInt(ke)):pe;J(Le),Le.length>0&&!S&&(A(Le[0].id_usuario_sucursal.toString()),console.log(" Auto-seleccionada sucursal actual:",Le[0].sucursal.nombre))},ve=async()=>{const pe=localStorage.getItem("currentCompaniaId");if(pe){console.log(" Cargando sucursales para secretaria...");const ke=await jG(parseInt(pe));if(q(ke),console.log(" Sucursales cargadas:",ke.length),ke.length>0&&!d){const Le=ke[0].id_sucursal.toString();H(Le),console.log(" Auto-seleccionada primera sucursal:",ke[0].nombre);const qe=await NA(ke[0].id_sucursal);console.log(" Mdicos cargados automticamente:",qe.length),U(qe),J(qe)}}},re=async pe=>{console.log(" Cambiando sucursal:",pe),H(pe),A(""),E(""),C(""),U([]);const ke=await NA(parseInt(pe));console.log(" Mdicos cargados:",ke.length),U(ke),J(ke)};w.useEffect(()=>{e&&f&&s==="detalles"?ve():e&&!f&&n&&se()},[e,f,s,n]);const oe=S?parseInt(S):null;console.log(" AgendarCitaModal - selectedAsignacion:",S),console.log(" AgendarCitaModal - idAsignacionNum:",oe);const{diasSemana:ee,precio:me,verificarDisponibilidadHorario:xe}=FJ(oe);console.log(" AgendarCitaModal - Precio recibido del hook:",me),console.log(" AgendarCitaModal - Das de semana recibidos:",ee.length);const ue=_.filter(pe=>{const ke=p.toLowerCase();return pe.nombres.toLowerCase().includes(ke)||pe.apellidos.toLowerCase().includes(ke)||pe.cedula.includes(ke)}),He=(pe,ke)=>{if(!pe||!ke)return"";const[Le,qe]=pe.split(":").map(Number),rr=Le*60+qe+parseInt(ke),le=Math.floor(rr/60),Ve=rr%60;return`${le.toString().padStart(2,"0")}:${Ve.toString().padStart(2,"0")}`},Fe=pe=>{if(!pe||ee.length===0)return!1;const Le=new Date(pe+"T00:00:00").getDay();return console.log(" Verificando disponibilidad:",{fechaSeleccionada:pe,diaSemanaNumero:Le,diasDisponibles:ee.map(qe=>qe.dia_semana),diasSemanaCompleto:ee}),ee.some(qe=>qe.dia_semana===Le)},vt=(()=>{if(!P||ee.length===0)return[];const ke=new Date(P+"T00:00:00").getDay(),Le=ee.find(rr=>rr.dia_semana===ke);if(!Le)return[];const qe=Le.duracion_consulta||30;return console.log(" Duracin de consulta configurada:",qe,"minutos"),LJ(Le.hora_inicio,Le.hora_fin,qe)})(),yt=(pe,ke)=>{const Le=He(pe,ke.toString());return`${pe} - ${Le}`},tr=()=>{if(!P||ee.length===0)return 30;const ke=new Date(P+"T00:00:00").getDay();return ee.find(qe=>qe.dia_semana===ke)?.duracion_consulta||30},kt=async()=>{if(!v.nombres||!v.apellidos||!v.cedula){de.error("Complete los campos obligatorios (Nombres, Apellidos, Cdula)");return}K(!0);try{const pe=localStorage.getItem("currentCompaniaId");if(!pe){de.error("Error: No se pudo obtener la compaa actual"),K(!1);return}const{createPaciente:ke}=await IA(async()=>{const{createPaciente:qe}=await Promise.resolve().then(()=>MA);return{createPaciente:qe}},void 0),Le=await ke({id_compania:parseInt(pe),nombres:v.nombres,apellidos:v.apellidos,cedula:v.cedula,fecha_nacimiento:v.fecha_nacimiento||new Date().toISOString().split("T")[0],sexo:v.sexo,telefono:v.telefono||null,email:v.email||null,direccion:v.direccion||null,fecha_registro:new Date().toISOString().split("T")[0]});Le?(de.success("Paciente creado exitosamente"),await ne(),x(Le.id_paciente.toString()),j({nombres:"",apellidos:"",cedula:"",fecha_nacimiento:"",sexo:"M",telefono:"",email:"",direccion:"",id_sucursal:null,nombre_sucursal:""}),c("paciente")):de.error("Error al crear el paciente")}catch(pe){console.error("Error al crear paciente:",pe),de.error("Error al crear el paciente")}K(!1)},dr=()=>{if(!g){de.error("Por favor seleccione un paciente");return}c("detalles")},Gt=async()=>{if(!S||!P||!O||!B){de.error("Por favor complete todos los campos obligatorios");return}const pe=He(O,T);if((!d||a&&(a.fecha!==P||a.hora_inicio!==O))&&!await xe(P,O,pe)){de.error("El horario seleccionado no est disponible");return}K(!0);try{if(d&&a){console.log(" Actualizando cita ID:",a.id_cita);const ke={fecha_cita:P,hora_inicio:O,hora_fin:pe,duracion_minutos:parseInt(T),tipo_cita:R,motivo_consulta:B};await WL(a.id_cita,ke)?(de.success("Cita modificada exitosamente"),r(),G()):de.error("Error al modificar la cita")}else{const ke=Y.find(Ve=>Ve.id_usuario_sucursal===parseInt(S));if(!ke){de.error("Error: No se encontr la asignacin seleccionada"),K(!1);return}const qe=new Date(P+"T00:00:00").getDay();console.log(" Buscando consultorio:",{fechaSeleccionada:P,diaSemanaCalculado:qe,diasSemanaDisponibles:ee,totalDias:ee.length});const rr=ee.find(Ve=>Ve.dia_semana===qe);if(console.log(" Configuracin encontrada:",rr),!rr){de.error("No se encontr configuracin del consultorio para este da"),K(!1);return}if(!rr.id_consultorio){console.error(" ERROR: diaConfig.id_consultorio es NULL o undefined"),de.error("Error: No hay consultorio asignado para este da"),K(!1);return}console.log(" Datos de la cita a crear:",{id_paciente:parseInt(g),id_usuario_sucursal:parseInt(S),id_sucursal:ke.id_sucursal,id_consultorio:rr.id_consultorio,fecha_cita:P,hora_inicio:O,hora_fin:pe,duracion_minutos:parseInt(T),tipo_cita:R,motivo_consulta:B,estado_cita:"agendada",precio_cita:me}),await VL({id_paciente:parseInt(g),id_usuario_sucursal:parseInt(S),id_sucursal:ke.id_sucursal,id_consultorio:rr.id_consultorio,fecha_cita:P,hora_inicio:O,hora_fin:pe,duracion_minutos:parseInt(T),tipo_cita:R,motivo_consulta:B,estado_cita:"agendada",precio_cita:me})?(de.success("Cita agendada exitosamente"),r(),G()):de.error("Error al agendar la cita")}}catch(ke){console.error("Error al procesar cita:",ke),de.error(d?"Error al modificar la cita":"Error al agendar la cita")}K(!1)},G=()=>{c("paciente"),h(""),x(""),A(""),E(""),C(""),I("30"),D("consulta"),W(""),j({nombres:"",apellidos:"",cedula:"",fecha_nacimiento:"",sexo:"M",telefono:"",email:"",direccion:"",id_sucursal:null,nombre_sucursal:""}),t()};return o.jsx(Or,{open:e,onOpenChange:G,children:o.jsxs(kr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(Tr,{children:[o.jsxs(Ir,{children:[s==="paciente"&&"Seleccionar Paciente",s==="nuevoPaciente"&&"Registrar Nuevo Paciente",s==="detalles"&&(d?"Modificar Cita":"Detalles de la Cita")]}),o.jsxs(Mr,{children:[s==="paciente"&&"Busque y seleccione el paciente para la cita",s==="nuevoPaciente"&&"Complete los datos del nuevo paciente",s==="detalles"&&(d?"Modifique los datos de la cita mdica":"Complete la informacin de la cita mdica")]})]}),s==="paciente"?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 size-4"}),o.jsx(Se,{placeholder:"Buscar por nombre, apellido o cdula...",value:p,onChange:pe=>h(pe.target.value),className:"pl-10"})]}),o.jsxs(fe,{onClick:()=>c("nuevoPaciente"),className:"bg-gray-900 hover:bg-gray-800 whitespace-nowrap",children:[o.jsx(cr,{className:"size-4 mr-2"}),"Nuevo Paciente"]})]}),o.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[ue.length===0&&o.jsx("div",{className:"text-center py-8 text-gray-500",children:p?"No se encontraron pacientes":"No hay pacientes registrados"}),ue.map(pe=>o.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${g===pe.id_paciente.toString()?"border-blue-500 bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>x(pe.id_paciente.toString()),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-semibold",children:[pe.nombres," ",pe.apellidos]}),o.jsxs("p",{className:"text-sm text-gray-500",children:[pe.cedula,"  ",pe.telefono||"Sin telfono"]})]}),g===pe.id_paciente.toString()&&o.jsx("div",{className:"text-blue-600",children:""})]})},pe.id_paciente))]})]}):s==="nuevoPaciente"?o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2 col-span-2",children:[o.jsx(z,{children:"Sucursal *"}),o.jsx(Se,{value:v.nombre_sucursal,disabled:!0,className:"bg-gray-50 text-gray-600",placeholder:"Cargando sucursal..."}),o.jsx("p",{className:"text-xs text-gray-500",children:"Se asignar automticamente a su sucursal actual"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Nombres *"}),o.jsx(Se,{value:v.nombres,onChange:pe=>j({...v,nombres:pe.target.value}),placeholder:"Nombres"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Apellidos *"}),o.jsx(Se,{value:v.apellidos,onChange:pe=>j({...v,apellidos:pe.target.value}),placeholder:"Apellidos"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Cdula *"}),o.jsx(Se,{value:v.cedula,onChange:pe=>j({...v,cedula:pe.target.value}),placeholder:"0000000000"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Fecha de Nacimiento"}),o.jsx(Se,{type:"date",value:v.fecha_nacimiento,onChange:pe=>j({...v,fecha_nacimiento:pe.target.value})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Sexo"}),o.jsxs(ft,{value:v.sexo,onValueChange:pe=>j({...v,sexo:pe}),children:[o.jsx(pt,{children:o.jsx(ht,{})}),o.jsxs(mt,{children:[o.jsx(Ae,{value:"M",children:"Masculino"}),o.jsx(Ae,{value:"F",children:"Femenino"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Telfono"}),o.jsx(Se,{value:v.telefono,onChange:pe=>j({...v,telefono:pe.target.value}),placeholder:"0999999999"})]}),o.jsxs("div",{className:"space-y-2 col-span-2",children:[o.jsx(z,{children:"Email"}),o.jsx(Se,{type:"email",value:v.email,onChange:pe=>j({...v,email:pe.target.value}),placeholder:"paciente@email.com"})]}),o.jsxs("div",{className:"space-y-2 col-span-2",children:[o.jsx(z,{children:"Direccin"}),o.jsx(Se,{value:v.direccion,onChange:pe=>j({...v,direccion:pe.target.value}),placeholder:"Direccin completa"})]})]})}):o.jsxs("div",{className:"space-y-4",children:[f?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Sucursal *"}),o.jsxs(ft,{value:L,onValueChange:re,disabled:d,children:[o.jsx(pt,{children:o.jsx(ht,{placeholder:"Seleccione sucursal"})}),o.jsx(mt,{children:te.map(pe=>o.jsx(Ae,{value:pe.id_sucursal.toString(),children:pe.nombre},pe.id_sucursal))})]}),o.jsx("p",{className:"text-xs text-gray-500",children:d?"La sucursal no puede modificarse":"Seleccione la sucursal donde se realizar la cita"})]}),L&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Mdico *"}),o.jsxs(ft,{value:S,onValueChange:A,disabled:d||!L,children:[o.jsx(pt,{children:o.jsx(ht,{placeholder:"Seleccione mdico"})}),o.jsx(mt,{children:Q.length===0?o.jsx("div",{className:"p-2 text-sm text-gray-500",children:"No hay mdicos disponibles en esta sucursal"}):Q.map(pe=>o.jsxs(Ae,{value:pe.id_usuario_sucursal.toString(),children:["Dr. ",pe.usuario.nombre," ",pe.usuario.apellido," - ",pe.especialidad]},pe.id_usuario_sucursal))})]}),o.jsx("p",{className:"text-xs text-gray-500",children:d?"El mdico no puede modificarse":"Seleccione el mdico para la cita"})]})]}):o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Sucursal *"}),o.jsx(Se,{value:Y.length>0?`${Y[0].compania.nombre} - ${Y[0].sucursal.nombre}`:"Cargando...",disabled:!0,className:"bg-gray-50 text-gray-600"}),o.jsx("p",{className:"text-xs text-gray-500",children:d?"La sucursal no puede modificarse":"Se usar automticamente su sucursal actual"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Fecha *"}),o.jsx(Se,{type:"date",value:P,onChange:pe=>{E(pe.target.value),C("")},min:new Date().toISOString().split("T")[0]}),P&&!Fe(P)&&o.jsx("p",{className:"text-xs text-red-500",children:"Este da no tiene horario de atencin configurado"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Hora de Inicio *"}),o.jsxs(ft,{value:O,onValueChange:C,disabled:!P||!Fe(P),children:[o.jsx(pt,{children:o.jsx(ht,{placeholder:"Seleccione hora"})}),o.jsx(mt,{children:vt.map(pe=>o.jsx(Ae,{value:pe,children:yt(pe,tr())},pe))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Duracin (minutos) *"}),o.jsxs(ft,{value:T,onValueChange:I,children:[o.jsx(pt,{children:o.jsx(ht,{})}),o.jsxs(mt,{children:[o.jsx(Ae,{value:"15",children:"15 minutos"}),o.jsx(Ae,{value:"30",children:"30 minutos"}),o.jsx(Ae,{value:"45",children:"45 minutos"}),o.jsx(Ae,{value:"60",children:"1 hora"})]})]})]})]}),O&&o.jsxs("div",{className:"text-sm text-gray-600",children:["Hora de finalizacin: ",o.jsx("span",{className:"font-semibold",children:He(O,T)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Tipo de Cita *"}),o.jsxs(ft,{value:R,onValueChange:pe=>D(pe),children:[o.jsx(pt,{children:o.jsx(ht,{})}),o.jsxs(mt,{children:[o.jsx(Ae,{value:"consulta",children:"Consulta"}),o.jsx(Ae,{value:"control",children:"Control"}),o.jsx(Ae,{value:"primera_vez",children:"Primera Vez"}),o.jsx(Ae,{value:"emergencia",children:"Emergencia"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Motivo de Consulta *"}),o.jsx(qt,{value:B,onChange:pe=>W(pe.target.value),placeholder:"Describa brevemente el motivo de la consulta",rows:3})]}),S&&o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:o.jsxs("p",{className:"text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Precio de consulta:"})," ",o.jsxs("span",{className:"font-semibold text-blue-700",children:["$",me.toFixed(2)]})]})})]}),o.jsxs(Rr,{children:[s==="detalles"&&!d&&o.jsx(fe,{variant:"outline",onClick:()=>c("paciente"),children:"Atrs"}),s==="nuevoPaciente"&&o.jsx(fe,{variant:"outline",onClick:()=>c("paciente"),children:"Atrs"}),o.jsx(fe,{variant:"outline",onClick:G,children:"Cancelar"}),s==="paciente"&&o.jsx(fe,{onClick:dr,className:"bg-blue-600 hover:bg-blue-700",children:"Siguiente"}),s==="nuevoPaciente"&&o.jsx(fe,{onClick:kt,className:"bg-blue-600 hover:bg-blue-700",disabled:F,children:F?"Guardando...":"Guardar Paciente"}),s==="detalles"&&o.jsx(fe,{onClick:Gt,className:"bg-blue-600 hover:bg-blue-700",disabled:F,children:F?d?"Modificando...":"Agendando...":d?"Modificar Cita":"Agendar Cita"})]})]})})}function WJ({isOpen:e,onClose:t,cita:r,onCitaCancelada:n}){const[a,i]=w.useState(""),[s,c]=w.useState(!1),d=async()=>{if(r){if(!a.trim()){de.error("Por favor ingresa el motivo de cancelacin");return}c(!0);try{const g=localStorage.getItem("currentUserId"),x=g?parseInt(g):1;await HL(r.id_cita,x,a)?(de.success("Cita cancelada exitosamente"),i(""),n(),t()):de.error("Error al cancelar la cita")}catch(g){de.error("Error al procesar la cancelacin"),console.error(g)}finally{c(!1)}}},f=()=>{i(""),t()},p=g=>{const x=new Date(g+"T00:00:00"),_=["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"],b=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"];return`${_[x.getDay()]}, ${x.getDate()} de ${b[x.getMonth()]} de ${x.getFullYear()}`};if(!r||r.estado==="cancelada")return null;const h=`${r.paciente.nombres} ${r.paciente.apellidos}`;return o.jsx(Or,{open:e,onOpenChange:f,children:o.jsxs(kr,{className:"max-w-md",children:[o.jsxs(Tr,{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"bg-red-100 p-2 rounded-full",children:o.jsx(nH,{className:"size-6 text-red-600"})}),o.jsx(Ir,{children:"Cancelar Cita"})]}),o.jsx(Mr,{children:"Esta accin cancelar la cita y se registrar en el historial del paciente."})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Paciente"}),o.jsx("p",{className:"text-gray-900",children:h})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Fecha y Hora"}),o.jsxs("p",{className:"text-gray-900",children:[p(r.fecha)," - ",r.hora_inicio]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Motivo de consulta"}),o.jsx("p",{className:"text-gray-900",children:r.motivo_consulta})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(z,{htmlFor:"motivo",children:["Motivo de cancelacin ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(qt,{id:"motivo",placeholder:"Ej: Paciente solicit reprogramacin, Emergencia mdica, Paciente no puede asistir...",value:a,onChange:g=>i(g.target.value),rows:4,className:"resize-none"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Este motivo quedar registrado en el historial de la cita"})]})]}),o.jsxs(Rr,{className:"gap-2",children:[o.jsx(fe,{type:"button",variant:"outline",onClick:f,disabled:s,children:"Volver"}),o.jsx(fe,{type:"button",onClick:d,disabled:s||!a.trim(),className:"bg-red-600 hover:bg-red-700",children:s?"Cancelando...":"Confirmar Cancelacin"})]})]})})}function HJ({currentUser:e,onIniciarConsulta:t}){const[r,n]=w.useState(new Date),[a,i]=w.useState(!1),[s,c]=w.useState(!1),[d,f]=w.useState(null),[p,h]=w.useState(!1),[g,x]=w.useState("semana"),[_,b]=w.useState(null),[v,j]=w.useState(null),[S,A]=w.useState("");w.useEffect(()=>{const ne=localStorage.getItem("currentUserId");ne&&b(parseInt(ne))},[e]),w.useEffect(()=>{e&&"sucursal"in e&&A(e.sucursal||"")},[e]);const P=ne=>{const se=new Date(ne);se.setDate(se.getDate()-se.getDay()),se.setHours(0,0,0,0);const ve=new Date(se);return ve.setDate(ve.getDate()+6),ve.setHours(23,59,59,999),{inicio:se.toISOString().split("T")[0],fin:ve.toISOString().split("T")[0]}},{inicio:E,fin:O}=P(r),{citas:C,isLoading:T,loadCitas:I}=zJ(_,E,O,e?.tipo_usuario);w.useEffect(()=>{C&&C.length>0},[C]);const D=(()=>{const ne=[],se=new Date(r);se.setDate(se.getDate()-se.getDay());for(let ve=0;ve<7;ve++){const re=new Date(se);re.setDate(re.getDate()+ve),ne.push(re)}return ne})(),B=["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"],W=()=>{const ne=new Date(r);ne.setDate(ne.getDate()-7),n(ne)},Y=()=>{const ne=new Date(r);ne.setDate(ne.getDate()+7),n(ne)},J=()=>{n(new Date)},F=ne=>{const se=ne.toISOString().split("T")[0],ve=C.filter(re=>{const oe=re.fecha,ee=p||re.estado_cita!=="cancelada";return oe===se&&ee});return ve.length>0,ve},K=ne=>{f(ne),c(!0)},L=async ne=>{t&&t(ne.id_paciente.toString(),ne.id_cita)},H=ne=>{f(ne),i(!0)},te=["blue","green","purple","orange","pink","indigo"],q=ne=>te[ne%te.length],Q=()=>{const ne=p?C:C.filter(se=>se.estado_cita!=="cancelada");return o.jsxs("div",{className:"space-y-3",children:[ne.length===0&&o.jsxs("div",{className:"text-center py-12 text-gray-500",children:[o.jsx(No,{className:"size-12 mx-auto mb-3 text-gray-300"}),o.jsx("p",{children:"No hay citas programadas para esta semana"})]}),ne.map(se=>o.jsx(tt,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Dt,{className:`bg-${q(se.usuario_sucursal.sucursal.id_sucursal)}-100 text-${q(se.usuario_sucursal.sucursal.id_sucursal)}-700`,children:se.usuario_sucursal.sucursal.nombre}),o.jsx(Dt,{variant:se.estado_cita==="cancelada"?"destructive":se.consulta_realizada?"default":"secondary",children:se.estado_cita==="cancelada"?"Cancelada":se.consulta_realizada?"Completada":"Programada"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(hm,{className:"size-4 text-gray-500"}),o.jsxs("span",{className:"font-semibold",children:[se.paciente.nombres," ",se.paciente.apellidos]})]}),se.paciente.telefono&&o.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[o.jsx(Bw,{className:"size-3"}),o.jsx("span",{className:"text-xs",children:se.paciente.telefono})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(Oh,{className:"size-4 text-gray-500"}),o.jsxs("span",{className:"font-semibold",children:[new Date(se.fecha).toLocaleDateString("es-ES")," - ",se.hora_inicio.substring(0,5)]})]}),o.jsx("div",{className:"text-xs text-gray-600",children:se.motivo_consulta})]})]})]}),o.jsx("div",{className:"flex gap-2 ml-4",children:!se.consulta_realizada&&se.estado_cita!=="cancelada"&&o.jsxs(o.Fragment,{children:[o.jsx(fe,{size:"sm",variant:"outline",onClick:()=>L(se),children:o.jsx(ZC,{className:"size-4"})}),o.jsx(fe,{size:"sm",variant:"outline",onClick:()=>K(se),children:o.jsx(Fw,{className:"size-4"})})]})})]})},se.id_cita))]})},U=()=>o.jsx("div",{className:"grid grid-cols-7 gap-2",children:D.map((ne,se)=>{const ve=F(ne),re=ne.toDateString()===new Date().toDateString();return o.jsxs("div",{className:`min-h-[400px] ${re?"bg-blue-50":"bg-white"} rounded-lg border p-2`,children:[o.jsxs("div",{className:`text-center mb-2 pb-2 border-b ${re?"border-blue-300":""}`,children:[o.jsx("div",{className:`text-xs ${re?"text-blue-600 font-semibold":"text-gray-500"}`,children:B[ne.getDay()]}),o.jsx("div",{className:`text-lg ${re?"bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center mx-auto":""}`,children:ne.getDate()})]}),o.jsxs("div",{className:"space-y-1",children:[ve.map(oe=>o.jsxs("div",{className:"relative",onMouseEnter:()=>j(oe.id_cita),onMouseLeave:()=>j(null),children:[o.jsx(tt,{className:`p-2 cursor-pointer hover:shadow-md transition-shadow ${oe.estado_cita==="cancelada"?"opacity-50":""}`,children:o.jsxs("div",{className:"text-xs space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Oh,{className:"size-3 text-gray-500"}),o.jsx("span",{className:"font-semibold",children:oe.hora_inicio.substring(0,5)})]}),o.jsxs("div",{className:"font-medium truncate",children:[oe.paciente.nombres," ",oe.paciente.apellidos]}),o.jsx("div",{className:"text-xs text-gray-500 truncate",children:oe.motivo_consulta}),o.jsx(Dt,{variant:oe.estado_cita==="cancelada"?"destructive":oe.consulta_realizada?"default":"secondary",className:"text-xs",children:oe.estado_cita==="cancelada"?"Cancelada":oe.consulta_realizada?"Completada":"Programada"})]})}),v===oe.id_cita&&o.jsx("div",{className:"absolute left-full ml-2 top-0 z-50 w-80 bg-white rounded-lg shadow-xl border border-gray-200 p-4",style:{animation:"fadeIn 0.15s ease-in-out"},children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-start justify-between pb-3 border-b",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold text-sm",children:[oe.paciente.nombres," ",oe.paciente.apellidos]}),o.jsx("p",{className:"text-xs text-gray-500",children:oe.paciente.fecha_nacimiento&&`${Yh(oe.paciente.fecha_nacimiento)} aos`})]}),o.jsx(Dt,{variant:oe.estado_cita==="cancelada"?"destructive":oe.consulta_realizada?"default":"secondary",className:"text-xs",children:oe.estado_cita==="cancelada"?"Cancelada":oe.consulta_realizada?"Completada":"Programada"})]}),o.jsxs("div",{className:"space-y-2 text-xs",children:[oe.paciente.telefono&&o.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[o.jsx(Bw,{className:"size-3"}),o.jsx("span",{children:oe.paciente.telefono})]}),oe.paciente.email&&o.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[o.jsx(Gj,{className:"size-3"}),o.jsx("span",{children:oe.paciente.email})]}),o.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[o.jsx(mi,{className:"size-3"}),o.jsx("span",{children:new Date(oe.fecha).toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"})})]}),o.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[o.jsx(Oh,{className:"size-3"}),o.jsxs("span",{children:[oe.hora_inicio.substring(0,5)," - ",oe.hora_fin.substring(0,5)]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[o.jsx(Co,{className:"size-3"}),o.jsx("span",{children:oe.usuario_sucursal.sucursal.nombre})]})]}),oe.motivo_consulta&&o.jsxs("div",{className:"pt-2 border-t",children:[o.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:"Motivo de consulta:"}),o.jsx("p",{className:"text-xs text-gray-600",children:oe.motivo_consulta})]}),!oe.consulta_realizada&&oe.estado_cita!=="cancelada"&&o.jsxs("div",{className:"space-y-2 pt-3 border-t",children:[o.jsxs(fe,{size:"sm",className:"w-full bg-blue-600 hover:bg-blue-700",onClick:()=>L(oe),children:[o.jsx(ZC,{className:"size-3 mr-1"}),"Iniciar cita"]}),o.jsxs(fe,{size:"sm",className:"w-full bg-gray-600 hover:bg-gray-700 text-white",onClick:()=>H(oe),children:[o.jsx(mi,{className:"size-3 mr-1"}),"Modificar cita"]}),o.jsxs(fe,{size:"sm",className:"w-full bg-red-600 hover:bg-red-700 text-white",onClick:()=>K(oe),children:[o.jsx(Fw,{className:"size-3 mr-1"}),"Cancelar cita"]})]})]})})]},oe.id_cita)),ve.length===0&&o.jsx("div",{className:"text-xs text-gray-400 text-center py-4",children:"Sin citas"})]})]},se)})});return o.jsxs("div",{className:"h-full p-6 space-y-4",children:[o.jsx(bc,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fe,{variant:"outline",size:"sm",onClick:W,children:o.jsx(Hj,{className:"size-4"})}),o.jsx(fe,{variant:"outline",size:"sm",onClick:J,children:"Hoy"}),o.jsx(fe,{variant:"outline",size:"sm",onClick:Y,children:o.jsx(Fh,{className:"size-4"})})]}),o.jsx("div",{className:"text-lg font-semibold",children:D[0].toLocaleDateString("es-ES",{month:"long",year:"numeric"})}),S&&o.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx(Co,{className:"size-4 text-blue-600"}),o.jsxs("span",{className:"text-sm text-blue-700",children:[o.jsx("span",{className:"font-medium",children:"Sucursal:"})," ",S]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(kh,{id:"mostrar-canceladas",checked:p,onCheckedChange:ne=>h(ne)}),o.jsx("label",{htmlFor:"mostrar-canceladas",className:"text-sm cursor-pointer",children:"Mostrar canceladas"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(fe,{variant:g==="semana"?"default":"outline",size:"sm",onClick:()=>x("semana"),children:"Semana"}),o.jsx(fe,{variant:g==="lista"?"default":"outline",size:"sm",onClick:()=>x("lista"),children:"Lista"})]}),o.jsxs(fe,{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700",children:[o.jsx(cr,{className:"size-4 mr-2"}),"Nueva Cita"]})]})]}),T&&o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(lr,{className:"size-8 animate-spin text-blue-600"})}),!T&&o.jsx("div",{className:"overflow-auto",style:{maxHeight:"calc(100vh - 200px)"},children:g==="semana"?U():Q()}),o.jsx(VJ,{isOpen:a,onClose:()=>{i(!1),f(null)},onCitaAgendada:I,idUsuarioActual:_,citaEditar:d,tipoUsuario:e?.tipo_usuario}),o.jsx(WJ,{isOpen:s,onClose:()=>{c(!1),f(null)},cita:d,onCitaCancelada:I})]})}function GJ(e,t={initialLoad:!0}){const[r,n]=w.useState([]),[a,i]=w.useState(!0),[s,c]=w.useState(null);w.useEffect(()=>{t.initialLoad?d():i(!1)},[e,t.initialLoad]);const d=async()=>{i(!0),c(null);const v=e?await GL(e):await bS();v?n(v):c("Error al cargar pacientes"),i(!1)};return{pacientes:r,isLoading:a,error:s,loadPacientes:d,buscarPacientes:async v=>{if(!v.trim()){t.initialLoad?await d():(n([]),i(!1));return}i(!0);const j=e?await YL(v,e):await KL(v);n(j),i(!1)},buscarPacientePorCedula:async v=>await JL(v,e),obtenerPaciente:async v=>await XL(v),crearPaciente:async v=>{try{const j=await QL(v);return j?(await d(),j):null}catch(j){throw j}},actualizarPaciente:async(v,j)=>{const S=await ZL(v,j);return S&&await d(),S},eliminarPaciente:async v=>{const j=await e4(v);return j&&await d(),j},clearPacientes:()=>{n([])}}}function KJ(e){const[t,r]=w.useState([]),[n,a]=w.useState(!1);w.useEffect(()=>{e&&i()},[e]);const i=async()=>{if(!e)return;a(!0);const c=await t4(e);r(c),a(!1)};return{signosVitales:t,isLoading:n,loadSignosVitales:i,guardarSignoVital:async c=>{const d=await r4(c);return d?(await i(),d):null}}}async function YJ(e){try{const{data:t,error:r}=await we.from("consulta_medica").insert({...e,fecha_consulta:new Date().toISOString()}).select().single();return r?null:t}catch{return null}}async function DA(e){try{const{data:t,error:r}=await we.from("consulta_medica").select("*").eq("id_cita",e).single();return r?null:t}catch(t){return console.error(" Error al obtener consulta mdica:",t),null}}function XJ(e,t=[]){let r=[];function n(i,s){const c=w.createContext(s);c.displayName=i+"Context";const d=r.length;r=[...r,s];const f=h=>{const{scope:g,children:x,..._}=h,b=g?.[e]?.[d]||c,v=w.useMemo(()=>_,Object.values(_));return o.jsx(b.Provider,{value:v,children:x})};f.displayName=i+"Provider";function p(h,g){const x=g?.[e]?.[d]||c,_=w.useContext(x);if(_)return _;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[f,p]}const a=()=>{const i=r.map(s=>w.createContext(s));return function(c){const d=c?.[e]||i;return w.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return a.scopeName=e,[n,JJ(a,...t)]}function JJ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((c,{useScope:d,scopeName:f})=>{const h=d(i)[`__scope${f}`];return{...c,...h}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}var QJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wS=QJ.reduce((e,t)=>{const r=Oj(`Primitive.${t}`),n=w.forwardRef((a,i)=>{const{asChild:s,...c}=a,d=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(d,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),wy={exports:{}},_y={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $A;function ZJ(){if($A)return _y;$A=1;var e=Jp();function t(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,s=e.useDebugValue;function c(h,g){var x=g(),_=n({inst:{value:x,getSnapshot:g}}),b=_[0].inst,v=_[1];return i(function(){b.value=x,b.getSnapshot=g,d(b)&&v({inst:b})},[h,x,g]),a(function(){return d(b)&&v({inst:b}),h(function(){d(b)&&v({inst:b})})},[h]),s(x),x}function d(h){var g=h.getSnapshot;h=h.value;try{var x=g();return!r(h,x)}catch{return!0}}function f(h,g){return g()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return _y.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,_y}var LA;function eQ(){return LA||(LA=1,wy.exports=ZJ()),wy.exports}var tQ=eQ();function rQ(){return tQ.useSyncExternalStore(nQ,()=>!0,()=>!1)}function nQ(){return()=>{}}var _S="Avatar",[aQ]=XJ(_S),[iQ,u4]=aQ(_S),d4=w.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=w.useState("idle");return o.jsx(iQ,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:o.jsx(wS.span,{...n,ref:t})})});d4.displayName=_S;var f4="AvatarImage",oQ=w.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,s=u4(f4,r),c=sQ(n,i),d=Pr(f=>{a(f),s.onImageLoadingStatusChange(f)});return er(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?o.jsx(wS.img,{...i,ref:t,src:n}):null});oQ.displayName=f4;var h4="AvatarFallback",p4=w.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=u4(h4,r),[s,c]=w.useState(n===void 0);return w.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(d)}},[n]),s&&i.imageLoadingStatus!=="loaded"?o.jsx(wS.span,{...a,ref:t}):null});p4.displayName=h4;function zA(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function sQ(e,{referrerPolicy:t,crossOrigin:r}){const n=rQ(),a=w.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[s,c]=w.useState(()=>zA(i,e));return er(()=>{c(zA(i,e))},[i,e]),er(()=>{const d=h=>()=>{c(h)};if(!i)return;const f=d("loaded"),p=d("error");return i.addEventListener("load",f),i.addEventListener("error",p),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",f),i.removeEventListener("error",p)}},[i,r,t]),s}var lQ=d4,cQ=p4;function FA({className:e,...t}){return o.jsx(lQ,{"data-slot":"avatar",className:Xe("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function BA({className:e,...t}){return o.jsx(cQ,{"data-slot":"avatar-fallback",className:Xe("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}var Cm="Collapsible",[uQ,m4]=on(Cm),[dQ,jS]=uQ(Cm),g4=w.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:s,...c}=e,[d,f]=Aa({prop:n,defaultProp:a??!1,onChange:s,caller:Cm});return o.jsx(dQ,{scope:r,disabled:i,contentId:ra(),open:d,onOpenToggle:w.useCallback(()=>f(p=>!p),[f]),children:o.jsx(We.div,{"data-state":ES(d),"data-disabled":i?"":void 0,...c,ref:t})})});g4.displayName=Cm;var v4="CollapsibleTrigger",y4=w.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=jS(v4,r);return o.jsx(We.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":ES(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:Pe(e.onClick,a.onOpenToggle)})});y4.displayName=v4;var SS="CollapsibleContent",x4=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=jS(SS,e.__scopeCollapsible);return o.jsx(Jr,{present:r||a.open,children:({present:i})=>o.jsx(fQ,{...n,ref:t,present:i})})});x4.displayName=SS;var fQ=w.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=e,s=jS(SS,r),[c,d]=w.useState(n),f=w.useRef(null),p=lt(t,f),h=w.useRef(0),g=h.current,x=w.useRef(0),_=x.current,b=s.open||c,v=w.useRef(b),j=w.useRef(void 0);return w.useEffect(()=>{const S=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(S)},[]),er(()=>{const S=f.current;if(S){j.current=j.current||{transitionDuration:S.style.transitionDuration,animationName:S.style.animationName},S.style.transitionDuration="0s",S.style.animationName="none";const A=S.getBoundingClientRect();h.current=A.height,x.current=A.width,v.current||(S.style.transitionDuration=j.current.transitionDuration,S.style.animationName=j.current.animationName),d(n)}},[s.open,n]),o.jsx(We.div,{"data-state":ES(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!b,...i,ref:p,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":_?`${_}px`:void 0,...e.style},children:b&&a})});function ES(e){return e?"open":"closed"}var hQ=g4,pQ=y4,mQ=x4,Oa="Accordion",gQ=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[NS,vQ,yQ]=Qp(Oa),[Am]=on(Oa,[yQ,m4]),CS=m4(),b4=$.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,i=n;return o.jsx(NS.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?o.jsx(_Q,{...i,ref:t}):o.jsx(wQ,{...a,ref:t})})});b4.displayName=Oa;var[w4,xQ]=Am(Oa),[_4,bQ]=Am(Oa,{collapsible:!1}),wQ=$.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...s}=e,[c,d]=Aa({prop:r,defaultProp:n??"",onChange:a,caller:Oa});return o.jsx(w4,{scope:e.__scopeAccordion,value:$.useMemo(()=>c?[c]:[],[c]),onItemOpen:d,onItemClose:$.useCallback(()=>i&&d(""),[i,d]),children:o.jsx(_4,{scope:e.__scopeAccordion,collapsible:i,children:o.jsx(j4,{...s,ref:t})})})}),_Q=$.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[s,c]=Aa({prop:r,defaultProp:n??[],onChange:a,caller:Oa}),d=$.useCallback(p=>c((h=[])=>[...h,p]),[c]),f=$.useCallback(p=>c((h=[])=>h.filter(g=>g!==p)),[c]);return o.jsx(w4,{scope:e.__scopeAccordion,value:s,onItemOpen:d,onItemClose:f,children:o.jsx(_4,{scope:e.__scopeAccordion,collapsible:!0,children:o.jsx(j4,{...i,ref:t})})})}),[jQ,Pm]=Am(Oa),j4=$.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:i="vertical",...s}=e,c=$.useRef(null),d=lt(c,t),f=vQ(r),h=As(a)==="ltr",g=Pe(e.onKeyDown,x=>{if(!gQ.includes(x.key))return;const _=x.target,b=f().filter(T=>!T.ref.current?.disabled),v=b.findIndex(T=>T.ref.current===_),j=b.length;if(v===-1)return;x.preventDefault();let S=v;const A=0,P=j-1,E=()=>{S=v+1,S>P&&(S=A)},O=()=>{S=v-1,S<A&&(S=P)};switch(x.key){case"Home":S=A;break;case"End":S=P;break;case"ArrowRight":i==="horizontal"&&(h?E():O());break;case"ArrowDown":i==="vertical"&&E();break;case"ArrowLeft":i==="horizontal"&&(h?O():E());break;case"ArrowUp":i==="vertical"&&O();break}const C=S%j;b[C].ref.current?.focus()});return o.jsx(jQ,{scope:r,disabled:n,direction:a,orientation:i,children:o.jsx(NS.Slot,{scope:r,children:o.jsx(We.div,{...s,"data-orientation":i,ref:d,onKeyDown:n?void 0:g})})})}),Xh="AccordionItem",[SQ,AS]=Am(Xh),S4=$.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,i=Pm(Xh,r),s=xQ(Xh,r),c=CS(r),d=ra(),f=n&&s.value.includes(n)||!1,p=i.disabled||e.disabled;return o.jsx(SQ,{scope:r,open:f,disabled:p,triggerId:d,children:o.jsx(hQ,{"data-orientation":i.orientation,"data-state":O4(f),...c,...a,ref:t,disabled:p,open:f,onOpenChange:h=>{h?s.onItemOpen(n):s.onItemClose(n)}})})});S4.displayName=Xh;var E4="AccordionHeader",N4=$.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Pm(Oa,r),i=AS(E4,r);return o.jsx(We.h3,{"data-orientation":a.orientation,"data-state":O4(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});N4.displayName=E4;var o_="AccordionTrigger",C4=$.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Pm(Oa,r),i=AS(o_,r),s=bQ(o_,r),c=CS(r);return o.jsx(NS.ItemSlot,{scope:r,children:o.jsx(pQ,{"aria-disabled":i.open&&!s.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...c,...n,ref:t})})});C4.displayName=o_;var A4="AccordionContent",P4=$.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Pm(Oa,r),i=AS(A4,r),s=CS(r);return o.jsx(mQ,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...s,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});P4.displayName=A4;function O4(e){return e?"open":"closed"}var EQ=b4,NQ=S4,CQ=N4,AQ=C4,PQ=P4;function OQ({...e}){return o.jsx(EQ,{"data-slot":"accordion",...e})}function Kn({className:e,...t}){return o.jsx(NQ,{"data-slot":"accordion-item",className:Xe("border-b last:border-b-0",e),...t})}function Yn({className:e,children:t,...r}){return o.jsx(CQ,{className:"flex",children:o.jsxs(AQ,{"data-slot":"accordion-trigger",className:Xe("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,o.jsx(fm,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function Xn({className:e,children:t,...r}){return o.jsx(PQ,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...r,children:o.jsx("div",{className:Xe("pt-0 pb-4",e),children:t})})}var PS="Radio",[kQ,k4]=on(PS),[TQ,RQ]=kQ(PS),T4=w.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:s,value:c="on",onCheck:d,form:f,...p}=e,[h,g]=w.useState(null),x=lt(t,v=>g(v)),_=w.useRef(!1),b=h?f||!!h.closest("form"):!0;return o.jsxs(TQ,{scope:r,checked:a,disabled:s,children:[o.jsx(We.button,{type:"button",role:"radio","aria-checked":a,"data-state":D4(a),"data-disabled":s?"":void 0,disabled:s,value:c,...p,ref:x,onClick:Pe(e.onClick,v=>{a||d?.(),b&&(_.current=v.isPropagationStopped(),_.current||v.stopPropagation())})}),b&&o.jsx(M4,{control:h,bubbles:!_.current,name:n,value:c,checked:a,required:i,disabled:s,form:f,style:{transform:"translateX(-100%)"}})]})});T4.displayName=PS;var R4="RadioIndicator",I4=w.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,i=RQ(R4,r);return o.jsx(Jr,{present:n||i.checked,children:o.jsx(We.span,{"data-state":D4(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});I4.displayName=R4;var IQ="RadioBubbleInput",M4=w.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const s=w.useRef(null),c=lt(s,i),d=Uj(r),f=Fj(t);return w.useEffect(()=>{const p=s.current;if(!p)return;const h=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(h,"checked").set;if(d!==r&&x){const _=new Event("click",{bubbles:n});x.call(p,r),p.dispatchEvent(_)}},[d,r,n]),o.jsx(We.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:c,style:{...a.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});M4.displayName=IQ;function D4(e){return e?"checked":"unchecked"}var MQ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Om="RadioGroup",[DQ]=on(Om,[wc,k4]),$4=wc(),L4=k4(),[$Q,LQ]=DQ(Om),z4=w.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:s=!1,disabled:c=!1,orientation:d,dir:f,loop:p=!0,onValueChange:h,...g}=e,x=$4(r),_=As(f),[b,v]=Aa({prop:i,defaultProp:a??null,onChange:h,caller:Om});return o.jsx($Q,{scope:r,name:n,required:s,disabled:c,value:b,onValueChange:v,children:o.jsx(lS,{asChild:!0,...x,orientation:d,dir:_,loop:p,children:o.jsx(We.div,{role:"radiogroup","aria-required":s,"aria-orientation":d,"data-disabled":c?"":void 0,dir:_,...g,ref:t})})})});z4.displayName=Om;var F4="RadioGroupItem",B4=w.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,i=LQ(F4,r),s=i.disabled||n,c=$4(r),d=L4(r),f=w.useRef(null),p=lt(t,f),h=i.value===a.value,g=w.useRef(!1);return w.useEffect(()=>{const x=b=>{MQ.includes(b.key)&&(g.current=!0)},_=()=>g.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",_),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",_)}},[]),o.jsx(cS,{asChild:!0,...c,focusable:!s,active:h,children:o.jsx(T4,{disabled:s,required:i.required,checked:h,...d,...a,name:i.name,ref:p,onCheck:()=>i.onValueChange(a.value),onKeyDown:Pe(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:Pe(a.onFocus,()=>{g.current&&f.current?.click()})})})});B4.displayName=F4;var zQ="RadioGroupIndicator",q4=w.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=L4(r);return o.jsx(I4,{...a,...n,ref:t})});q4.displayName=zQ;var FQ=z4,BQ=B4,qQ=q4;function Je({className:e,...t}){return o.jsx(FQ,{"data-slot":"radio-group",className:Xe("grid gap-3",e),...t})}function ge({className:e,...t}){return o.jsx(BQ,{"data-slot":"radio-group-item",className:Xe("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(qQ,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:o.jsx(sW,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const UQ=[{age:"Nacimiento",vaccines:["BCG","1a Hepatitis B"]},{age:"2 meses",vaccines:["1a Pentavalente Acelular","2a Hepatitis B","1a Rotavirus","1a Neumococo"]},{age:"4 meses",vaccines:["2a Pentavalente Acelular","2a Rotavirus","2a Neumococo"]},{age:"6 meses",vaccines:["3a Pentavalente Acelular","3a Hepatitis B","3a Rotavirus","1a Anti Influenza (en temporada de frio)"]},{age:"7 meses",vaccines:["2a Anti Influenza (en temporada de frio)"]},{age:"12 meses",vaccines:["1a SRP","3a Neumococo"]},{age:"18 meses",vaccines:["4a Pentavalente Acelular"]},{age:"2 aos",vaccines:["Influenza Refuerzo Anual (oct-ene)"]},{age:"3 aos",vaccines:["Influenza Refuerzo Anual (oct-ene)"]},{age:"4 aos",vaccines:["DPT","Influenza Refuerzo Anual (oct-ene)"]},{age:"5 aos",vaccines:["Influenza Refuerzo Anual (oct-ene)","VOP/OPV (Sabin, pollo oral) en 1a y 2a Semana Nal. de Salud (despus de 2 previas de Pentavalente Acelular)"]},{age:"6 aos",vaccines:["2a SRP"]},{age:"11 aos / 5to primaria",vaccines:["VPH"]}];function VQ({pacienteId:e,pacienteNombre:t,antecedentes:r,onActualizarAntecedentes:n}){const[a,i]=w.useState(new Set(r?.esquemaVacunacion?.selectedVaccines||[])),[s,c]=w.useState(r?.esquemaVacunacion?.hasOtherVaccines??null),[d,f]=w.useState(r?.alergias||[]),[p,h]=w.useState(""),[g,x]=w.useState(r?.vacunas||[]),[_,b]=w.useState(""),[v,j]=w.useState(r?.medicamentos||[]),[S,A]=w.useState(""),[P,E]=w.useState(r?.antecedentesPatologicos||{hospitalizacion:"",cirugias:"",diabetes:"",tiroideas:"",hipertension:"",cardiopatias:"",traumatismos:"",cancer:"",tuberculosis:"",transfusiones:"",respiratorias:"",gastrointestinales:"",ets:"",renalCronica:"",otros:""}),[O,C]=w.useState(r?.antecedentesNoPatologicos||{actividadFisica:"",tabaquismo:"",alcoholismo:"",drogas:"",vacunaReciente:"",otros:""}),[T,I]=w.useState(r?.antecedentesHeredofamiliares||{diabetes:"",cardiopatias:"",hipertension:"",tiroideas:"",renalCronica:"",otros:""}),[R,D]=w.useState(r?.antecedentesGineco||{primeraMenstruacion:"",ultimaMenstruacion:"",caracteristicasMenstruacion:"",embarazos:"",cancerCervico:"",cancerUterino:"",cancerMama:"",actividadSexual:"",metodoPlanificacion:"",terapiaHormonal:"",ultimoPapanicolau:"",ultimaMastografia:"",otros:""}),[B,W]=w.useState(r?.antecedentesperinatales||{ultimoCicloMenstrual:"",duracionCiclo:"",ultimoMetodoAnticonceptivo:"",concepcionAsistida:"",fechaProbableParto:"",fppFinal:"",notasEmbarazo:""}),[Y,J]=w.useState(r?.antecedentesPostnatales||{detallesParto:"",nombreBebe:"",pesoNacer:"",saludBebe:"",alimentacionBebe:"",estadoEmocional:""}),[F,K]=w.useState(r?.antecedentesPsiquiatricos||{historiaFamiliar:"",concienciaEnfermedad:"",areasAfectadas:"",tratamientos:"",apoyoGrupoFamiliar:"",grupoFamiliar:"",aspectosVidaSocial:"",aspectosVidaLaboral:"",relacionAutoridad:"",controlImpulsos:"",manejoFrustracion:""}),[L,H]=w.useState(r?.dietaNutriologica||{desayuno:null,colacionManana:null,comida:null,colacionTarde:null,cena:null,alimentosPreparadosCasa:null,nivelApetito:"",presenciaHambreSaciedad:null,vasosAguaDia:"",preferenciasAlimentos:"",malestaresPorAlimentos:null,medicamentosComplementos:null,otrasDietas:null,pesoIdeal:""});w.useEffect(()=>{r&&(r.esquemaVacunacion&&(i(new Set(r.esquemaVacunacion.selectedVaccines||[])),c(r.esquemaVacunacion.hasOtherVaccines??null)),r.alergias&&f(r.alergias),r.vacunas&&x(r.vacunas),r.medicamentos&&j(r.medicamentos),r.antecedentesPatologicos&&E(r.antecedentesPatologicos),r.antecedentesNoPatologicos&&C(r.antecedentesNoPatologicos),r.antecedentesHeredofamiliares&&I(r.antecedentesHeredofamiliares),r.antecedentesGineco&&D(r.antecedentesGineco),r.antecedentesperinatales&&W(r.antecedentesperinatales),r.antecedentesPostnatales&&J(r.antecedentesPostnatales),r.antecedentesPsiquiatricos&&K(r.antecedentesPsiquiatricos),r.dietaNutriologica&&H(r.dietaNutriologica))},[r]);const te=G=>{const pe=new Set(a);pe.has(G)?pe.delete(G):pe.add(G),i(pe)},q=()=>{p.trim()&&(f([...d,p.trim()]),h(""))},Q=G=>{f(d.filter((pe,ke)=>ke!==G))},U=G=>{G.key==="Enter"&&q()},ne=()=>{_.trim()&&(x([...g,_.trim()]),b(""))},se=G=>{x(g.filter((pe,ke)=>ke!==G))},ve=G=>{G.key==="Enter"&&ne()},re=()=>{S.trim()&&(j([...v,S.trim()]),A(""))},oe=G=>{j(v.filter((pe,ke)=>ke!==G))},ee=G=>{G.key==="Enter"&&re()},me=()=>{const G={selectedVaccines:Array.from(a),hasOtherVaccines:s};n?.(e,"esquemaVacunacion",G)},xe=()=>{n?.(e,"alergias",d)},ue=()=>{n?.(e,"antecedentesPatologicos",P)},He=()=>{n?.(e,"antecedentesNoPatologicos",O)},Fe=()=>{n?.(e,"antecedentesHeredofamiliares",T)},ut=()=>{n?.(e,"antecedentesGineco",R)},vt=()=>{n?.(e,"antecedentesperinatales",B)},yt=()=>{n?.(e,"antecedentesPostnatales",Y)},tr=()=>{n?.(e,"antecedentesPsiquiatricos",F)},kt=()=>{n?.(e,"vacunas",g)},dr=()=>{n?.(e,"medicamentos",v)},Gt=()=>{n?.(e,"dietaNutriologica",L)};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("h2",{className:"text-gray-900",children:"ANTECEDENTES"}),o.jsxs("p",{className:"text-sm text-gray-500",children:["Paciente: ",t]})]}),o.jsxs(OQ,{type:"single",collapsible:!0,className:"space-y-2",children:[o.jsxs(Kn,{value:"esquema-vacunacion",className:"border rounded-lg px-4 bg-blue-50",children:[o.jsx(Yn,{className:"hover:no-underline",children:o.jsx("h3",{className:"text-gray-900",children:"Esquema de Vacunacin"})}),o.jsx(Xn,{children:o.jsxs("div",{className:"space-y-4 pt-2",children:[UQ.map((G,pe)=>o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"text-gray-700",children:G.age}),o.jsx("div",{className:"space-y-2 pl-4",children:G.vaccines.map((ke,Le)=>{const qe=`${G.age}-${Le}`;return o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(kh,{id:qe,checked:a.has(qe),onCheckedChange:()=>te(qe),className:"mt-0.5"}),o.jsx(z,{htmlFor:qe,className:"text-sm text-gray-700 cursor-pointer leading-tight",children:ke})]},qe)})})]},pe)),o.jsx("div",{className:"pt-4 border-t",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(z,{className:"text-gray-700",children:"Otras Vacunas"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(kh,{id:"otras-si",checked:s===!0,onCheckedChange:()=>c(!0)}),o.jsx(z,{htmlFor:"otras-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(kh,{id:"otras-no",checked:s===!1,onCheckedChange:()=>c(!1)}),o.jsx(z,{htmlFor:"otras-no",className:"text-sm cursor-pointer",children:"No"})]})]})]})}),o.jsx("div",{className:"pt-4 border-t mt-4",children:o.jsxs(fe,{onClick:me,size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[o.jsx(Gn,{className:"size-4 mr-2"}),"Guardar"]})})]})})]}),o.jsxs(Kn,{value:"alergias",className:"border rounded-lg px-4 bg-red-50",children:[o.jsx(Yn,{className:"hover:no-underline",children:o.jsx("h3",{className:"text-gray-900",children:"Alergias"})}),o.jsx(Xn,{children:o.jsxs("div",{className:"pt-2 space-y-3",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Se,{type:"text",placeholder:"Escribir alergia...",value:p,onChange:G=>h(G.target.value),onKeyPress:U,className:"flex-1"}),o.jsxs(fe,{onClick:q,disabled:!p.trim(),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[o.jsx(cr,{className:"size-4 mr-1"}),"Agregar"]})]}),d.length>0?o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{className:"text-sm text-gray-600",children:"Alergias registradas:"}),o.jsx("div",{className:"space-y-2",children:d.map((G,pe)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 border border-red-200 rounded-lg",children:[o.jsx("span",{className:"text-sm text-gray-900",children:G}),o.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>Q(pe),className:"text-red-600 hover:text-red-700 hover:bg-red-100",children:o.jsx(bo,{className:"size-4"})})]},pe))})]}):o.jsx("p",{className:"text-gray-500 text-sm py-2",children:"No hay alergias registradas"}),o.jsx("div",{className:"pt-4 border-t mt-4",children:o.jsxs(fe,{onClick:xe,size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[o.jsx(Gn,{className:"size-4 mr-2"}),"Guardar"]})})]})})]}),o.jsxs(Kn,{value:"antecedentes-patologicos",className:"border rounded-lg px-4 bg-orange-50",children:[o.jsx(Yn,{className:"hover:no-underline",children:o.jsx("h3",{className:"text-gray-900",children:"Antecedentes Patolgicos"})}),o.jsx(Xn,{children:o.jsxs("div",{className:"pt-2 space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Hospitalizacin Previa"}),o.jsxs(Je,{value:P.hospitalizacion,onValueChange:G=>E({...P,hospitalizacion:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"hosp-si"}),o.jsx(z,{htmlFor:"hosp-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"hosp-no"}),o.jsx(z,{htmlFor:"hosp-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Cirugas Previas"}),o.jsxs(Je,{value:P.cirugias,onValueChange:G=>E({...P,cirugias:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"cirug-si"}),o.jsx(z,{htmlFor:"cirug-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"cirug-no"}),o.jsx(z,{htmlFor:"cirug-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Diabetes"}),o.jsxs(Je,{value:P.diabetes,onValueChange:G=>E({...P,diabetes:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"diab-si"}),o.jsx(z,{htmlFor:"diab-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"diab-no"}),o.jsx(z,{htmlFor:"diab-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Enfermedades Tiroideas"}),o.jsxs(Je,{value:P.tiroideas,onValueChange:G=>E({...P,tiroideas:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"tiro-si"}),o.jsx(z,{htmlFor:"tiro-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"tiro-no"}),o.jsx(z,{htmlFor:"tiro-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Hipertensin Arterial"}),o.jsxs(Je,{value:P.hipertension,onValueChange:G=>E({...P,hipertension:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"hiper-si"}),o.jsx(z,{htmlFor:"hiper-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"hiper-no"}),o.jsx(z,{htmlFor:"hiper-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Cardiopatias"}),o.jsxs(Je,{value:P.cardiopatias,onValueChange:G=>E({...P,cardiopatias:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"cardio-si"}),o.jsx(z,{htmlFor:"cardio-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"cardio-no"}),o.jsx(z,{htmlFor:"cardio-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Traumatismos"}),o.jsxs(Je,{value:P.traumatismos,onValueChange:G=>E({...P,traumatismos:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"trauma-si"}),o.jsx(z,{htmlFor:"trauma-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"trauma-no"}),o.jsx(z,{htmlFor:"trauma-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Cncer"}),o.jsxs(Je,{value:P.cancer,onValueChange:G=>E({...P,cancer:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"cancer-si"}),o.jsx(z,{htmlFor:"cancer-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"cancer-no"}),o.jsx(z,{htmlFor:"cancer-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Tuberculosis"}),o.jsxs(Je,{value:P.tuberculosis,onValueChange:G=>E({...P,tuberculosis:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"tuber-si"}),o.jsx(z,{htmlFor:"tuber-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"tuber-no"}),o.jsx(z,{htmlFor:"tuber-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Transfusiones"}),o.jsxs(Je,{value:P.transfusiones,onValueChange:G=>E({...P,transfusiones:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"transf-si"}),o.jsx(z,{htmlFor:"transf-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"transf-no"}),o.jsx(z,{htmlFor:"transf-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Patologas Respiratorias"}),o.jsxs(Je,{value:P.respiratorias,onValueChange:G=>E({...P,respiratorias:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"resp-si"}),o.jsx(z,{htmlFor:"resp-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"resp-no"}),o.jsx(z,{htmlFor:"resp-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Patologas Gastrointestinales"}),o.jsxs(Je,{value:P.gastrointestinales,onValueChange:G=>E({...P,gastrointestinales:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"gastro-si"}),o.jsx(z,{htmlFor:"gastro-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"gastro-no"}),o.jsx(z,{htmlFor:"gastro-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Enfermedades de Transmisin Sexual"}),o.jsxs(Je,{value:P.ets,onValueChange:G=>E({...P,ets:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"ets-si"}),o.jsx(z,{htmlFor:"ets-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"ets-no"}),o.jsx(z,{htmlFor:"ets-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Enfermedad Renal Crnica"}),o.jsxs(Je,{value:P.renalCronica,onValueChange:G=>E({...P,renalCronica:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"renal-si"}),o.jsx(z,{htmlFor:"renal-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"renal-no"}),o.jsx(z,{htmlFor:"renal-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Otros"}),o.jsxs(Je,{value:P.otros,onValueChange:G=>E({...P,otros:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"otros-si"}),o.jsx(z,{htmlFor:"otros-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"otros-no"}),o.jsx(z,{htmlFor:"otros-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsx("div",{className:"pt-4 border-t mt-4",children:o.jsxs(fe,{onClick:ue,size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[o.jsx(Gn,{className:"size-4 mr-2"}),"Guardar"]})})]})})]}),o.jsxs(Kn,{value:"antecedentes-no-patologicos",className:"border rounded-lg px-4 bg-green-50",children:[o.jsx(Yn,{className:"hover:no-underline",children:o.jsx("h3",{className:"text-gray-900",children:"Antecedentes No Patolgicos"})}),o.jsx(Xn,{children:o.jsxs("div",{className:"pt-2 space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Actividad Fsica"}),o.jsxs(Je,{value:O.actividadFisica,onValueChange:G=>C({...O,actividadFisica:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"act-fisica-si"}),o.jsx(z,{htmlFor:"act-fisica-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"act-fisica-no"}),o.jsx(z,{htmlFor:"act-fisica-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Tabaquismo"}),o.jsxs(Je,{value:O.tabaquismo,onValueChange:G=>C({...O,tabaquismo:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"tabaco-si"}),o.jsx(z,{htmlFor:"tabaco-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"tabaco-no"}),o.jsx(z,{htmlFor:"tabaco-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Alcoholismo"}),o.jsxs(Je,{value:O.alcoholismo,onValueChange:G=>C({...O,alcoholismo:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"alcohol-si"}),o.jsx(z,{htmlFor:"alcohol-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"alcohol-no"}),o.jsx(z,{htmlFor:"alcohol-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Uso de otras sustancias (Drogas)"}),o.jsxs(Je,{value:O.drogas,onValueChange:G=>C({...O,drogas:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"drogas-si"}),o.jsx(z,{htmlFor:"drogas-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"drogas-no"}),o.jsx(z,{htmlFor:"drogas-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Vacuna o Inmunizacin reciente"}),o.jsxs(Je,{value:O.vacunaReciente,onValueChange:G=>C({...O,vacunaReciente:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"vacuna-rec-si"}),o.jsx(z,{htmlFor:"vacuna-rec-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"vacuna-rec-no"}),o.jsx(z,{htmlFor:"vacuna-rec-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Otros"}),o.jsxs(Je,{value:O.otros,onValueChange:G=>C({...O,otros:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"otros-nopat-si"}),o.jsx(z,{htmlFor:"otros-nopat-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"otros-nopat-no"}),o.jsx(z,{htmlFor:"otros-nopat-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsx("div",{className:"pt-4 border-t mt-4",children:o.jsxs(fe,{onClick:He,size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[o.jsx(Gn,{className:"size-4 mr-2"}),"Guardar"]})})]})})]}),o.jsxs(Kn,{value:"antecedentes-heredofamiliares",className:"border rounded-lg px-4 bg-purple-50",children:[o.jsx(Yn,{className:"hover:no-underline",children:o.jsx("h3",{className:"text-gray-900",children:"Antecedentes Heredofamiliares"})}),o.jsx(Xn,{children:o.jsxs("div",{className:"pt-2 space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Diabetes"}),o.jsxs(Je,{value:T.diabetes,onValueChange:G=>I({...T,diabetes:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"diab-her-si"}),o.jsx(z,{htmlFor:"diab-her-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"diab-her-no"}),o.jsx(z,{htmlFor:"diab-her-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Cardiopatias"}),o.jsxs(Je,{value:T.cardiopatias,onValueChange:G=>I({...T,cardiopatias:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"cardio-her-si"}),o.jsx(z,{htmlFor:"cardio-her-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"cardio-her-no"}),o.jsx(z,{htmlFor:"cardio-her-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Hipertensin Arterial"}),o.jsxs(Je,{value:T.hipertension,onValueChange:G=>I({...T,hipertension:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"hiper-her-si"}),o.jsx(z,{htmlFor:"hiper-her-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"hiper-her-no"}),o.jsx(z,{htmlFor:"hiper-her-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Enfermedades Tiroideas"}),o.jsxs(Je,{value:T.tiroideas,onValueChange:G=>I({...T,tiroideas:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"tiro-her-si"}),o.jsx(z,{htmlFor:"tiro-her-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"tiro-her-no"}),o.jsx(z,{htmlFor:"tiro-her-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Enfermedad Renal Crnica"}),o.jsxs(Je,{value:T.renalCronica,onValueChange:G=>I({...T,renalCronica:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"renal-her-si"}),o.jsx(z,{htmlFor:"renal-her-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"renal-her-no"}),o.jsx(z,{htmlFor:"renal-her-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Otros"}),o.jsxs(Je,{value:T.otros,onValueChange:G=>I({...T,otros:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"otros-her-si"}),o.jsx(z,{htmlFor:"otros-her-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"otros-her-no"}),o.jsx(z,{htmlFor:"otros-her-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsx("div",{className:"pt-4 border-t mt-4",children:o.jsxs(fe,{onClick:Fe,size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[o.jsx(Gn,{className:"size-4 mr-2"}),"Guardar"]})})]})})]}),o.jsxs(Kn,{value:"antecedentes-gineco",className:"border rounded-lg px-4 bg-pink-50",children:[o.jsx(Yn,{className:"hover:no-underline",children:o.jsx("h3",{className:"text-gray-900",children:"Antecedentes Gineco-Obsttricos"})}),o.jsx(Xn,{children:o.jsxs("div",{className:"pt-4 space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Primera Menstruacin"}),o.jsx(Se,{type:"date",value:R.primeraMenstruacion,onChange:G=>D({...R,primeraMenstruacion:G.target.value}),className:"w-full"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"ltima Menstruacin"}),o.jsx(Se,{type:"date",value:R.ultimaMenstruacion,onChange:G=>D({...R,ultimaMenstruacion:G.target.value}),className:"w-full"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Caractersticas de la Menstruacin"}),o.jsx(qt,{placeholder:"Escribir las caractersticas de la menstruacin...",value:R.caracteristicasMenstruacion,onChange:G=>D({...R,caracteristicasMenstruacion:G.target.value}),className:"w-full min-h-[120px] resize-none"})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-t pt-4",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Embarazos"}),o.jsxs(Je,{value:R.embarazos,onValueChange:G=>D({...R,embarazos:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"embarazos-si"}),o.jsx(z,{htmlFor:"embarazos-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"embarazos-no"}),o.jsx(z,{htmlFor:"embarazos-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Cncer Crvico"}),o.jsxs(Je,{value:R.cancerCervico,onValueChange:G=>D({...R,cancerCervico:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"cervico-si"}),o.jsx(z,{htmlFor:"cervico-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"cervico-no"}),o.jsx(z,{htmlFor:"cervico-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Cncer Uterino"}),o.jsxs(Je,{value:R.cancerUterino,onValueChange:G=>D({...R,cancerUterino:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"uterino-si"}),o.jsx(z,{htmlFor:"uterino-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"uterino-no"}),o.jsx(z,{htmlFor:"uterino-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Cncer de Mama"}),o.jsxs(Je,{value:R.cancerMama,onValueChange:G=>D({...R,cancerMama:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"mama-si"}),o.jsx(z,{htmlFor:"mama-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"mama-no"}),o.jsx(z,{htmlFor:"mama-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Actividad sexual del paciente"}),o.jsxs(Je,{value:R.actividadSexual,onValueChange:G=>D({...R,actividadSexual:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"activ-sexual-si"}),o.jsx(z,{htmlFor:"activ-sexual-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"activ-sexual-no"}),o.jsx(z,{htmlFor:"activ-sexual-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"space-y-2 pt-4",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Mtodo de Planificacin Familiar"}),o.jsx(Se,{type:"text",placeholder:"Escribir mtodo de planificacin...",value:R.metodoPlanificacion,onChange:G=>D({...R,metodoPlanificacion:G.target.value}),className:"w-full"})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b pt-4",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Terapia de reemplazo hormonal"}),o.jsxs(Je,{value:R.terapiaHormonal,onValueChange:G=>D({...R,terapiaHormonal:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"terapia-si"}),o.jsx(z,{htmlFor:"terapia-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"terapia-no"}),o.jsx(z,{htmlFor:"terapia-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"space-y-2 pt-4",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"ltimo Papanicolau"}),o.jsx(Se,{type:"date",value:R.ultimoPapanicolau,onChange:G=>D({...R,ultimoPapanicolau:G.target.value}),className:"w-full"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"ltima Mastografa"}),o.jsx(Se,{type:"date",value:R.ultimaMastografia,onChange:G=>D({...R,ultimaMastografia:G.target.value}),className:"w-full"})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-t pt-4",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Otros"}),o.jsxs(Je,{value:R.otros,onValueChange:G=>D({...R,otros:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"otros-gineco-si"}),o.jsx(z,{htmlFor:"otros-gineco-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"otros-gineco-no"}),o.jsx(z,{htmlFor:"otros-gineco-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsx("div",{className:"pt-4 border-t mt-4",children:o.jsxs(fe,{onClick:ut,size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[o.jsx(Gn,{className:"size-4 mr-2"}),"Guardar"]})})]})})]}),o.jsxs(Kn,{value:"antecedentes-perinatales",className:"border rounded-lg px-4 bg-indigo-50",children:[o.jsx(Yn,{className:"hover:no-underline",children:o.jsx("h3",{className:"text-gray-900",children:"Antecedentes Perinatales"})}),o.jsx(Xn,{children:o.jsxs("div",{className:"pt-2 space-y-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"ltimo Ciclo Menstrual"}),o.jsx(Se,{type:"date",value:B.ultimoCicloMenstrual,onChange:G=>W({...B,ultimoCicloMenstrual:G.target.value}),className:"w-full"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Duracin del Ciclo"}),o.jsx(Se,{type:"text",placeholder:"Escribir duracin del ciclo...",value:B.duracionCiclo,onChange:G=>W({...B,duracionCiclo:G.target.value}),className:"w-full"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"ltimo Mtodo Anticonceptivo"}),o.jsx(Se,{type:"text",placeholder:"Escribir ltimo mtodo anticonceptivo...",value:B.ultimoMetodoAnticonceptivo,onChange:G=>W({...B,ultimoMetodoAnticonceptivo:G.target.value}),className:"w-full"})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-t pt-4",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Concepcin Asistida"}),o.jsxs(Je,{value:B.concepcionAsistida,onValueChange:G=>W({...B,concepcionAsistida:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"concepcion-si"}),o.jsx(z,{htmlFor:"concepcion-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"concepcion-no"}),o.jsx(z,{htmlFor:"concepcion-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"space-y-2 pt-4",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Fecha Probable de Parto"}),o.jsx(Se,{type:"date",value:B.fechaProbableParto,onChange:G=>W({...B,fechaProbableParto:G.target.value}),className:"w-full"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"FPP Final"}),o.jsx(Se,{type:"date",value:B.fppFinal,onChange:G=>W({...B,fppFinal:G.target.value}),className:"w-full"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Notas del Embarazo"}),o.jsx(qt,{placeholder:"Escribir notas del embarazo...",value:B.notasEmbarazo,onChange:G=>W({...B,notasEmbarazo:G.target.value}),className:"w-full min-h-[120px] resize-none"})]}),o.jsx("div",{className:"pt-4 border-t mt-4",children:o.jsxs(fe,{onClick:vt,size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[o.jsx(Gn,{className:"size-4 mr-2"}),"Guardar"]})})]})})]}),o.jsxs(Kn,{value:"antecedentes-postnatales",className:"border rounded-lg px-4 bg-yellow-50",children:[o.jsx(Yn,{className:"hover:no-underline",children:o.jsx("h3",{className:"text-gray-900",children:"Antecedentes Postnatales"})}),o.jsx(Xn,{children:o.jsxs("div",{className:"pt-4 space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Detalles del parto"}),o.jsx(qt,{placeholder:"Escribir detalles del parto...",value:Y.detallesParto,onChange:G=>J({...Y,detallesParto:G.target.value}),className:"w-full min-h-[120px] resize-none"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Nombre del beb"}),o.jsx(Se,{type:"text",placeholder:"Escribir nombre del beb...",value:Y.nombreBebe,onChange:G=>J({...Y,nombreBebe:G.target.value}),className:"w-full"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Peso al nacer"}),o.jsx(Se,{type:"text",placeholder:"Ej: 3.5 kg",value:Y.pesoNacer,onChange:G=>J({...Y,pesoNacer:G.target.value}),className:"w-full"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Salud del beb"}),o.jsx(qt,{placeholder:"Escribir informacin sobre la salud del beb...",value:Y.saludBebe,onChange:G=>J({...Y,saludBebe:G.target.value}),className:"w-full min-h-[100px] resize-none"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Alimentacin del beb"}),o.jsxs(Je,{value:Y.alimentacionBebe,onValueChange:G=>J({...Y,alimentacionBebe:G}),className:"flex flex-col gap-3 pt-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"solo-pecho",id:"alim-pecho"}),o.jsx(z,{htmlFor:"alim-pecho",className:"text-sm cursor-pointer",children:"Slo pecho"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"solo-formula",id:"alim-formula"}),o.jsx(z,{htmlFor:"alim-formula",className:"text-sm cursor-pointer",children:"Slo formula"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"pecho-formula",id:"alim-mixta"}),o.jsx(z,{htmlFor:"alim-mixta",className:"text-sm cursor-pointer",children:"Pecho y Formula"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Estado emocional"}),o.jsx(qt,{placeholder:"Escribir informacin sobre el estado emocional...",value:Y.estadoEmocional,onChange:G=>J({...Y,estadoEmocional:G.target.value}),className:"w-full min-h-[100px] resize-none"})]}),o.jsx("div",{className:"pt-4 border-t mt-4",children:o.jsxs(fe,{onClick:yt,size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[o.jsx(Gn,{className:"size-4 mr-2"}),"Guardar"]})})]})})]}),o.jsxs(Kn,{value:"antecedentes-psiquiatricos",className:"border rounded-lg px-4 bg-teal-50",children:[o.jsx(Yn,{className:"hover:no-underline",children:o.jsx("h3",{className:"text-gray-900",children:"Antecedentes Psiquitricos"})}),o.jsx(Xn,{children:o.jsxs("div",{className:"pt-4 space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Historia Familiar"}),o.jsx(qt,{placeholder:"Escribir historia familiar psiquitrica...",value:F.historiaFamiliar,onChange:G=>K({...F,historiaFamiliar:G.target.value}),className:"w-full min-h-[120px] resize-none"})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-t pt-4",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Conciencia de enfermedad"}),o.jsxs(Je,{value:F.concienciaEnfermedad,onValueChange:G=>K({...F,concienciaEnfermedad:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"conciencia-si"}),o.jsx(z,{htmlFor:"conciencia-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"conciencia-no"}),o.jsx(z,{htmlFor:"conciencia-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"space-y-2 pt-4",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"reas afectadas por la enfermedad"}),o.jsx(qt,{placeholder:"Escribir reas afectadas...",value:F.areasAfectadas,onChange:G=>K({...F,areasAfectadas:G.target.value}),className:"w-full min-h-[100px] resize-none"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Tratamientos pasados y actuales"}),o.jsx(qt,{placeholder:"Escribir tratamientos...",value:F.tratamientos,onChange:G=>K({...F,tratamientos:G.target.value}),className:"w-full min-h-[120px] resize-none"})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-t pt-4",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Apoyo del grupo familiar o social"}),o.jsxs(Je,{value:F.apoyoGrupoFamiliar,onValueChange:G=>K({...F,apoyoGrupoFamiliar:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"apoyo-si"}),o.jsx(z,{htmlFor:"apoyo-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"apoyo-no"}),o.jsx(z,{htmlFor:"apoyo-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"space-y-2 pt-4",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Grupo familiar del paciente"}),o.jsx(qt,{placeholder:"Describir grupo familiar...",value:F.grupoFamiliar,onChange:G=>K({...F,grupoFamiliar:G.target.value}),className:"w-full min-h-[100px] resize-none"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Aspectos de la vida social"}),o.jsx(qt,{placeholder:"Escribir aspectos de la vida social...",value:F.aspectosVidaSocial,onChange:G=>K({...F,aspectosVidaSocial:G.target.value}),className:"w-full min-h-[100px] resize-none"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Aspectos de la vida laboral"}),o.jsx(qt,{placeholder:"Escribir aspectos de la vida laboral...",value:F.aspectosVidaLaboral,onChange:G=>K({...F,aspectosVidaLaboral:G.target.value}),className:"w-full min-h-[100px] resize-none"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Relacin con la autoridad"}),o.jsx(qt,{placeholder:"Escribir sobre la relacin con la autoridad...",value:F.relacionAutoridad,onChange:G=>K({...F,relacionAutoridad:G.target.value}),className:"w-full min-h-[100px] resize-none"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Control de Impulsos"}),o.jsx(qt,{placeholder:"Escribir sobre el control de impulsos...",value:F.controlImpulsos,onChange:G=>K({...F,controlImpulsos:G.target.value}),className:"w-full min-h-[100px] resize-none"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Manejo de frustracin en su vida"}),o.jsx(qt,{placeholder:"Escribir sobre el manejo de frustracin...",value:F.manejoFrustracion,onChange:G=>K({...F,manejoFrustracion:G.target.value}),className:"w-full min-h-[100px] resize-none"})]}),o.jsx("div",{className:"pt-4 border-t mt-4",children:o.jsxs(fe,{onClick:tr,size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[o.jsx(Gn,{className:"size-4 mr-2"}),"Guardar"]})})]})})]}),o.jsxs(Kn,{value:"vacunas",className:"border rounded-lg px-4 bg-cyan-50",children:[o.jsx(Yn,{className:"hover:no-underline",children:o.jsx("h3",{className:"text-gray-900",children:"Vacunas"})}),o.jsx(Xn,{children:o.jsxs("div",{className:"pt-2 space-y-3",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Se,{type:"text",placeholder:"Escribir vacuna...",value:_,onChange:G=>b(G.target.value),onKeyPress:ve,className:"flex-1"}),o.jsxs(fe,{onClick:ne,disabled:!_.trim(),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[o.jsx(cr,{className:"size-4 mr-1"}),"Agregar"]})]}),g.length>0?o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{className:"text-sm text-gray-600",children:"Vacunas registradas:"}),o.jsx("div",{className:"space-y-2",children:g.map((G,pe)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:[o.jsx("span",{className:"text-sm text-gray-900",children:G}),o.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>se(pe),className:"text-red-600 hover:text-red-700 hover:bg-red-100",children:o.jsx(bo,{className:"size-4"})})]},pe))})]}):o.jsx("p",{className:"text-gray-500 text-sm py-2",children:"No hay vacunas registradas"}),o.jsx("div",{className:"pt-4 border-t mt-4",children:o.jsxs(fe,{onClick:kt,size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[o.jsx(Gn,{className:"size-4 mr-2"}),"Guardar"]})})]})})]}),o.jsxs(Kn,{value:"medicamentos-activos",className:"border rounded-lg px-4 bg-violet-50",children:[o.jsx(Yn,{className:"hover:no-underline",children:o.jsx("h3",{className:"text-gray-900",children:"Medicamentos Activos"})}),o.jsx(Xn,{children:o.jsxs("div",{className:"pt-2 space-y-3",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Se,{type:"text",placeholder:"Escribir medicamento y dosis...",value:S,onChange:G=>A(G.target.value),onKeyPress:ee,className:"flex-1"}),o.jsxs(fe,{onClick:re,disabled:!S.trim(),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[o.jsx(cr,{className:"size-4 mr-1"}),"Agregar"]})]}),v.length>0?o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{className:"text-sm text-gray-600",children:"Medicamentos registrados:"}),o.jsx("div",{className:"space-y-2",children:v.map((G,pe)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("span",{className:"text-sm text-gray-900",children:G}),o.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>oe(pe),className:"text-red-600 hover:text-red-700 hover:bg-red-100",children:o.jsx(bo,{className:"size-4"})})]},pe))})]}):o.jsx("p",{className:"text-gray-500 text-sm py-2",children:"No hay medicamentos registrados"}),o.jsx("div",{className:"pt-4 border-t mt-4",children:o.jsxs(fe,{onClick:dr,size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[o.jsx(Gn,{className:"size-4 mr-2"}),"Guardar"]})})]})})]}),o.jsxs(Kn,{value:"dieta-nutriologica",className:"border rounded-lg px-4 bg-orange-50",children:[o.jsx(Yn,{className:"hover:no-underline",children:o.jsx("h3",{className:"text-gray-900",children:"Dieta Nutriolgica"})}),o.jsx(Xn,{children:o.jsxs("div",{className:"pt-2 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Desayuno"}),o.jsxs(Je,{value:L.desayuno===null?"":L.desayuno?"si":"no",onValueChange:G=>H({...L,desayuno:G==="si"?!0:G==="no"?!1:null}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"desayuno-si"}),o.jsx(z,{htmlFor:"desayuno-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"desayuno-no"}),o.jsx(z,{htmlFor:"desayuno-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Colacin en la maana"}),o.jsxs(Je,{value:L.colacionManana===null?"":L.colacionManana?"si":"no",onValueChange:G=>H({...L,colacionManana:G==="si"?!0:G==="no"?!1:null}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"colacion-manana-si"}),o.jsx(z,{htmlFor:"colacion-manana-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"colacion-manana-no"}),o.jsx(z,{htmlFor:"colacion-manana-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Comida"}),o.jsxs(Je,{value:L.comida===null?"":L.comida?"si":"no",onValueChange:G=>H({...L,comida:G==="si"?!0:G==="no"?!1:null}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"comida-si"}),o.jsx(z,{htmlFor:"comida-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"comida-no"}),o.jsx(z,{htmlFor:"comida-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Colacin en la tarde"}),o.jsxs(Je,{value:L.colacionTarde===null?"":L.colacionTarde?"si":"no",onValueChange:G=>H({...L,colacionTarde:G==="si"?!0:G==="no"?!1:null}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"colacion-tarde-si"}),o.jsx(z,{htmlFor:"colacion-tarde-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"colacion-tarde-no"}),o.jsx(z,{htmlFor:"colacion-tarde-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Cena"}),o.jsxs(Je,{value:L.cena===null?"":L.cena?"si":"no",onValueChange:G=>H({...L,cena:G==="si"?!0:G==="no"?!1:null}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"cena-si"}),o.jsx(z,{htmlFor:"cena-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"cena-no"}),o.jsx(z,{htmlFor:"cena-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Alimentos preparados en casa?"}),o.jsxs(Je,{value:L.alimentosPreparadosCasa===null?"":L.alimentosPreparadosCasa?"si":"no",onValueChange:G=>H({...L,alimentosPreparadosCasa:G==="si"?!0:G==="no"?!1:null}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"alimentos-casa-si"}),o.jsx(z,{htmlFor:"alimentos-casa-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"alimentos-casa-no"}),o.jsx(z,{htmlFor:"alimentos-casa-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"space-y-2 py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Nivel de apetito"}),o.jsxs(Je,{value:L.nivelApetito,onValueChange:G=>H({...L,nivelApetito:G}),className:"grid grid-cols-3 gap-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"excesivo",id:"apetito-excesivo"}),o.jsx(z,{htmlFor:"apetito-excesivo",className:"text-sm cursor-pointer",children:"Excesivo"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"bueno",id:"apetito-bueno"}),o.jsx(z,{htmlFor:"apetito-bueno",className:"text-sm cursor-pointer",children:"Bueno"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"regular",id:"apetito-regular"}),o.jsx(z,{htmlFor:"apetito-regular",className:"text-sm cursor-pointer",children:"Regular"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"poco",id:"apetito-poco"}),o.jsx(z,{htmlFor:"apetito-poco",className:"text-sm cursor-pointer",children:"Poco"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"nulo",id:"apetito-nulo"}),o.jsx(z,{htmlFor:"apetito-nulo",className:"text-sm cursor-pointer",children:"Nulo"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Presencia de hambre-saciedad"}),o.jsxs(Je,{value:L.presenciaHambreSaciedad===null?"":L.presenciaHambreSaciedad?"si":"no",onValueChange:G=>H({...L,presenciaHambreSaciedad:G==="si"?!0:G==="no"?!1:null}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"hambre-si"}),o.jsx(z,{htmlFor:"hambre-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"hambre-no"}),o.jsx(z,{htmlFor:"hambre-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"space-y-2 py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Vasos de agua al da"}),o.jsxs(Je,{value:L.vasosAguaDia,onValueChange:G=>H({...L,vasosAguaDia:G}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"1-menos",id:"agua-1menos"}),o.jsx(z,{htmlFor:"agua-1menos",className:"text-sm cursor-pointer",children:"1  menos"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"2-3",id:"agua-2-3"}),o.jsx(z,{htmlFor:"agua-2-3",className:"text-sm cursor-pointer",children:"2 a 3"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"4-mas",id:"agua-4mas"}),o.jsx(z,{htmlFor:"agua-4mas",className:"text-sm cursor-pointer",children:"4  ms"})]})]})]}),o.jsxs("div",{className:"space-y-2 py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Preferencias de alimentos"}),o.jsx(qt,{placeholder:"Escribir preferencias alimentarias...",value:L.preferenciasAlimentos,onChange:G=>H({...L,preferenciasAlimentos:G.target.value}),className:"min-h-[80px] resize-none"})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Malestares por alimentos"}),o.jsxs(Je,{value:L.malestaresPorAlimentos===null?"":L.malestaresPorAlimentos?"si":"no",onValueChange:G=>H({...L,malestaresPorAlimentos:G==="si"?!0:G==="no"?!1:null}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"malestares-si"}),o.jsx(z,{htmlFor:"malestares-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"malestares-no"}),o.jsx(z,{htmlFor:"malestares-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Medicamentos, complementos o suplementos"}),o.jsxs(Je,{value:L.medicamentosComplementos===null?"":L.medicamentosComplementos?"si":"no",onValueChange:G=>H({...L,medicamentosComplementos:G==="si"?!0:G==="no"?!1:null}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"medicamentos-comp-si"}),o.jsx(z,{htmlFor:"medicamentos-comp-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"medicamentos-comp-no"}),o.jsx(z,{htmlFor:"medicamentos-comp-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Otras dietas realizadas"}),o.jsxs(Je,{value:L.otrasDietas===null?"":L.otrasDietas?"si":"no",onValueChange:G=>H({...L,otrasDietas:G==="si"?!0:G==="no"?!1:null}),className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"si",id:"otras-dietas-si"}),o.jsx(z,{htmlFor:"otras-dietas-si",className:"text-sm cursor-pointer",children:"S"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ge,{value:"no",id:"otras-dietas-no"}),o.jsx(z,{htmlFor:"otras-dietas-no",className:"text-sm cursor-pointer",children:"No"})]})]})]}),o.jsxs("div",{className:"space-y-2 py-2",children:[o.jsx(z,{className:"text-sm text-gray-700",children:"Peso ideal"}),o.jsx(Se,{type:"text",placeholder:"Escribir peso ideal...",value:L.pesoIdeal,onChange:G=>H({...L,pesoIdeal:G.target.value}),className:"w-full"})]}),o.jsx("div",{className:"pt-4 border-t mt-4",children:o.jsxs(fe,{onClick:Gt,size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[o.jsx(Gn,{className:"size-4 mr-2"}),"Guardar"]})})]})})]})]})]})}function WQ({pacienteId:e}){const[t,r]=w.useState([]),[n,a]=w.useState(!0),[i,s]=w.useState(!1),[c,d]=w.useState(""),[f,p]=w.useState(null),[h,g]=w.useState({nombre:"",tipo:"laboratorio",descripcion:"",url_archivo:"",tamano_bytes:0});w.useEffect(()=>{x()},[e]);const x=async()=>{a(!0);const P=await o4(e);r(P),a(!1)},_=P=>{const E=P.target.files?.[0];if(E){if(E.size>10*1024*1024){de.error("El archivo es demasiado grande. Mximo 10MB.");return}const O=new FileReader;O.onload=()=>{const C=O.result;g({...h,nombre:E.name,url_archivo:C,tamano_bytes:E.size})},O.readAsDataURL(E)}},b=async()=>{if(!h.nombre||!h.url_archivo){de.error("Por favor seleccione un archivo");return}await s4({id_paciente:e,nombre_archivo:h.nombre,tipo_archivo:h.tipo,descripcion:h.descripcion||null,url_archivo:h.url_archivo,tamano_bytes:h.tamano_bytes,fecha_carga:new Date().toISOString().split("T")[0]})?(de.success("Archivo cargado exitosamente"),s(!1),g({nombre:"",tipo:"laboratorio",descripcion:"",url_archivo:"",tamano_bytes:0}),await x()):de.error("Error al cargar el archivo")},v=async P=>{confirm("Est seguro de eliminar este archivo?")&&(await l4(P)?(de.success("Archivo eliminado"),await x()):de.error("Error al eliminar el archivo"))},j=P=>{if(P===0)return"0 Bytes";const E=1024,O=["Bytes","KB","MB"],C=Math.floor(Math.log(P)/Math.log(E));return Math.round(P/Math.pow(E,C)*100)/100+" "+O[C]},S=P=>P.includes("image")||P==="imagen"?o.jsx(SW,{className:"size-4"}):o.jsx(No,{className:"size-4"}),A=t.filter(P=>{const E=c.toLowerCase();return P.nombre_archivo.toLowerCase().includes(E)||P.descripcion?.toLowerCase().includes(E)||P.tipo_archivo.toLowerCase().includes(E)});return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"border-t pt-4 mt-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs(z,{className:"font-medium flex items-center gap-2",children:[o.jsx($W,{className:"size-4"}),"Archivos Mdicos (",t.length,")"]}),o.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>s(!0),children:[o.jsx(eA,{className:"size-4 mr-2"}),"Cargar Archivo"]})]}),t.length>0&&o.jsxs("div",{className:"relative mb-3",children:[o.jsx(ps,{className:"size-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx(Se,{type:"text",placeholder:"Buscar por nombre, tipo o descripcin...",value:c,onChange:P=>d(P.target.value),className:"pl-10 text-sm"})]}),n?o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx(lr,{className:"size-6 animate-spin text-blue-600"})}):A.length===0?o.jsx("p",{className:"text-center py-4 text-gray-500 text-sm",children:c?"No se encontraron archivos":"No hay archivos adjuntos"}):o.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:A.map(P=>o.jsx(tt,{className:"p-3",children:o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex items-start gap-2 flex-1 min-w-0",children:[S(P.tipo_archivo),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium truncate",children:P.nombre_archivo}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(Dt,{variant:"secondary",className:"text-xs",children:P.tipo_archivo}),o.jsx("span",{className:"text-xs text-gray-500",children:j(P.tamano_bytes||0)}),o.jsx("span",{className:"text-xs text-gray-500",children:new Date(P.fecha_carga).toLocaleDateString("es-ES")})]}),P.descripcion&&o.jsx("p",{className:"text-xs text-gray-600 mt-1",children:P.descripcion})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(fe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>p(P),title:"Ver archivo",children:o.jsx(xW,{className:"size-4"})}),o.jsx(fe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{const E=document.createElement("a");E.href=P.url_archivo,E.download=P.nombre_archivo,E.click()},title:"Descargar",children:o.jsx(Cu,{className:"size-4"})}),o.jsx(fe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>v(P.id_archivo),title:"Eliminar",children:o.jsx(bo,{className:"size-4"})})]})]})},P.id_archivo))})]}),o.jsx(Or,{open:i,onOpenChange:s,children:o.jsxs(kr,{className:"sm:max-w-[500px]",children:[o.jsxs(Tr,{children:[o.jsx(Ir,{children:"Cargar Archivo Mdico"}),o.jsx(Mr,{children:"Seleccione un archivo (PDF, imagen, etc.) para el paciente"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{htmlFor:"archivo",children:"Archivo *"}),o.jsx(Se,{id:"archivo",type:"file",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:_}),h.nombre&&o.jsxs("p",{className:"text-sm text-gray-600",children:[h.nombre," (",j(h.tamano_bytes),")"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{htmlFor:"tipo",children:"Tipo de Archivo *"}),o.jsxs("select",{id:"tipo",className:"w-full px-3 py-2 border rounded-md",value:h.tipo,onChange:P=>g({...h,tipo:P.target.value}),children:[o.jsx("option",{value:"laboratorio",children:"Laboratorio"}),o.jsx("option",{value:"imagen",children:"Imagen / Radiografa"}),o.jsx("option",{value:"receta",children:"Receta Mdica"}),o.jsx("option",{value:"informe",children:"Informe Mdico"}),o.jsx("option",{value:"otro",children:"Otro"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{htmlFor:"descripcion",children:"Descripcin"}),o.jsx(Se,{id:"descripcion",placeholder:"Descripcin del archivo...",value:h.descripcion,onChange:P=>g({...h,descripcion:P.target.value})})]})]}),o.jsxs(Rr,{children:[o.jsx(fe,{variant:"outline",onClick:()=>s(!1),children:"Cancelar"}),o.jsxs(fe,{onClick:b,disabled:!h.url_archivo,children:[o.jsx(eA,{className:"size-4 mr-2"}),"Cargar Archivo"]})]})]})}),o.jsx(Or,{open:!!f,onOpenChange:()=>p(null),children:o.jsxs(kr,{className:"sm:max-w-[900px] max-h-[90vh]",children:[o.jsxs(Tr,{children:[o.jsx(Ir,{children:f?.nombre_archivo}),o.jsx(Mr,{children:f?.descripcion||"Vista previa del archivo"})]}),o.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:f?.url_archivo&&o.jsx(o.Fragment,{children:f.url_archivo.includes("application/pdf")?o.jsx("iframe",{src:f.url_archivo,className:"w-full h-[600px] border rounded",title:"Vista previa PDF"}):f.url_archivo.includes("image")?o.jsx("img",{src:f.url_archivo,alt:f.nombre_archivo,className:"w-full h-auto rounded"}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(No,{className:"size-12 mx-auto text-gray-400 mb-2"}),o.jsx("p",{className:"text-gray-600",children:"Vista previa no disponible"}),o.jsxs(fe,{className:"mt-4",onClick:()=>{const P=document.createElement("a");P.href=f.url_archivo,P.download=f.nombre_archivo,P.click()},children:[o.jsx(Cu,{className:"size-4 mr-2"}),"Descargar Archivo"]})]})})}),o.jsxs(Rr,{children:[o.jsx(fe,{variant:"outline",onClick:()=>p(null),children:"Cerrar"}),o.jsxs(fe,{onClick:()=>{if(f){const P=document.createElement("a");P.href=f.url_archivo,P.download=f.nombre_archivo,P.click()}},children:[o.jsx(Cu,{className:"size-4 mr-2"}),"Descargar"]})]})]})})]})}const HQ=e=>{switch(e){case"M":return"Masculino";case"F":return"Femenino";case"Otro":return"Otro";default:return e}};function GQ({currentUser:e,pacienteIdInicial:t,citaIdInicial:r,onConsultaCompletada:n}){const[a,i]=w.useState(null);w.useEffect(()=>{const le=localStorage.getItem("currentCompaniaId");le&&i(parseInt(le))},[e]);const{pacientes:s,isLoading:c,buscarPacientes:d,crearPaciente:f,clearPacientes:p}=GJ(a||void 0,{initialLoad:!1}),[h,g]=w.useState(""),[x,_]=w.useState(null),[b,v]=w.useState(null),[j,S]=w.useState(!1),[A,P]=w.useState(!1),[E,O]=w.useState(!1),[C,T]=w.useState(!1),[I,R]=w.useState(!1),[D,B]=w.useState([]),[W,Y]=w.useState(!1),[J,F]=w.useState({}),[K,L]=w.useState(new Set),[H,te]=w.useState({}),[q,Q]=w.useState(null),[U,ne]=w.useState(!1),{signosVitales:se,guardarSignoVital:ve}=KJ(b),[re,oe]=w.useState({nombres:"",apellidos:"",fecha_nacimiento:"",sexo:"M",cedula:"",email:"",telefono:"",direccion:""}),[ee,me]=w.useState({estatura_cm:"",peso_kg:"",temperatura_c:"",frecuencia_respiratoria:"",frecuencia_cardiaca:"",presion_sistolica:"",presion_diastolica:"",saturacion_oxigeno:"",notas:""}),[xe,ue]=w.useState({motivo_consulta:"",historial_clinico:"",receta_medica:"",pedido_examenes:""}),[He,Fe]=w.useState(null),[ut,vt]=w.useState([]);w.useEffect(()=>{if(t){const le=parseInt(t);isNaN(le)||(_(le),v(le))}},[t]),w.useEffect(()=>{(async()=>{if(e)try{const{data:Ve}=await Nr.from("usuario").select("id_usuario").eq("email",e.email).single();if(!Ve)return;const{data:ot}=await Nr.from("usuario_sucursal").select("*").eq("id_usuario",Ve.id_usuario).eq("estado","activo").single();if(!ot){let{data:bt}=await Nr.from("sucursal").select("*").eq("estado","activo").limit(1).single();if(!bt){const{data:wt}=await Nr.from("sucursal").insert({nombre:"Sucursal Principal",direccion:"Direccin por configurar",telefono:"",email:"",es_principal:!0,estado:"activo"}).select().single();bt=wt}if(bt){const{data:wt}=await Nr.from("usuario_sucursal").insert({id_usuario:Ve.id_usuario,id_sucursal:bt.id_sucursal,especialidad:"Medicina General",estado:"activo"}).select().single();wt&&await Nr.from("precio_usuario_sucursal").insert({id_usuario_sucursal:wt.id_usuario_sucursal,precio_consulta:50,duracion_consulta:30,estado:"activo"})}}}catch{}})()},[e]),w.useEffect(()=>{(async()=>{if(!b){Q(null);return}ne(!0);try{const Ve=await a_(b);Q(Ve)}catch(Ve){console.error("Error al cargar antecedentes:",Ve)}finally{ne(!1)}})()},[b]),w.useEffect(()=>{(async()=>{const{data:Ve,error:ot}=await Nr.from("sucursal").select("id_sucursal, nombre, direccion, estado").eq("estado","activo").order("nombre",{ascending:!0});ot?(console.error("Error al cargar sucursales:",ot),de.error("Error al cargar sucursales")):Ve&&(console.log("Sucursales cargadas:",Ve),vt(Ve),Ve.length>0&&Fe(Ve[0].id_sucursal))})()},[]),w.useEffect(()=>{(async()=>{if(b){Y(!0);const Ve=await kA(b);B(Ve);const ot={};for(const bt of Ve){const wt=await DA(bt.id_cita);wt&&(ot[bt.id_cita]=wt)}F(ot),Y(!1)}else B([]),F({})})()},[b]);const yt=async()=>{if(!re.nombres||!re.apellidos||!re.cedula){de.error("Por favor complete los campos obligatorios");return}if(!a){de.error("Error: No se pudo obtener la compaa actual");return}try{await f({...re,id_compania:a,email:re.email||null,telefono:re.telefono||null,direccion:re.direccion||null,fecha_registro:new Date().toISOString().split("T")[0],estado:"activo"})?(de.success("Paciente creado exitosamente"),S(!1),oe({nombres:"",apellidos:"",fecha_nacimiento:"",sexo:"M",cedula:"",email:"",telefono:"",direccion:""})):de.error("Error al crear paciente")}catch(le){le instanceof Error&&le.message==="CEDULA_DUPLICADA"?(de.error(`Ya existe un paciente con la cdula ${re.cedula} en esta compaa. Buscando paciente existente...`,{duration:5e3}),S(!1),await d(re.cedula)):de.error("Error al crear paciente")}},tr=async()=>{if(!b){de.error("No hay paciente seleccionado");return}const le=(nr,Qr=!1)=>{if(!nr||nr.trim()==="")return null;const xn=Qr?parseFloat(nr):parseInt(nr);return isNaN(xn)?null:Math.min(999.99,Math.max(-999.99,Math.round(xn*100)/100))},Ve=le(ee.peso_kg,!0),ot=le(ee.estatura_cm,!0),bt={id_paciente:b,fecha_registro:new Date().toISOString(),estatura_cm:ot,peso_kg:Ve,imc:ot&&Ve?c4(Ve,ot):null,temperatura_c:le(ee.temperatura_c,!0),frecuencia_respiratoria:le(ee.frecuencia_respiratoria,!1),frecuencia_cardiaca:le(ee.frecuencia_cardiaca,!1),presion_sistolica:le(ee.presion_sistolica,!1),presion_diastolica:le(ee.presion_diastolica,!1),saturacion_oxigeno:le(ee.saturacion_oxigeno,!0),notas:ee.notas||null};console.log("Valores de signos vitales a guardar:",bt),await ve(bt)?(de.success("Signos vitales guardados exitosamente"),P(!1),me({estatura_cm:"",peso_kg:"",temperatura_c:"",frecuencia_respiratoria:"",frecuencia_cardiaca:"",presion_sistolica:"",presion_diastolica:"",saturacion_oxigeno:"",notas:""})):de.error("Error al guardar signos vitales")},kt=le=>{if(le===b&&se.length>0){const Ve=H[le]||0;return se[Ve]||se[0]}return null},dr=(le,Ve)=>{const ot=H[le]||0,bt=se.length-1;Ve==="prev"&&ot>0?te({...H,[le]:ot-1}):Ve==="next"&&ot<bt&&te({...H,[le]:ot+1})},Gt=()=>{if(!b){de.error("No hay paciente seleccionado");return}ue({motivo_consulta:"",historial_clinico:"",receta_medica:"",pedido_examenes:""}),ut.length>0&&Fe(ut[0].id_sucursal),O(!0)},G=async(le,Ve,ot)=>{const bt=parseInt(le);if(!bt){de.error("ID de paciente invlido");return}const nr={esquemaVacunacion:"Esquema de Vacunacin",alergias:"Alergias",antecedentesPatologicos:"Antecedentes Patolgicos",antecedentesNoPatologicos:"Antecedentes No Patolgicos",antecedentesHeredofamiliares:"Antecedentes Heredofamiliares",antecedentesGineco:"Antecedentes Gineco-Obsttricos",antecedentesperinatales:"Antecedentes Perinatales",antecedentesPostnatales:"Antecedentes Postnatales",antecedentesPsiquiatricos:"Antecedentes Psiquitricos",vacunas:"Vacunas",medicamentos:"Medicamentos Activos",dietaNutriologica:"Dieta Nutriolgica"}[Ve]||Ve;try{console.log(" Guardando antecedente:",{pacienteId:bt,seccion:Ve,datos:ot}),await i4(bt,Ve,ot)?(de.success(`${nr} guardado correctamente`),await pe(bt)):de.error("Error al guardar antecedente")}catch(Qr){console.error(" Error al guardar antecedente:",Qr),de.error("Error al guardar los datos")}},pe=async le=>{try{const Ve=await a_(le);Q(Ve)}catch(Ve){console.error("Error al recargar antecedentes:",Ve)}},ke=async()=>{if(!b||!e){de.error("No hay paciente o usuario seleccionado");return}if(!xe.motivo_consulta.trim()){de.error("El motivo de consulta es obligatorio");return}if(!xe.historial_clinico&&!xe.receta_medica&&!xe.pedido_examenes){de.error("Por favor, complete al menos un campo adicional (historial, receta o exmenes)");return}if(!He){de.error("Por favor, seleccione una sucursal");return}T(!0);try{console.log("Iniciando guardado de consulta...");const{data:le,error:Ve}=await Nr.from("usuario").select("id_usuario, nombre, apellido").eq("email",e.email).single();if(Ve||!le){console.error("Error al obtener usuario:",Ve),de.error("No se pudo obtener informacin del usuario"),T(!1);return}console.log("Usuario obtenido:",le);let ot=r;if(!ot){console.log("No hay cita previa, creando cita automtica...");let{data:wt,error:nr}=await Nr.from("usuario_sucursal").select("id_usuario_sucursal").eq("id_usuario",le.id_usuario).eq("id_sucursal",He).eq("estado","activo").maybeSingle();if(console.log("Bsqueda de asignacin:",{asignacionData:wt,errorBusqueda:nr}),!wt){console.log("Creando nueva asignacin usuario-sucursal...");const{data:ln,error:ri}=await Nr.from("usuario_sucursal").insert({id_usuario:le.id_usuario,id_sucursal:He,especialidad:"Medicina General",estado:"activo"}).select().single();if(ri||!ln){console.error("Error al crear asignacin:",ri),de.error("Error al crear asignacin de sucursal: "+(ri?.message||"desconocido")),T(!1);return}console.log("Asignacin creada:",ln);const{error:rt}=await Nr.from("precio_usuario_sucursal").insert({id_usuario_sucursal:ln.id_usuario_sucursal,precio_consulta:50,duracion_consulta:30,estado:"activo"});rt&&console.error("Error al crear precio:",rt),wt=ln}const{data:Qr}=await Nr.from("precio_usuario_sucursal").select("precio_consulta, duracion_consulta").eq("id_usuario_sucursal",wt.id_usuario_sucursal).eq("estado","activo").single(),xn=Qr?.precio_consulta||50,Ta=Qr?.duracion_consulta||30;console.log("Precio obtenido:",{precioConsulta:xn,duracionConsulta:Ta});const Za=new Date,ei=new Date(Za.getTime()+Ta*6e4),Zr={id_paciente:b,id_usuario_sucursal:wt.id_usuario_sucursal,id_sucursal:He,fecha_cita:Za.toISOString().split("T")[0],hora_inicio:Za.toTimeString().split(" ")[0].substring(0,5),hora_fin:ei.toTimeString().split(" ")[0].substring(0,5),duracion_minutos:Ta,tipo_cita:"consulta",motivo_consulta:xe.motivo_consulta,estado_cita:"atendida",precio_cita:xn,consulta_realizada:!0};console.log("Creando cita con datos:",Zr);const{data:ti,error:zn}=await Nr.from("cita").insert(Zr).select().single();if(zn||!ti){console.error("Error al crear cita:",zn),de.error("Error al crear registro de consulta: "+(zn?.message||"desconocido")),T(!1);return}console.log("Cita creada exitosamente:",ti),ot=ti.id_cita}if(await YJ({id_cita:ot,id_paciente:b,id_usuario:le.id_usuario,historial_clinico:xe.historial_clinico||null,diagnostico:null,receta_medica:xe.receta_medica||null,pedido_examenes:xe.pedido_examenes||null,observaciones:null})){const wt=await kA(b);B(wt);const nr={};for(const Qr of wt){const xn=await DA(Qr.id_cita);xn&&(nr[Qr.id_cita]=xn)}F(nr),de.success("Consulta guardada exitosamente"),O(!1),ue({motivo_consulta:"",historial_clinico:"",receta_medica:"",pedido_examenes:""}),n&&n()}else de.error("Error al guardar la consulta")}catch(le){console.error("Error al guardar consulta:",le),de.error("Error inesperado al guardar la consulta")}finally{T(!1)}},Le=b?s.find(le=>le.id_paciente===b):null,qe=b?kt(b):null,rr=b&&H[b]||0;return o.jsxs("div",{className:"h-full flex flex-col p-6 space-y-6",children:[o.jsx(bc,{}),o.jsxs("div",{className:"flex gap-4 items-center max-w-2xl mx-auto w-full",children:[o.jsxs(fe,{variant:"outline",className:"flex-1 justify-start h-12 text-lg text-muted-foreground",onClick:()=>{g(""),p(),R(!0)},children:[o.jsx(ps,{className:"mr-2 h-5 w-5"}),b&&Le?`Paciente seleccionado: ${Le.nombres} ${Le.apellidos}`:"Click para buscar paciente..."]}),o.jsxs(fe,{onClick:()=>S(!0),className:"bg-blue-600 hover:bg-blue-700 h-12 px-6",children:[o.jsx(cr,{className:"size-5 mr-2"}),"Nuevo Paciente"]})]}),o.jsx("div",{className:"flex-1 overflow-hidden",children:b&&Le?o.jsxs("div",{className:"h-full flex gap-4 overflow-y-auto",children:[o.jsx("div",{className:"w-1/3 min-w-[350px] space-y-4",children:o.jsxs(tt,{children:[o.jsx(Nw,{className:"pb-3",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(FA,{className:"size-16",children:o.jsx(BA,{className:"bg-blue-100 text-blue-700 text-xl",children:i_(Le.nombres,Le.apellidos)})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("h3",{className:"font-semibold text-lg truncate",children:[Le.nombres," ",Le.apellidos]}),o.jsxs("p",{className:"text-sm text-gray-500",children:[Yh(Le.fecha_nacimiento)," aos  ",HQ(Le.sexo)]}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(Dt,{variant:"outline",children:Le.cedula}),o.jsx(fe,{variant:"ghost",size:"sm",onClick:Gt,className:"h-8 w-8 p-0 hover:bg-blue-100 rounded-full",title:"Iniciar Consulta",children:o.jsx(cr,{className:"size-5 text-blue-600"})})]})]})]})}),o.jsxs(Nh,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-3 text-sm",children:[Le.email&&o.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[o.jsx(Gj,{className:"size-4"}),o.jsx("span",{className:"truncate",children:Le.email})]}),Le.telefono&&o.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[o.jsx(Bw,{className:"size-4"}),o.jsx("span",{children:Le.telefono})]}),Le.direccion&&o.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[o.jsx(Co,{className:"size-4"}),o.jsx("span",{className:"truncate",children:Le.direccion})]})]}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h4",{className:"font-medium text-gray-900",children:"Signos Vitales"}),o.jsx("div",{className:"flex items-center gap-1",children:se.length>1&&o.jsxs(o.Fragment,{children:[o.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>dr(b,"prev"),disabled:rr===0,className:"h-7 w-7 p-0",children:o.jsx(Hj,{className:"size-4"})}),o.jsxs("span",{className:"text-xs text-gray-500 min-w-[3rem] text-center",children:[rr+1," / ",se.length]}),o.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>dr(b,"next"),disabled:rr===se.length-1,className:"h-7 w-7 p-0",children:o.jsx(Fh,{className:"size-4"})})]})})]}),o.jsxs(fe,{variant:"outline",size:"sm",className:"w-full mb-4",onClick:()=>{v(Le.id_paciente),P(!0)},children:[o.jsx(cr,{className:"size-4 mr-2"}),"Registrar Signos Vitales"]}),qe?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[o.jsx(mi,{className:"size-3"}),o.jsxs("span",{children:[new Date(qe.fecha_registro).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"})," - ",new Date(qe.fecha_registro).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-y-4 gap-x-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(UW,{className:"size-4 text-blue-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Estatura"}),o.jsxs("p",{className:"text-sm font-medium",children:[qe.estatura_cm||"-"," ",qe.estatura_cm?"cm":""]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(cH,{className:"size-4 text-blue-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Peso"}),o.jsxs("p",{className:"text-sm font-medium",children:[qe.peso_kg||"-"," ",qe.peso_kg?"kg":""]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Lw,{className:"size-4 text-blue-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"IMC"}),o.jsx("p",{className:"text-sm font-medium",children:qe.imc||"-"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(QW,{className:"size-4 text-blue-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Temp."}),o.jsxs("p",{className:"text-sm font-medium",children:[qe.temperatura_c||"-"," ",qe.temperatura_c?"C":""]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(dH,{className:"size-4 text-blue-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"F. Resp."}),o.jsxs("p",{className:"text-sm font-medium",children:[qe.frecuencia_respiratoria||"-"," ",qe.frecuencia_respiratoria?"rpm":""]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_W,{className:"size-4 text-blue-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"F. Card."}),o.jsxs("p",{className:"text-sm font-medium",children:[qe.frecuencia_cardiaca||"-"," ",qe.frecuencia_cardiaca?"bpm":""]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[o.jsx(Lw,{className:"size-4 text-blue-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Presin Arterial"}),o.jsx("p",{className:"text-sm font-medium",children:qe.presion_sistolica&&qe.presion_diastolica?`${qe.presion_sistolica}/${qe.presion_diastolica}`:"-"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[o.jsx(mW,{className:"size-4 text-blue-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Sat. Oxgeno"}),o.jsxs("p",{className:"text-sm font-medium",children:[qe.saturacion_oxigeno||"-","%"]})]})]})]})]}):o.jsx("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-dashed text-gray-500 text-sm",children:"No hay signos vitales registrados"})]}),o.jsx("div",{className:"border-t pt-4",children:o.jsx(WQ,{pacienteId:b})})]})]})}),o.jsx("div",{className:"flex-1 min-w-[300px]",children:U?o.jsx(tt,{className:"p-8 flex items-center justify-center h-full",children:o.jsx(lr,{className:"size-6 animate-spin text-blue-600"})}):o.jsx(VQ,{pacienteId:b.toString(),pacienteNombre:`${Le.nombres} ${Le.apellidos}`,antecedentes:q,onActualizarAntecedentes:G})}),o.jsx("div",{className:"w-1/3 min-w-[300px] space-y-4",children:o.jsxs(tt,{className:"h-full flex flex-col",children:[o.jsx(Nw,{children:o.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[o.jsx(mi,{className:"size-5 text-blue-600"}),"Historial de Citas"]})}),o.jsx(Nh,{className:"flex-1 overflow-y-auto pr-2",children:W?o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx(lr,{className:"size-6 animate-spin text-blue-600"})}):D.length===0?o.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No hay citas registradas"}):o.jsx("div",{className:"space-y-3",children:D.map(le=>{const Ve=$J(le.estado_cita),ot=J[le.id_cita],bt=!!ot,wt=K.has(le.id_cita);return o.jsx(tt,{className:"border-l-4",style:{borderLeftColor:Ve==="blue"?"#3b82f6":Ve==="green"?"#10b981":Ve==="red"?"#ef4444":"#f59e0b"},children:o.jsxs(Nh,{className:"p-4 space-y-2",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(mi,{className:"size-4 text-gray-500"}),o.jsx("span",{className:"text-sm",children:new Date(le.fecha_cita).toLocaleDateString("es-ES",{weekday:"short",day:"2-digit",month:"short",year:"numeric"})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Oh,{className:"size-4 text-gray-500"}),o.jsxs("span",{className:"text-sm",children:[TA(le.hora_inicio)," - ",TA(le.hora_fin)]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Dt,{variant:le.estado_cita==="atendida"?"default":le.estado_cita==="cancelada"?"destructive":"secondary",className:"text-xs",children:le.estado_cita}),bt&&o.jsxs(Dt,{variant:"outline",className:"text-xs bg-green-50 text-green-700 border-green-300",children:[o.jsx(No,{className:"size-3 mr-1"}),"Consulta"]}),bt&&ot.historial_clinico&&o.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>{const nr=new Set(K);wt?nr.delete(le.id_cita):nr.add(le.id_cita),L(nr)},className:"h-6 w-6 p-0",title:wt?"Ocultar historial clnico":"Ver historial clnico",children:wt?o.jsx(vD,{className:"size-4"}):o.jsx(fm,{className:"size-4"})})]})]}),o.jsxs("div",{className:"pt-2 border-t text-sm text-gray-600",children:[o.jsxs("p",{className:"font-medium",children:[le.usuario_sucursal.usuario.nombre," ",le.usuario_sucursal.usuario.apellido]}),le.usuario_sucursal.especialidad&&o.jsx("p",{className:"text-xs text-gray-500",children:le.usuario_sucursal.especialidad})]}),le.motivo_consulta&&o.jsxs("div",{className:"pt-2 border-t text-xs",children:[o.jsx("p",{className:"font-medium text-gray-700 mb-1",children:"Motivo de Consulta:"}),o.jsx("p",{className:"text-gray-600 line-clamp-2",children:le.motivo_consulta})]}),bt&&ot.receta_medica&&o.jsxs("div",{className:"pt-2 border-t text-xs",children:[o.jsxs("p",{className:"font-medium text-green-700 mb-1 flex items-center gap-1",children:[o.jsx(No,{className:"size-3"}),"Receta Mdica:"]}),o.jsx("p",{className:"text-gray-600 whitespace-pre-wrap bg-green-50 p-2 rounded line-clamp-3",children:ot.receta_medica})]}),bt&&wt&&ot.historial_clinico&&o.jsxs("div",{className:"pt-2 border-t text-xs",children:[o.jsx("p",{className:"font-medium text-gray-700 mb-1",children:"Historial Clnico:"}),o.jsx("p",{className:"text-gray-600 whitespace-pre-wrap bg-gray-50 p-2 rounded",children:ot.historial_clinico})]}),o.jsxs("div",{className:"flex items-center justify-between pt-2 text-xs text-gray-500",children:[o.jsxs("span",{children:["Precio: $",le.precio_cita]}),le.estado_pago&&o.jsx(Dt,{variant:"outline",className:"text-xs",children:le.estado_pago})]})]})},le.id_cita)})})})]})})]}):o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 bg-white rounded-lg border-2 border-dashed border-gray-200",children:[o.jsx("div",{className:"p-6 bg-gray-50 rounded-full mb-6",children:o.jsx(ps,{className:"size-16 text-gray-300"})}),o.jsx("h3",{className:"text-2xl font-semibold text-gray-700 mb-2",children:"Busque un paciente para comenzar"}),o.jsx("p",{className:"text-gray-500 max-w-md text-center",children:"Haga clic en la barra de bsqueda superior para encontrar un paciente por nombre o nmero de cdula, o registre uno nuevo."})]})}),o.jsx(Or,{open:I,onOpenChange:R,children:o.jsxs(kr,{className:"sm:max-w-[600px] h-[80vh] flex flex-col",children:[o.jsxs(Tr,{children:[o.jsx(Ir,{children:"Buscar Paciente"}),o.jsx(Mr,{children:"Ingrese el nombre, apellido o cdula del paciente."})]}),o.jsxs("div",{className:"flex gap-2 my-2",children:[o.jsx(Se,{placeholder:"Ej: Juan Perez o 1712345678",value:h,onChange:le=>g(le.target.value),onKeyDown:le=>{le.key==="Enter"&&d(h)},autoFocus:!0}),o.jsxs(fe,{onClick:()=>d(h),disabled:c,children:[c?o.jsx(lr,{className:"size-4 animate-spin"}):o.jsx(ps,{className:"size-4"}),o.jsx("span",{className:"ml-2",children:"Buscar"})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto border rounded-md p-2 space-y-2",children:c?o.jsxs("div",{className:"flex justify-center items-center h-full text-gray-500",children:[o.jsx(lr,{className:"size-6 animate-spin mr-2"})," Buscando..."]}):s.length>0?s.map(le=>o.jsxs("div",{className:"flex items-center gap-3 p-3 hover:bg-gray-100 rounded-lg cursor-pointer border transition-colors",onClick:()=>{v(le.id_paciente),R(!1),g("")},children:[o.jsx(FA,{className:"h-10 w-10",children:o.jsx(BA,{className:"bg-blue-100 text-blue-700",children:i_(le.nombres,le.apellidos)})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"font-medium text-gray-900",children:[le.nombres," ",le.apellidos]}),o.jsxs("p",{className:"text-xs text-gray-500",children:["CI: ",le.cedula,"  ",Yh(le.fecha_nacimiento)," aos"]})]}),o.jsx(Fh,{className:"size-5 text-gray-400"})]},le.id_paciente)):h&&!c?o.jsxs("div",{className:"text-center py-8 text-gray-500",children:['No se encontraron pacientes con "',h,'"']}):o.jsx("div",{className:"text-center py-8 text-gray-400",children:"Ingrese un trmino para buscar"})}),o.jsx(Rr,{children:o.jsx(fe,{variant:"outline",onClick:()=>R(!1),children:"Cerrar"})})]})}),o.jsx(Or,{open:j,onOpenChange:S,children:o.jsxs(kr,{className:"max-w-2xl",children:[o.jsxs(Tr,{children:[o.jsx(Ir,{children:"Registrar Nuevo Paciente"}),o.jsx(Mr,{children:"Complete los datos del nuevo paciente"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{htmlFor:"nombres",children:"Nombres *"}),o.jsx(Se,{id:"nombres",value:re.nombres,onChange:le=>oe({...re,nombres:le.target.value}),placeholder:"Nombres"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{htmlFor:"apellidos",children:"Apellidos *"}),o.jsx(Se,{id:"apellidos",value:re.apellidos,onChange:le=>oe({...re,apellidos:le.target.value}),placeholder:"Apellidos"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{htmlFor:"cedula",children:"Cdula/ID *"}),o.jsx(Se,{id:"cedula",value:re.cedula,onChange:le=>oe({...re,cedula:le.target.value}),placeholder:"0000000000"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{htmlFor:"fecha_nacimiento",children:"Fecha de Nacimiento *"}),o.jsx(Se,{id:"fecha_nacimiento",type:"date",value:re.fecha_nacimiento,onChange:le=>oe({...re,fecha_nacimiento:le.target.value})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{htmlFor:"sexo",children:"Sexo *"}),o.jsxs(ft,{value:re.sexo,onValueChange:le=>oe({...re,sexo:le}),children:[o.jsx(pt,{children:o.jsx(ht,{})}),o.jsxs(mt,{children:[o.jsx(Ae,{value:"M",children:"Masculino"}),o.jsx(Ae,{value:"F",children:"Femenino"}),o.jsx(Ae,{value:"Otro",children:"Otro"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{htmlFor:"telefono",children:"Telfono"}),o.jsx(Se,{id:"telefono",value:re.telefono,onChange:le=>oe({...re,telefono:le.target.value}),placeholder:"0999999999"})]}),o.jsxs("div",{className:"space-y-2 col-span-2",children:[o.jsx(z,{htmlFor:"email",children:"Correo Electrnico"}),o.jsx(Se,{id:"email",type:"email",value:re.email,onChange:le=>oe({...re,email:le.target.value}),placeholder:"paciente@email.com"})]}),o.jsxs("div",{className:"space-y-2 col-span-2",children:[o.jsx(z,{htmlFor:"direccion",children:"Direccin"}),o.jsx(Se,{id:"direccion",value:re.direccion,onChange:le=>oe({...re,direccion:le.target.value}),placeholder:"Direccin completa"})]})]}),o.jsxs(Rr,{children:[o.jsx(fe,{variant:"outline",onClick:()=>S(!1),children:"Cancelar"}),o.jsx(fe,{onClick:yt,className:"bg-blue-600 hover:bg-blue-700",children:"Registrar Paciente"})]})]})}),o.jsx(Or,{open:A,onOpenChange:P,children:o.jsxs(kr,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[o.jsxs(Tr,{children:[o.jsx(Ir,{children:"Registrar Signos Vitales"}),o.jsx(Mr,{children:b&&s.find(le=>le.id_paciente===b)?`Paciente: ${s.find(le=>le.id_paciente===b).nombres} ${s.find(le=>le.id_paciente===b).apellidos}`:""})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Estatura (cm)"}),o.jsx(Se,{type:"number",step:"0.1",max:"999.99",value:ee.estatura_cm,onChange:le=>me({...ee,estatura_cm:le.target.value}),placeholder:"170.5"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Peso (kg)"}),o.jsx(Se,{type:"number",step:"0.1",max:"999.99",value:ee.peso_kg,onChange:le=>me({...ee,peso_kg:le.target.value}),placeholder:"70.5"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Temperatura (C)"}),o.jsx(Se,{type:"number",step:"0.1",max:"999.99",value:ee.temperatura_c,onChange:le=>me({...ee,temperatura_c:le.target.value}),placeholder:"36.5"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Frec. Respiratoria"}),o.jsx(Se,{type:"number",max:"999",value:ee.frecuencia_respiratoria,onChange:le=>me({...ee,frecuencia_respiratoria:le.target.value}),placeholder:"18"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Frec. Cardaca (bpm)"}),o.jsx(Se,{type:"number",max:"999",value:ee.frecuencia_cardiaca,onChange:le=>me({...ee,frecuencia_cardiaca:le.target.value}),placeholder:"75"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Saturacin O2(%)"}),o.jsx(Se,{type:"number",step:"0.1",max:"100",value:ee.saturacion_oxigeno,onChange:le=>me({...ee,saturacion_oxigeno:le.target.value}),placeholder:"98"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Presin Sistlica"}),o.jsx(Se,{type:"number",max:"999",value:ee.presion_sistolica,onChange:le=>me({...ee,presion_sistolica:le.target.value}),placeholder:"120"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Presin Diastlica"}),o.jsx(Se,{type:"number",max:"999",value:ee.presion_diastolica,onChange:le=>me({...ee,presion_diastolica:le.target.value}),placeholder:"80"})]})]}),o.jsxs(Rr,{children:[o.jsx(fe,{variant:"outline",onClick:()=>P(!1),children:"Cancelar"}),o.jsx(fe,{onClick:tr,className:"bg-blue-600 hover:bg-blue-700",children:"Guardar Signos Vitales"})]})]})}),o.jsx(Or,{open:E,onOpenChange:O,children:o.jsxs(kr,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[o.jsxs(Tr,{children:[o.jsxs(Ir,{children:["Nueva Consulta - ",s.find(le=>le.id_paciente===b)?.nombres," ",s.find(le=>le.id_paciente===b)?.apellidos]}),o.jsxs(Mr,{className:"flex items-center gap-2",children:[o.jsx(mi,{className:"size-4"}),o.jsx("span",{children:new Date().toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2 bg-blue-50 p-4 rounded-lg border border-blue-200",children:[o.jsxs(z,{htmlFor:"sucursalConsulta",className:"font-medium text-blue-900",children:["Sucursal * ",ut.length>0&&o.jsxs("span",{className:"font-normal text-blue-700",children:["(",ut.length," disponibles)"]})]}),o.jsxs(ft,{value:He?.toString()||"",onValueChange:le=>{console.log("Sucursal seleccionada:",le),Fe(parseInt(le))},children:[o.jsx(pt,{className:"bg-white w-full",id:"sucursalConsulta",children:o.jsx(ht,{placeholder:"Seleccione una sucursal..."})}),o.jsx(mt,{position:"popper",className:"z-[100] max-w-[700px]",children:ut.length===0?o.jsx("div",{className:"p-2 text-sm text-gray-500",children:"No hay sucursales disponibles"}):ut.map(le=>o.jsx(Ae,{value:le.id_sucursal.toString(),children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:le.nombre}),le.direccion&&o.jsx("span",{className:"text-xs text-gray-500",children:le.direccion})]})},le.id_sucursal))})]}),o.jsx("p",{className:"text-xs text-blue-700 flex items-center gap-1",children:" Selecciona la sucursal donde se registrar la consulta"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{htmlFor:"motivoConsulta",className:"text-sm",children:"Motivo de Consulta *"}),o.jsx(qt,{id:"motivoConsulta",value:xe.motivo_consulta,onChange:le=>ue({...xe,motivo_consulta:le.target.value}),placeholder:"Por qu acude el paciente a consulta?...",className:"min-h-[80px] text-sm"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{htmlFor:"historialClinico",className:"text-sm",children:"Historial Clnico"}),o.jsx(qt,{id:"historialClinico",value:xe.historial_clinico,onChange:le=>ue({...xe,historial_clinico:le.target.value}),placeholder:"Diagnstico, observaciones mdicas...",className:"min-h-[100px] text-sm"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{htmlFor:"recetaMedica",className:"text-sm",children:"Receta Mdica"}),o.jsx(qt,{id:"recetaMedica",value:xe.receta_medica,onChange:le=>ue({...xe,receta_medica:le.target.value}),placeholder:"Medicamentos y dosis...",className:"min-h-[100px] text-sm"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{htmlFor:"pedidoExamenes",className:"text-sm",children:"Pedido de Exmenes"}),o.jsx(qt,{id:"pedidoExamenes",value:xe.pedido_examenes,onChange:le=>ue({...xe,pedido_examenes:le.target.value}),placeholder:"Exmenes solicitados...",className:"min-h-[100px] text-sm"})]})]}),o.jsxs(Rr,{children:[o.jsx(fe,{variant:"outline",onClick:()=>O(!1),disabled:C,children:"Cancelar"}),o.jsx(fe,{onClick:ke,className:"bg-blue-600 hover:bg-blue-700",disabled:C,children:C?o.jsxs(o.Fragment,{children:[o.jsx(lr,{className:"size-4 mr-2 animate-spin"}),"Guardando..."]}):"Guardar Consulta"})]})]})})]})}async function KQ(e,t){try{console.log(" Obteniendo cargos...");let r=we.from("cita").select(`
        *,
        paciente:paciente!inner (
          id_paciente,
          nombres,
          apellidos,
          cedula,
          telefono,
          email
        ),
        usuario_sucursal:usuario_sucursal!inner (
          id_usuario_sucursal,
          especialidad,
          usuario:usuario!inner (
            id_usuario,
            nombre,
            apellido
          ),
          sucursal:sucursal!inner (
            id_sucursal,
            nombre,
            compania:compania!inner (
              id_compania,
              nombre
            )
          )
        )
      `).eq("consulta_realizada",!0).order("fecha_cita",{ascending:!1}).order("hora_inicio",{ascending:!1});const{data:n,error:a}=await r;if(a)return console.error(" Error al obtener cargos:",a),[];const i=(n||[]).map(p=>p.id_cita),{data:s}=await we.from("pago").select("*").in("id_cita",i),{data:c}=await we.from("cargo_adicional").select("*").in("id_cita",i),{data:d}=await we.from("descuento").select("*").in("id_cita",i),f=(n||[]).map(p=>({...p,fecha:p.fecha_cita,precio_cita:parseFloat(p.precio_cita)||0,precio:parseFloat(p.precio_cita)||0,estado:p.estado_cita,pagos:(s||[]).filter(h=>h.id_cita===p.id_cita),cargos_adicionales:(c||[]).filter(h=>h.id_cita===p.id_cita),descuentos:(d||[]).filter(h=>h.id_cita===p.id_cita)}));return console.log(` Se encontraron ${f.length} cargos`),f}catch(r){return console.error(" Error inesperado al obtener cargos:",r),[]}}async function YQ(e){try{console.log(" Registrando pago para cita:",e.id_cita);const t={...e,fecha_pago:e.fecha_pago||new Date().toISOString()},{data:r,error:n}=await we.from("pago").insert(t).select().single();return n?(console.error(" Error al crear pago:",n),null):(console.log(" Pago creado exitosamente"),r)}catch(t){return console.error(" Error inesperado al crear pago:",t),null}}async function XQ(e,t){try{console.log(" Actualizando pago ID:",e);const{error:r}=await we.from("pago").update(t).eq("id_pago",e);return r?(console.error(" Error al actualizar pago:",r),!1):(console.log(" Pago actualizado exitosamente"),!0)}catch(r){return console.error(" Error inesperado al actualizar pago:",r),!1}}async function JQ(e){try{console.log(" Eliminando pago ID:",e);const{error:t}=await we.from("pago").delete().eq("id_pago",e);return t?(console.error(" Error al eliminar pago:",t),!1):(console.log(" Pago eliminado exitosamente"),!0)}catch(t){return console.error(" Error inesperado al eliminar pago:",t),!1}}async function QQ(e){try{console.log(" Agregando cargo adicional a cita:",e.id_cita);const{data:t,error:r}=await we.from("cargo_adicional").insert(e).select().single();return r?(console.error(" Error al crear cargo adicional:",r),null):(console.log(" Cargo adicional creado exitosamente"),t)}catch(t){return console.error(" Error inesperado al crear cargo adicional:",t),null}}async function ZQ(e){try{console.log(" Eliminando cargo adicional ID:",e);const{error:t}=await we.from("cargo_adicional").delete().eq("id_cargo_adicional",e);return t?(console.error(" Error al eliminar cargo adicional:",t),!1):(console.log(" Cargo adicional eliminado exitosamente"),!0)}catch(t){return console.error(" Error inesperado al eliminar cargo adicional:",t),!1}}async function eZ(e){try{console.log(" Aplicando descuento a cita:",e.id_cita);const{data:t,error:r}=await we.from("descuento").insert(e).select().single();return r?(console.error(" Error al crear descuento:",r),null):(console.log(" Descuento creado exitosamente"),t)}catch(t){return console.error(" Error inesperado al crear descuento:",t),null}}async function tZ(e){try{console.log(" Eliminando descuento ID:",e);const{error:t}=await we.from("descuento").delete().eq("id_descuento",e);return t?(console.error(" Error al eliminar descuento:",t),!1):(console.log(" Descuento eliminado exitosamente"),!0)}catch(t){return console.error(" Error inesperado al eliminar descuento:",t),!1}}function vo(e){const t=e.precio,r=e.cargos_adicionales?.reduce((i,s)=>i+s.monto,0)||0,n=e.descuentos?.reduce((i,s)=>i+s.monto,0)||0,a=t+r-n;return{subtotal:t,totalAdicionales:r,totalDescuentos:n,total:Math.max(0,a)}}function ls(e){return e.pagos?.reduce((t,r)=>r.estado_pago==="pagado"?t+r.monto:t,0)||0}function Jh(e){const{total:t}=vo(e),r=ls(e);return r===0?"pendiente":r>=t?"pagado":"parcial"}function Kr(e){return new Intl.NumberFormat("es-EC",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e)}function rZ(e){let t=0,r=0,n=0,a=0,i=0,s=0;return e.forEach(c=>{const{total:d}=vo(c);ls(c);const f=Jh(c);f==="pendiente"?(t+=d,a++):f==="pagado"?(r+=d,i++):f==="parcial"&&(n+=d,s++)}),{totalCargos:e.length,totalPendiente:t,totalPagado:r,totalParcial:n,numeroPendientes:a,numeroPagados:i,numeroParciales:s}}function nZ(e){const t=["Fecha","Hora","Paciente","Cdula","Mdico","Sucursal","Motivo","Subtotal","Adicionales","Descuentos","Total","Pagado","Estado"],r=e.map(c=>{const{subtotal:d,totalAdicionales:f,totalDescuentos:p,total:h}=vo(c),g=ls(c),x=Jh(c);return[c.fecha,c.hora_inicio,`${c.paciente.nombres} ${c.paciente.apellidos}`,c.paciente.cedula,`Dr. ${c.usuario_sucursal.usuario.nombre} ${c.usuario_sucursal.usuario.apellido}`,c.usuario_sucursal.sucursal.nombre,c.motivo_consulta,d.toFixed(2),f.toFixed(2),p.toFixed(2),h.toFixed(2),g.toFixed(2),x.toUpperCase()]}),n=[t.join(","),...r.map(c=>c.map(d=>`"${d}"`).join(","))].join(`
`),a=new Blob(["\uFEFF"+n],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),s=URL.createObjectURL(a);i.setAttribute("href",s),i.setAttribute("download",`cobros_${new Date().toISOString().split("T")[0]}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}function aZ(e,t,r){const[n,a]=w.useState([]),[i,s]=w.useState(!0),[c,d]=w.useState(null);w.useEffect(()=>{f()},[e,t,r]);const f=async()=>{s(!0),d(null);try{let S;e||(S=await KQ(t,r)),a(S)}catch(S){d("Error al cargar cargos"),console.error(S)}s(!1)},p=async S=>{const A=await YQ(S);return A?(await f(),A):null},h=async(S,A)=>{const P=await XQ(S,A);return P&&await f(),P},g=async S=>{const A=await JQ(S);return A&&await f(),A},x=async S=>{const A=await QQ(S);return A?(await f(),A):null},_=async S=>{const A=await ZQ(S);return A&&await f(),A},b=async S=>{const A=await eZ(S);return A?(await f(),A):null},v=async S=>{const A=await tZ(S);return A&&await f(),A},j=rZ(n);return{cargos:n,isLoading:i,error:c,loadCargos:f,agregarPago:p,actualizarPago:h,eliminarPago:g,agregarCargoAdicional:x,eliminarCargoAdicional:_,agregarDescuento:b,eliminarDescuento:v,estadisticas:j}}function iZ(){const[e,t]=w.useState(null);w.useEffect(()=>{const U=localStorage.getItem("currentUserId");U&&t(parseInt(U))},[]);const{cargos:r,isLoading:n,loadCargos:a,agregarPago:i,agregarCargoAdicional:s,agregarDescuento:c,estadisticas:d}=aZ(null),[f,p]=w.useState(""),[h,g]=w.useState("todos"),[x,_]=w.useState("todos"),[b,v]=w.useState("pendiente"),[j,S]=w.useState(!1),[A,P]=w.useState(!1),[E,O]=w.useState(null),[C,T]=w.useState({monto:"",forma_pago:"efectivo",referencia_pago:"",notas:""}),[I,R]=w.useState({descripcion:"",monto:""}),[D,B]=w.useState({descripcion:"",monto:"",porcentaje:""}),W=Array.from(new Set(r.map(U=>`Dr. ${U.usuario_sucursal.usuario.nombre} ${U.usuario_sucursal.usuario.apellido}`))).sort(),Y=Array.from(new Set(r.map(U=>U.usuario_sucursal.sucursal.nombre))).sort(),J=r.filter(U=>{const ne=`${U.paciente.nombres} ${U.paciente.apellidos}`.toLowerCase(),se=`Dr. ${U.usuario_sucursal.usuario.nombre} ${U.usuario_sucursal.usuario.apellido}`.toLowerCase(),ve=U.motivo_consulta.toLowerCase(),re=f===""||ne.includes(f.toLowerCase())||se.includes(f.toLowerCase())||ve.includes(f.toLowerCase()),oe=`Dr. ${U.usuario_sucursal.usuario.nombre} ${U.usuario_sucursal.usuario.apellido}`,ee=h==="todos"||oe===h,me=x==="todos"||U.usuario_sucursal.sucursal.nombre===x,xe=Jh(U);return re&&ee&&me&&(b==="todos"||xe===b)}),F=U=>{O(U);const{total:ne}=vo(U),se=ls(U),ve=ne-se;T({...C,monto:ve.toFixed(2)}),S(!0)},K=async()=>{if(!E)return;const U=parseFloat(C.monto);if(isNaN(U)||U<=0){de.error("Por favor ingrese un monto vlido");return}const ne={id_cita:E.id_cita,monto:U,forma_pago:C.forma_pago,estado_pago:"pagado",fecha_pago:new Date().toISOString(),referencia_pago:C.referencia_pago||null,notas:C.notas||null};await i(ne)?(de.success("Pago registrado exitosamente"),S(!1),T({monto:"",forma_pago:"efectivo",referencia_pago:"",notas:""})):de.error("Error al registrar el pago")},L=U=>{O(U),P(!0)},H=async()=>{if(!E)return;const U=parseFloat(I.monto);if(!I.descripcion||isNaN(U)||U<=0){de.error("Por favor complete los campos correctamente");return}await s({id_cita:E.id_cita,descripcion:I.descripcion,monto:U})?(de.success("Cargo adicional agregado"),R({descripcion:"",monto:""})):de.error("Error al agregar cargo adicional")},te=async()=>{if(!E)return;const U=parseFloat(D.monto);if(!D.descripcion||isNaN(U)||U<=0){de.error("Por favor complete los campos correctamente");return}await c({id_cita:E.id_cita,descripcion:D.descripcion,monto:U,porcentaje:D.porcentaje?parseFloat(D.porcentaje):null})?(de.success("Descuento aplicado"),B({descripcion:"",monto:"",porcentaje:""})):de.error("Error al aplicar descuento")},q=()=>{p(""),g("todos"),_("todos"),v("todos")},Q=()=>{nZ(J),de.success("Reporte exportado exitosamente")};return o.jsxs("div",{className:"h-full p-6 space-y-6",children:[o.jsx(bc,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl",children:"Cobros y Pagos"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Gestin de facturacin y cobros"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(fe,{variant:"outline",onClick:a,children:[o.jsx(bD,{className:"size-4 mr-2"}),"Actualizar"]}),o.jsxs(fe,{variant:"outline",onClick:Q,children:[o.jsx(Cu,{className:"size-4 mr-2"}),"Exportar"]})]})]}),o.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[o.jsx(tt,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Total Cargos"}),o.jsx("p",{className:"text-2xl mt-1",children:d.totalCargos})]}),o.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:o.jsx(No,{className:"size-5 text-blue-600"})})]})}),o.jsx(tt,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Total Pagado"}),o.jsx("p",{className:"text-2xl mt-1 text-green-600",children:Kr(d.totalPagado)}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[d.numeroPagados," cargos"]})]}),o.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:o.jsx(kl,{className:"size-5 text-green-600"})})]})}),o.jsx(tt,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Pendiente"}),o.jsx("p",{className:"text-2xl mt-1 text-red-600",children:Kr(d.totalPendiente)}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[d.numeroPendientes," cargos"]})]}),o.jsx("div",{className:"bg-red-100 p-2 rounded-lg",children:o.jsx(yD,{className:"size-5 text-red-600"})})]})}),o.jsx(tt,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Pagos Parciales"}),o.jsx("p",{className:"text-2xl mt-1 text-yellow-600",children:Kr(d.totalParcial)}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[d.numeroParciales," cargos"]})]}),o.jsx("div",{className:"bg-yellow-100 p-2 rounded-lg",children:o.jsx(tH,{className:"size-5 text-yellow-600"})})]})})]}),o.jsxs(tt,{className:"p-4",children:[o.jsxs("div",{className:"grid grid-cols-5 gap-3",children:[o.jsx("div",{className:"col-span-2",children:o.jsxs("div",{className:"relative",children:[o.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 size-4"}),o.jsx(Se,{placeholder:"Buscar por paciente, mdico o motivo...",value:f,onChange:U=>p(U.target.value),className:"pl-10"})]})}),o.jsxs(ft,{value:h,onValueChange:g,children:[o.jsx(pt,{children:o.jsx(ht,{placeholder:"Mdico"})}),o.jsxs(mt,{children:[o.jsx(Ae,{value:"todos",children:"Todos los mdicos"}),W.map(U=>o.jsx(Ae,{value:U,children:U},U))]})]}),o.jsxs(ft,{value:x,onValueChange:_,children:[o.jsx(pt,{children:o.jsx(ht,{placeholder:"Sucursal"})}),o.jsxs(mt,{children:[o.jsx(Ae,{value:"todos",children:"Todas las sucursales"}),Y.map(U=>o.jsx(Ae,{value:U,children:U},U))]})]}),o.jsxs(ft,{value:b,onValueChange:U=>v(U),children:[o.jsx(pt,{children:o.jsx(ht,{placeholder:"Estado"})}),o.jsxs(mt,{children:[o.jsx(Ae,{value:"todos",children:"Todos los estados"}),o.jsx(Ae,{value:"pendiente",children:"Pendiente"}),o.jsx(Ae,{value:"pagado",children:"Pagado"}),o.jsx(Ae,{value:"parcial",children:"Parcial"}),o.jsx(Ae,{value:"cancelado",children:"Cancelado"})]})]})]}),(f||h!=="todos"||x!=="todos"||b!=="pendiente")&&o.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[o.jsxs(fe,{variant:"ghost",size:"sm",onClick:q,children:[o.jsx(bo,{className:"size-4 mr-2"}),"Limpiar filtros"]}),o.jsxs("span",{className:"text-sm text-gray-500",children:[J.length," resultado(s)"]})]})]}),n?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(lr,{className:"size-8 animate-spin text-blue-600"})}):o.jsx(tt,{children:o.jsxs(aa,{children:[o.jsx(ia,{children:o.jsxs(gt,{children:[o.jsx(Ce,{className:"text-right",children:"Acciones"}),o.jsx(Ce,{children:"Fecha"}),o.jsx(Ce,{children:"Paciente"}),o.jsx(Ce,{children:"Mdico"}),o.jsx(Ce,{children:"Sucursal"}),o.jsx(Ce,{className:"text-right",children:"Subtotal"}),o.jsx(Ce,{className:"text-right",children:"Adicionales"}),o.jsx(Ce,{className:"text-right",children:"Descuentos"}),o.jsx(Ce,{className:"text-right",children:"Total"}),o.jsx(Ce,{className:"text-right",children:"Pagado"}),o.jsx(Ce,{children:"Estado"})]})}),o.jsx(oa,{children:J.length===0?o.jsx(gt,{children:o.jsx(_e,{colSpan:11,className:"text-center py-8 text-gray-500",children:"No se encontraron cargos"})}):J.map(U=>{const{subtotal:ne,totalAdicionales:se,totalDescuentos:ve,total:re}=vo(U),oe=ls(U),ee=Jh(U);return o.jsxs(gt,{children:[o.jsx(_e,{className:"text-right",children:o.jsx("div",{className:"flex gap-1 justify-end",children:ee!=="pagado"&&o.jsxs(o.Fragment,{children:[o.jsx(fe,{size:"sm",variant:"outline",onClick:()=>F(U),children:o.jsx(kl,{className:"size-4"})}),o.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>L(U),children:o.jsx(No,{className:"size-3"})})]})})}),o.jsx(_e,{children:o.jsxs("div",{className:"text-sm",children:[o.jsx("div",{children:new Date(U.fecha).toLocaleDateString("es-ES")}),o.jsx("div",{className:"text-xs text-gray-500",children:U.hora_inicio})]})}),o.jsx(_e,{children:o.jsxs("div",{className:"text-sm",children:[o.jsxs("div",{children:[U.paciente.nombres," ",U.paciente.apellidos]}),o.jsx("div",{className:"text-xs text-gray-500",children:U.paciente.identificacion})]})}),o.jsxs(_e,{className:"text-sm",children:["Dr. ",U.usuario_sucursal.usuario.nombre," ",U.usuario_sucursal.usuario.apellido]}),o.jsx(_e,{className:"text-sm",children:U.usuario_sucursal.sucursal.nombre}),o.jsx(_e,{className:"text-right text-sm",children:Kr(ne)}),o.jsx(_e,{className:"text-right text-sm",children:se>0?o.jsxs("span",{className:"text-blue-600",children:["+",Kr(se)]}):o.jsx("span",{className:"text-gray-400",children:"-"})}),o.jsx(_e,{className:"text-right text-sm",children:ve>0?o.jsxs("span",{className:"text-green-600",children:["-",Kr(ve)]}):o.jsx("span",{className:"text-gray-400",children:"-"})}),o.jsx(_e,{className:"text-right font-semibold",children:Kr(re)}),o.jsx(_e,{className:"text-right",children:Kr(oe)}),o.jsx(_e,{children:o.jsx(Dt,{variant:ee==="pagado"?"default":ee==="parcial"?"secondary":"destructive",children:ee.toUpperCase()})})]},U.id_cita)})})]})}),o.jsx(Or,{open:j,onOpenChange:S,children:o.jsxs(kr,{children:[o.jsxs(Tr,{children:[o.jsx(Ir,{children:"Registrar Pago"}),o.jsx(Mr,{children:E&&`${E.paciente.nombres} ${E.paciente.apellidos}`})]}),E&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-1 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Total del cargo:"}),o.jsx("span",{className:"font-semibold",children:Kr(vo(E).total)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Ya pagado:"}),o.jsx("span",{className:"text-green-600",children:Kr(ls(E))})]}),o.jsxs("div",{className:"flex justify-between border-t pt-1",children:[o.jsx("span",{children:"Saldo pendiente:"}),o.jsx("span",{className:"font-semibold text-red-600",children:Kr(vo(E).total-ls(E))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Monto a pagar"}),o.jsx(Se,{type:"number",step:"0.01",value:C.monto,onChange:U=>T({...C,monto:U.target.value}),placeholder:"0.00"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Forma de pago"}),o.jsxs(ft,{value:C.forma_pago,onValueChange:U=>T({...C,forma_pago:U}),children:[o.jsx(pt,{children:o.jsx(ht,{})}),o.jsxs(mt,{children:[o.jsx(Ae,{value:"efectivo",children:"Efectivo"}),o.jsx(Ae,{value:"tarjeta",children:"Tarjeta"}),o.jsx(Ae,{value:"transferencia",children:"Transferencia"}),o.jsx(Ae,{value:"seguro",children:"Seguro"}),o.jsx(Ae,{value:"cortesia",children:"Cortesa"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Referencia (opcional)"}),o.jsx(Se,{value:C.referencia_pago,onChange:U=>T({...C,referencia_pago:U.target.value}),placeholder:"Nmero de transaccin, cheque, etc."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{children:"Notas (opcional)"}),o.jsx(qt,{value:C.notas,onChange:U=>T({...C,notas:U.target.value}),placeholder:"Notas adicionales...",rows:3})]})]}),o.jsxs(Rr,{children:[o.jsx(fe,{variant:"outline",onClick:()=>S(!1),children:"Cancelar"}),o.jsxs(fe,{onClick:K,className:"bg-blue-600 hover:bg-blue-700",children:[o.jsx(kl,{className:"size-4 mr-2"}),"Registrar Pago"]})]})]})}),o.jsx(Or,{open:A,onOpenChange:P,children:o.jsxs(kr,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(Tr,{children:[o.jsx(Ir,{children:"Detalle de Facturacin"}),E&&o.jsxs(Mr,{children:[E.paciente.nombres," ",E.paciente.apellidos," -",new Date(E.fecha).toLocaleDateString("es-ES")]})]}),E&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"font-semibold",children:"Desglose de Costos"}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Consulta base:"}),o.jsx("span",{children:Kr(E.precio)})]}),E.cargos_adicionales&&E.cargos_adicionales.length>0&&o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-semibold mt-2 mb-1",children:"Cargos adicionales:"}),E.cargos_adicionales.map(U=>o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{className:"text-gray-600",children:[" ",U.descripcion]}),o.jsxs("span",{className:"text-blue-600",children:["+",Kr(U.monto)]})]},U.id_cargo_adicional))]}),E.descuentos&&E.descuentos.length>0&&o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-semibold mt-2 mb-1",children:"Descuentos:"}),E.descuentos.map(U=>o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{className:"text-gray-600",children:[" ",U.descripcion]}),o.jsxs("span",{className:"text-green-600",children:["-",Kr(U.monto)]})]},U.id_descuento))]}),o.jsxs("div",{className:"border-t pt-2 flex justify-between font-semibold text-lg",children:[o.jsx("span",{children:"Total:"}),o.jsx("span",{children:Kr(vo(E).total)})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"font-semibold",children:"Agregar Cargo Adicional"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Se,{placeholder:"Descripcin",value:I.descripcion,onChange:U=>R({...I,descripcion:U.target.value})}),o.jsx(Se,{type:"number",step:"0.01",placeholder:"Monto",value:I.monto,onChange:U=>R({...I,monto:U.target.value}),className:"w-32"}),o.jsx(fe,{onClick:H,variant:"outline",children:o.jsx(cr,{className:"size-4"})})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"font-semibold",children:"Aplicar Descuento"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Se,{placeholder:"Descripcin",value:D.descripcion,onChange:U=>B({...D,descripcion:U.target.value})}),o.jsx(Se,{type:"number",step:"0.01",placeholder:"Monto",value:D.monto,onChange:U=>B({...D,monto:U.target.value}),className:"w-32"}),o.jsx(fe,{onClick:te,variant:"outline",children:o.jsx(cr,{className:"size-4"})})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"font-semibold",children:"Historial de Pagos"}),E.pagos&&E.pagos.length>0?o.jsx("div",{className:"space-y-2",children:E.pagos.map(U=>o.jsx("div",{className:"bg-gray-50 p-3 rounded-lg text-sm",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold",children:Kr(U.monto)}),o.jsxs("div",{className:"text-gray-600",children:[new Date(U.fecha_pago).toLocaleDateString("es-ES")," - ",U.forma_pago]}),U.referencia_pago&&o.jsxs("div",{className:"text-xs text-gray-500",children:["Ref: ",U.referencia_pago]})]}),o.jsx(Dt,{variant:"default",children:"Pagado"})]})},U.id_pago))}):o.jsx("p",{className:"text-sm text-gray-500",children:"No hay pagos registrados"})]})]}),o.jsx(Rr,{children:o.jsx(fe,{variant:"outline",onClick:()=>P(!1),children:"Cerrar"})})]})})]})}var jy,qA;function yn(){if(qA)return jy;qA=1;var e=Array.isArray;return jy=e,jy}var Sy,UA;function U4(){if(UA)return Sy;UA=1;var e=typeof Xf=="object"&&Xf&&Xf.Object===Object&&Xf;return Sy=e,Sy}var Ey,VA;function Ja(){if(VA)return Ey;VA=1;var e=U4(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Ey=r,Ey}var Ny,WA;function Md(){if(WA)return Ny;WA=1;var e=Ja(),t=e.Symbol;return Ny=t,Ny}var Cy,HA;function oZ(){if(HA)return Cy;HA=1;var e=Md(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function i(s){var c=r.call(s,a),d=s[a];try{s[a]=void 0;var f=!0}catch{}var p=n.call(s);return f&&(c?s[a]=d:delete s[a]),p}return Cy=i,Cy}var Ay,GA;function sZ(){if(GA)return Ay;GA=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return Ay=r,Ay}var Py,KA;function Fi(){if(KA)return Py;KA=1;var e=Md(),t=oZ(),r=sZ(),n="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function s(c){return c==null?c===void 0?a:n:i&&i in Object(c)?t(c):r(c)}return Py=s,Py}var Oy,YA;function Bi(){if(YA)return Oy;YA=1;function e(t){return t!=null&&typeof t=="object"}return Oy=e,Oy}var ky,XA;function _c(){if(XA)return ky;XA=1;var e=Fi(),t=Bi(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return ky=n,ky}var Ty,JA;function OS(){if(JA)return Ty;JA=1;var e=yn(),t=_c(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){if(e(i))return!1;var c=typeof i;return c=="number"||c=="symbol"||c=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||s!=null&&i in Object(s)}return Ty=a,Ty}var Ry,QA;function ko(){if(QA)return Ry;QA=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Ry=e,Ry}var Iy,ZA;function kS(){if(ZA)return Iy;ZA=1;var e=Fi(),t=ko(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(c){if(!t(c))return!1;var d=e(c);return d==n||d==a||d==r||d==i}return Iy=s,Iy}var My,eP;function lZ(){if(eP)return My;eP=1;var e=Ja(),t=e["__core-js_shared__"];return My=t,My}var Dy,tP;function cZ(){if(tP)return Dy;tP=1;var e=lZ(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return Dy=r,Dy}var $y,rP;function V4(){if(rP)return $y;rP=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return $y=r,$y}var Ly,nP;function uZ(){if(nP)return Ly;nP=1;var e=kS(),t=cZ(),r=ko(),n=V4(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,d=s.toString,f=c.hasOwnProperty,p=RegExp("^"+d.call(f).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(g){if(!r(g)||t(g))return!1;var x=e(g)?p:i;return x.test(n(g))}return Ly=h,Ly}var zy,aP;function dZ(){if(aP)return zy;aP=1;function e(t,r){return t?.[r]}return zy=e,zy}var Fy,iP;function ks(){if(iP)return Fy;iP=1;var e=uZ(),t=dZ();function r(n,a){var i=t(n,a);return e(i)?i:void 0}return Fy=r,Fy}var By,oP;function km(){if(oP)return By;oP=1;var e=ks(),t=e(Object,"create");return By=t,By}var qy,sP;function fZ(){if(sP)return qy;sP=1;var e=km();function t(){this.__data__=e?e(null):{},this.size=0}return qy=t,qy}var Uy,lP;function hZ(){if(lP)return Uy;lP=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Uy=e,Uy}var Vy,cP;function pZ(){if(cP)return Vy;cP=1;var e=km(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var s=this.__data__;if(e){var c=s[i];return c===t?void 0:c}return n.call(s,i)?s[i]:void 0}return Vy=a,Vy}var Wy,uP;function mZ(){if(uP)return Wy;uP=1;var e=km(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var i=this.__data__;return e?i[a]!==void 0:r.call(i,a)}return Wy=n,Wy}var Hy,dP;function gZ(){if(dP)return Hy;dP=1;var e=km(),t="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&a===void 0?t:a,this}return Hy=r,Hy}var Gy,fP;function vZ(){if(fP)return Gy;fP=1;var e=fZ(),t=hZ(),r=pZ(),n=mZ(),a=gZ();function i(s){var c=-1,d=s==null?0:s.length;for(this.clear();++c<d;){var f=s[c];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Gy=i,Gy}var Ky,hP;function yZ(){if(hP)return Ky;hP=1;function e(){this.__data__=[],this.size=0}return Ky=e,Ky}var Yy,pP;function TS(){if(pP)return Yy;pP=1;function e(t,r){return t===r||t!==t&&r!==r}return Yy=e,Yy}var Xy,mP;function Tm(){if(mP)return Xy;mP=1;var e=TS();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return Xy=t,Xy}var Jy,gP;function xZ(){if(gP)return Jy;gP=1;var e=Tm(),t=Array.prototype,r=t.splice;function n(a){var i=this.__data__,s=e(i,a);if(s<0)return!1;var c=i.length-1;return s==c?i.pop():r.call(i,s,1),--this.size,!0}return Jy=n,Jy}var Qy,vP;function bZ(){if(vP)return Qy;vP=1;var e=Tm();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return Qy=t,Qy}var Zy,yP;function wZ(){if(yP)return Zy;yP=1;var e=Tm();function t(r){return e(this.__data__,r)>-1}return Zy=t,Zy}var ex,xP;function _Z(){if(xP)return ex;xP=1;var e=Tm();function t(r,n){var a=this.__data__,i=e(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return ex=t,ex}var tx,bP;function Rm(){if(bP)return tx;bP=1;var e=yZ(),t=xZ(),r=bZ(),n=wZ(),a=_Z();function i(s){var c=-1,d=s==null?0:s.length;for(this.clear();++c<d;){var f=s[c];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,tx=i,tx}var rx,wP;function RS(){if(wP)return rx;wP=1;var e=ks(),t=Ja(),r=e(t,"Map");return rx=r,rx}var nx,_P;function jZ(){if(_P)return nx;_P=1;var e=vZ(),t=Rm(),r=RS();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return nx=n,nx}var ax,jP;function SZ(){if(jP)return ax;jP=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return ax=e,ax}var ix,SP;function Im(){if(SP)return ix;SP=1;var e=SZ();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return ix=t,ix}var ox,EP;function EZ(){if(EP)return ox;EP=1;var e=Im();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return ox=t,ox}var sx,NP;function NZ(){if(NP)return sx;NP=1;var e=Im();function t(r){return e(this,r).get(r)}return sx=t,sx}var lx,CP;function CZ(){if(CP)return lx;CP=1;var e=Im();function t(r){return e(this,r).has(r)}return lx=t,lx}var cx,AP;function AZ(){if(AP)return cx;AP=1;var e=Im();function t(r,n){var a=e(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return cx=t,cx}var ux,PP;function IS(){if(PP)return ux;PP=1;var e=jZ(),t=EZ(),r=NZ(),n=CZ(),a=AZ();function i(s){var c=-1,d=s==null?0:s.length;for(this.clear();++c<d;){var f=s[c];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,ux=i,ux}var dx,OP;function W4(){if(OP)return dx;OP=1;var e=IS(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var i=function(){var s=arguments,c=a?a.apply(this,s):s[0],d=i.cache;if(d.has(c))return d.get(c);var f=n.apply(this,s);return i.cache=d.set(c,f)||d,f};return i.cache=new(r.Cache||e),i}return r.Cache=e,dx=r,dx}var fx,kP;function PZ(){if(kP)return fx;kP=1;var e=W4(),t=500;function r(n){var a=e(n,function(s){return i.size===t&&i.clear(),s}),i=a.cache;return a}return fx=r,fx}var hx,TP;function OZ(){if(TP)return hx;TP=1;var e=PZ(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(t,function(s,c,d,f){i.push(d?f.replace(r,"$1"):c||s)}),i});return hx=n,hx}var px,RP;function MS(){if(RP)return px;RP=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=Array(a);++n<a;)i[n]=r(t[n],n,t);return i}return px=e,px}var mx,IP;function kZ(){if(IP)return mx;IP=1;var e=Md(),t=MS(),r=yn(),n=_c(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function s(c){if(typeof c=="string")return c;if(r(c))return t(c,s)+"";if(n(c))return i?i.call(c):"";var d=c+"";return d=="0"&&1/c==-1/0?"-0":d}return mx=s,mx}var gx,MP;function H4(){if(MP)return gx;MP=1;var e=kZ();function t(r){return r==null?"":e(r)}return gx=t,gx}var vx,DP;function G4(){if(DP)return vx;DP=1;var e=yn(),t=OS(),r=OZ(),n=H4();function a(i,s){return e(i)?i:t(i,s)?[i]:r(n(i))}return vx=a,vx}var yx,$P;function Mm(){if($P)return yx;$P=1;var e=_c();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return yx=t,yx}var xx,LP;function DS(){if(LP)return xx;LP=1;var e=G4(),t=Mm();function r(n,a){a=e(a,n);for(var i=0,s=a.length;n!=null&&i<s;)n=n[t(a[i++])];return i&&i==s?n:void 0}return xx=r,xx}var bx,zP;function K4(){if(zP)return bx;zP=1;var e=DS();function t(r,n,a){var i=r==null?void 0:e(r,n);return i===void 0?a:i}return bx=t,bx}var TZ=K4();const $n=Ct(TZ);var wx,FP;function RZ(){if(FP)return wx;FP=1;function e(t){return t==null}return wx=e,wx}var IZ=RZ();const it=Ct(IZ);var _x,BP;function MZ(){if(BP)return _x;BP=1;var e=Fi(),t=yn(),r=Bi(),n="[object String]";function a(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==n}return _x=a,_x}var DZ=MZ();const _s=Ct(DZ);var $Z=kS();const at=Ct($Z);var LZ=ko();const jc=Ct(LZ);var jx={exports:{}},Et={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qP;function zZ(){if(qP)return Et;qP=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),_;_=Symbol.for("react.module.reference");function b(v){if(typeof v=="object"&&v!==null){var j=v.$$typeof;switch(j){case e:switch(v=v.type,v){case r:case a:case n:case f:case p:return v;default:switch(v=v&&v.$$typeof,v){case c:case s:case d:case g:case h:case i:return v;default:return j}}case t:return j}}}return Et.ContextConsumer=s,Et.ContextProvider=i,Et.Element=e,Et.ForwardRef=d,Et.Fragment=r,Et.Lazy=g,Et.Memo=h,Et.Portal=t,Et.Profiler=a,Et.StrictMode=n,Et.Suspense=f,Et.SuspenseList=p,Et.isAsyncMode=function(){return!1},Et.isConcurrentMode=function(){return!1},Et.isContextConsumer=function(v){return b(v)===s},Et.isContextProvider=function(v){return b(v)===i},Et.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===e},Et.isForwardRef=function(v){return b(v)===d},Et.isFragment=function(v){return b(v)===r},Et.isLazy=function(v){return b(v)===g},Et.isMemo=function(v){return b(v)===h},Et.isPortal=function(v){return b(v)===t},Et.isProfiler=function(v){return b(v)===a},Et.isStrictMode=function(v){return b(v)===n},Et.isSuspense=function(v){return b(v)===f},Et.isSuspenseList=function(v){return b(v)===p},Et.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===a||v===n||v===f||v===p||v===x||typeof v=="object"&&v!==null&&(v.$$typeof===g||v.$$typeof===h||v.$$typeof===i||v.$$typeof===s||v.$$typeof===d||v.$$typeof===_||v.getModuleId!==void 0)},Et.typeOf=b,Et}var UP;function FZ(){return UP||(UP=1,jx.exports=zZ()),jx.exports}var BZ=FZ(),Sx,VP;function Y4(){if(VP)return Sx;VP=1;var e=Fi(),t=Bi(),r="[object Number]";function n(a){return typeof a=="number"||t(a)&&e(a)==r}return Sx=n,Sx}var Ex,WP;function qZ(){if(WP)return Ex;WP=1;var e=Y4();function t(r){return e(r)&&r!=+r}return Ex=t,Ex}var UZ=qZ();const Dd=Ct(UZ);var VZ=Y4();const WZ=Ct(VZ);var rn=function(t){return t===0?0:t>0?1:-1},cs=function(t){return _s(t)&&t.indexOf("%")===t.length-1},Ne=function(t){return WZ(t)&&!Dd(t)},HZ=function(t){return it(t)},br=function(t){return Ne(t)||_s(t)},GZ=0,Sc=function(t){var r=++GZ;return"".concat(t||"").concat(r)},nn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ne(t)&&!_s(t))return n;var i;if(cs(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return Dd(i)&&(i=n),a&&i>r&&(i=r),i},yo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},KZ=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Tn=function(t,r){return Ne(t)&&Ne(r)?function(n){return t+n*(r-t)}:function(){return r}};function Qh(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):$n(n,t))===r})}var YZ=function(t,r){return Ne(t)&&Ne(r)?t-r:_s(t)&&_s(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Ml(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function s_(e){"@babel/helpers - typeof";return s_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s_(e)}var XZ=["viewBox","children"],JZ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],HP=["points","pathLength"],Nx={svg:XZ,polygon:HP,polyline:HP},$S=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Zh=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),!jc(n))return null;var a={};return Object.keys(n).forEach(function(i){$S.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},QZ=function(t,r,n){return function(a){return t(r,n,a),null}},js=function(t,r,n){if(!jc(t)||s_(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];$S.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=QZ(s,r,n))}),a},ZZ=["children"],eee=["children"];function GP(e,t){if(e==null)return{};var r=tee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function l_(e){"@babel/helpers - typeof";return l_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l_(e)}var KP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},xi=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},YP=null,Cx=null,LS=function e(t){if(t===YP&&Array.isArray(Cx))return Cx;var r=[];return w.Children.forEach(t,function(n){it(n)||(BZ.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Cx=r,YP=t,r};function Ln(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return xi(a)}):n=[xi(t)],LS(e).forEach(function(a){var i=$n(a,"type.displayName")||$n(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Pn(e,t){var r=Ln(e,t);return r&&r[0]}var XP=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Ne(n)||n<=0||!Ne(a)||a<=0)},ree=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],nee=function(t){return t&&t.type&&_s(t.type)&&ree.indexOf(t.type)>=0},aee=function(t){return t&&l_(t)==="object"&&"clipDot"in t},iee=function(t,r,n,a){var i,s=(i=Nx?.[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!at(t)&&(a&&s.includes(r)||JZ.includes(r))||n&&$S.includes(r)},Ye=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(w.isValidElement(t)&&(a=t.props),!jc(a))return null;var i={};return Object.keys(a).forEach(function(s){var c;iee((c=a)===null||c===void 0?void 0:c[s],s,r,n)&&(i[s]=a[s])}),i},c_=function e(t,r){if(t===r)return!0;var n=w.Children.count(t);if(n!==w.Children.count(r))return!1;if(n===0)return!0;if(n===1)return JP(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!JP(i,s))return!1}return!0},JP=function(t,r){if(it(t)&&it(r))return!0;if(!it(t)&&!it(r)){var n=t.props||{},a=n.children,i=GP(n,ZZ),s=r.props||{},c=s.children,d=GP(s,eee);return a&&c?Ml(i,d)&&c_(a,c):!a&&!c?Ml(i,d):!1}return!1},QP=function(t,r){var n=[],a={};return LS(t).forEach(function(i,s){if(nee(i))n.push(i);else if(i){var c=xi(i.type),d=r[c]||{},f=d.handler,p=d.once;if(f&&(!p||!a[c])){var h=f(i,c,s);n.push(h),a[c]=!0}}}),n},oee=function(t){var r=t&&t.type;return r&&KP[r]?KP[r]:null},see=function(t,r){return LS(r).indexOf(t)},lee=["children","width","height","viewBox","className","style","title","desc"];function u_(){return u_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u_.apply(this,arguments)}function cee(e,t){if(e==null)return{};var r=uee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function d_(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,c=e.title,d=e.desc,f=cee(e,lee),p=a||{width:r,height:n,x:0,y:0},h=st("recharts-surface",i);return $.createElement("svg",u_({},Ye(f,!0,"svg"),{className:h,width:r,height:n,style:s,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),$.createElement("title",null,c),$.createElement("desc",null,d),t)}var dee=["children","className"];function f_(){return f_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f_.apply(this,arguments)}function fee(e,t){if(e==null)return{};var r=hee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var jt=$.forwardRef(function(e,t){var r=e.children,n=e.className,a=fee(e,dee),i=st("recharts-layer",n);return $.createElement("g",f_({className:i},Ye(a,!0),{ref:t}),r)}),Ea=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},Ax,ZP;function pee(){if(ZP)return Ax;ZP=1;function e(t,r,n){var a=-1,i=t.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(i);++a<i;)s[a]=t[a+r];return s}return Ax=e,Ax}var Px,eO;function mee(){if(eO)return Px;eO=1;var e=pee();function t(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:e(r,n,a)}return Px=t,Px}var Ox,tO;function X4(){if(tO)return Ox;tO=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",s="\\u200d",c=RegExp("["+s+e+a+i+"]");function d(f){return c.test(f)}return Ox=d,Ox}var kx,rO;function gee(){if(rO)return kx;rO=1;function e(t){return t.split("")}return kx=e,kx}var Tx,nO;function vee(){if(nO)return Tx;nO=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",s="["+e+"]",c="["+a+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+c+"|"+d+")",p="[^"+e+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",_=f+"?",b="["+i+"]?",v="(?:"+x+"(?:"+[p,h,g].join("|")+")"+b+_+")*",j=b+_+v,S="(?:"+[p+c+"?",c,h,g,s].join("|")+")",A=RegExp(d+"(?="+d+")|"+S+j,"g");function P(E){return E.match(A)||[]}return Tx=P,Tx}var Rx,aO;function yee(){if(aO)return Rx;aO=1;var e=gee(),t=X4(),r=vee();function n(a){return t(a)?r(a):e(a)}return Rx=n,Rx}var Ix,iO;function xee(){if(iO)return Ix;iO=1;var e=mee(),t=X4(),r=yee(),n=H4();function a(i){return function(s){s=n(s);var c=t(s)?r(s):void 0,d=c?c[0]:s.charAt(0),f=c?e(c,1).join(""):s.slice(1);return d[i]()+f}}return Ix=a,Ix}var Mx,oO;function bee(){if(oO)return Mx;oO=1;var e=xee(),t=e("toUpperCase");return Mx=t,Mx}var wee=bee();const Dm=Ct(wee);function Mt(e){return function(){return e}}const J4=Math.cos,ep=Math.sin,ka=Math.sqrt,tp=Math.PI,$m=2*tp,h_=Math.PI,p_=2*h_,rs=1e-6,_ee=p_-rs;function Q4(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function jee(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Q4;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class See{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Q4:jee(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,c=this._y1,d=n-t,f=a-r,p=s-t,h=c-r,g=p*p+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>rs)if(!(Math.abs(h*d-f*p)>rs)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let x=n-s,_=a-c,b=d*d+f*f,v=x*x+_*_,j=Math.sqrt(b),S=Math.sqrt(g),A=i*Math.tan((h_-Math.acos((b+g-v)/(2*j*S)))/2),P=A/S,E=A/j;Math.abs(P-1)>rs&&this._append`L${t+P*p},${r+P*h}`,this._append`A${i},${i},0,0,${+(h*x>p*_)},${this._x1=t+E*d},${this._y1=r+E*f}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(a),d=n*Math.sin(a),f=t+c,p=r+d,h=1^s,g=s?a-i:i-a;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>rs||Math.abs(this._y1-p)>rs)&&this._append`L${f},${p}`,n&&(g<0&&(g=g%p_+p_),g>_ee?this._append`A${n},${n},0,1,${h},${t-c},${r-d}A${n},${n},0,1,${h},${this._x1=f},${this._y1=p}`:g>rs&&this._append`A${n},${n},0,${+(g>=h_)},${h},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function zS(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new See(t)}function FS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Z4(e){this._context=e}Z4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Lm(e){return new Z4(e)}function ez(e){return e[0]}function tz(e){return e[1]}function rz(e,t){var r=Mt(!0),n=null,a=Lm,i=null,s=zS(c);e=typeof e=="function"?e:e===void 0?ez:Mt(e),t=typeof t=="function"?t:t===void 0?tz:Mt(t);function c(d){var f,p=(d=FS(d)).length,h,g=!1,x;for(n==null&&(i=a(x=s())),f=0;f<=p;++f)!(f<p&&r(h=d[f],f,d))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(h,f,d),+t(h,f,d));if(x)return i=null,x+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Mt(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Mt(+d),c):t},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Mt(!!d),c):r},c.curve=function(d){return arguments.length?(a=d,n!=null&&(i=a(n)),c):a},c.context=function(d){return arguments.length?(d==null?n=i=null:i=a(n=d),c):n},c}function dh(e,t,r){var n=null,a=Mt(!0),i=null,s=Lm,c=null,d=zS(f);e=typeof e=="function"?e:e===void 0?ez:Mt(+e),t=typeof t=="function"?t:Mt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?tz:Mt(+r);function f(h){var g,x,_,b=(h=FS(h)).length,v,j=!1,S,A=new Array(b),P=new Array(b);for(i==null&&(c=s(S=d())),g=0;g<=b;++g){if(!(g<b&&a(v=h[g],g,h))===j)if(j=!j)x=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),_=g-1;_>=x;--_)c.point(A[_],P[_]);c.lineEnd(),c.areaEnd()}j&&(A[g]=+e(v,g,h),P[g]=+t(v,g,h),c.point(n?+n(v,g,h):A[g],r?+r(v,g,h):P[g]))}if(S)return c=null,S+""||null}function p(){return rz().defined(a).curve(s).context(i)}return f.x=function(h){return arguments.length?(e=typeof h=="function"?h:Mt(+h),n=null,f):e},f.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Mt(+h),f):e},f.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Mt(+h),f):n},f.y=function(h){return arguments.length?(t=typeof h=="function"?h:Mt(+h),r=null,f):t},f.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Mt(+h),f):t},f.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Mt(+h),f):r},f.lineX0=f.lineY0=function(){return p().x(e).y(t)},f.lineY1=function(){return p().x(e).y(r)},f.lineX1=function(){return p().x(n).y(t)},f.defined=function(h){return arguments.length?(a=typeof h=="function"?h:Mt(!!h),f):a},f.curve=function(h){return arguments.length?(s=h,i!=null&&(c=s(i)),f):s},f.context=function(h){return arguments.length?(h==null?i=c=null:c=s(i=h),f):i},f}class nz{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Eee(e){return new nz(e,!0)}function Nee(e){return new nz(e,!1)}const BS={draw(e,t){const r=ka(t/tp);e.moveTo(r,0),e.arc(0,0,r,0,$m)}},Cee={draw(e,t){const r=ka(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},az=ka(1/3),Aee=az*2,Pee={draw(e,t){const r=ka(t/Aee),n=r*az;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Oee={draw(e,t){const r=ka(t),n=-r/2;e.rect(n,n,r,r)}},kee=.8908130915292852,iz=ep(tp/10)/ep(7*tp/10),Tee=ep($m/10)*iz,Ree=-J4($m/10)*iz,Iee={draw(e,t){const r=ka(t*kee),n=Tee*r,a=Ree*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=$m*i/5,c=J4(s),d=ep(s);e.lineTo(d*r,-c*r),e.lineTo(c*n-d*a,d*n+c*a)}e.closePath()}},Dx=ka(3),Mee={draw(e,t){const r=-ka(t/(Dx*3));e.moveTo(0,r*2),e.lineTo(-Dx*r,-r),e.lineTo(Dx*r,-r),e.closePath()}},Jn=-.5,Qn=ka(3)/2,m_=1/ka(12),Dee=(m_/2+1)*3,$ee={draw(e,t){const r=ka(t/Dee),n=r/2,a=r*m_,i=n,s=r*m_+r,c=-i,d=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(c,d),e.lineTo(Jn*n-Qn*a,Qn*n+Jn*a),e.lineTo(Jn*i-Qn*s,Qn*i+Jn*s),e.lineTo(Jn*c-Qn*d,Qn*c+Jn*d),e.lineTo(Jn*n+Qn*a,Jn*a-Qn*n),e.lineTo(Jn*i+Qn*s,Jn*s-Qn*i),e.lineTo(Jn*c+Qn*d,Jn*d-Qn*c),e.closePath()}};function Lee(e,t){let r=null,n=zS(a);e=typeof e=="function"?e:Mt(e||BS),t=typeof t=="function"?t:Mt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Mt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Mt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function rp(){}function np(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function oz(e){this._context=e}oz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:np(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:np(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zee(e){return new oz(e)}function sz(e){this._context=e}sz.prototype={areaStart:rp,areaEnd:rp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:np(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Fee(e){return new sz(e)}function lz(e){this._context=e}lz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:np(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Bee(e){return new lz(e)}function cz(e){this._context=e}cz.prototype={areaStart:rp,areaEnd:rp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function qee(e){return new cz(e)}function sO(e){return e<0?-1:1}function lO(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),c=(i*a+s*n)/(n+a);return(sO(i)+sO(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(c))||0}function cO(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function $x(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,c=(i-n)/3;e._context.bezierCurveTo(n+c,a+c*t,i-c,s-c*r,i,s)}function ap(e){this._context=e}ap.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$x(this,this._t0,cO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,$x(this,cO(this,r=lO(this,e,t)),r);break;default:$x(this,this._t0,r=lO(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function uz(e){this._context=new dz(e)}(uz.prototype=Object.create(ap.prototype)).point=function(e,t){ap.prototype.point.call(this,t,e)};function dz(e){this._context=e}dz.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Uee(e){return new ap(e)}function Vee(e){return new uz(e)}function fz(e){this._context=e}fz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=uO(e),a=uO(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function uO(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Wee(e){return new fz(e)}function zm(e,t){this._context=e,this._t=t}zm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Hee(e){return new zm(e,.5)}function Gee(e){return new zm(e,0)}function Kee(e){return new zm(e,1)}function Bl(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,c=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<c;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function g_(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Yee(e,t){return e[t]}function Xee(e){const t=[];return t.key=e,t}function Jee(){var e=Mt([]),t=g_,r=Bl,n=Yee;function a(i){var s=Array.from(e.apply(this,arguments),Xee),c,d=s.length,f=-1,p;for(const h of i)for(c=0,++f;c<d;++c)(s[c][f]=[0,+n(h,s[c].key,f,i)]).data=h;for(c=0,p=FS(t(s));c<d;++c)s[p[c]].index=c;return r(s,p),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Mt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Mt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?g_:typeof i=="function"?i:Mt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Bl,a):r},a}function Qee(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}Bl(e,t)}}function Zee(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,c=0;s<a;++s)c+=e[s][r][1]||0;n[r][1]+=n[r][0]=-c/2}Bl(e,t)}}function ete(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var c=0,d=0,f=0;c<s;++c){for(var p=e[t[c]],h=p[n][1]||0,g=p[n-1][1]||0,x=(h-g)/2,_=0;_<c;++_){var b=e[t[_]],v=b[n][1]||0,j=b[n-1][1]||0;x+=v-j}d+=h,f+=x*h}a[n-1][1]+=a[n-1][0]=r,d&&(r-=f/d)}a[n-1][1]+=a[n-1][0]=r,Bl(e,t)}}function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}var tte=["type","size","sizeType"];function v_(){return v_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v_.apply(this,arguments)}function dO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(r),!0).forEach(function(n){rte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rte(e,t,r){return t=nte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nte(e){var t=ate(e,"string");return Gu(t)=="symbol"?t:t+""}function ate(e,t){if(Gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ite(e,t){if(e==null)return{};var r=ote(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ote(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var hz={symbolCircle:BS,symbolCross:Cee,symbolDiamond:Pee,symbolSquare:Oee,symbolStar:Iee,symbolTriangle:Mee,symbolWye:$ee},ste=Math.PI/180,lte=function(t){var r="symbol".concat(Dm(t));return hz[r]||BS},cte=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*ste;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},ute=function(t,r){hz["symbol".concat(Dm(t))]=r},qS=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,c=s===void 0?"area":s,d=ite(t,tte),f=fO(fO({},d),{},{type:n,size:i,sizeType:c}),p=function(){var v=lte(n),j=Lee().type(v).size(cte(i,c,n));return j()},h=f.className,g=f.cx,x=f.cy,_=Ye(f,!0);return g===+g&&x===+x&&i===+i?$.createElement("path",v_({},_,{className:st("recharts-symbols",h),transform:"translate(".concat(g,", ").concat(x,")"),d:p()})):null};qS.registerSymbol=ute;function ql(e){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(e)}function y_(){return y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y_.apply(this,arguments)}function hO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dte(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(r),!0).forEach(function(n){Ku(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mz(n.key),n)}}function pte(e,t,r){return t&&hte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mte(e,t,r){return t=ip(t),gte(e,pz()?Reflect.construct(t,r||[],ip(e).constructor):t.apply(e,r))}function gte(e,t){if(t&&(ql(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vte(e)}function vte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pz=function(){return!!e})()}function ip(e){return ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ip(e)}function yte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x_(e,t)}function x_(e,t){return x_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},x_(e,t)}function Ku(e,t,r){return t=mz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mz(e){var t=xte(e,"string");return ql(t)=="symbol"?t:t+""}function xte(e,t){if(ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zn=32,US=(function(e){function t(){return fte(this,t),mte(this,t,arguments)}return yte(t,e),pte(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Zn/2,s=Zn/6,c=Zn/3,d=n.inactive?a:n.color;if(n.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Zn,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(c,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*c,",").concat(i,`
            H`).concat(Zn,"M").concat(2*c,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(c,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return $.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Zn/8,"h").concat(Zn,"v").concat(Zn*3/4,"h").concat(-Zn,"z"),className:"recharts-legend-icon"});if($.isValidElement(n.legendIcon)){var f=dte({},n);return delete f.legendIcon,$.cloneElement(n.legendIcon,f)}return $.createElement(qS,{fill:d,cx:i,cy:i,size:Zn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,c=a.layout,d=a.formatter,f=a.inactiveColor,p={x:0,y:0,width:Zn,height:Zn},h={display:c==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(x,_){var b=x.formatter||d,v=st(Ku(Ku({"recharts-legend-item":!0},"legend-item-".concat(_),!0),"inactive",x.inactive));if(x.type==="none")return null;var j=at(x.value)?null:x.value;Ea(!at(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=x.inactive?f:x.color;return $.createElement("li",y_({className:v,style:h,key:"legend-item-".concat(_)},js(n.props,x,_)),$.createElement(d_,{width:s,height:s,viewBox:p,style:g},n.renderIcon(x)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},b?b(j,x,_):j))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var c={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])})(w.PureComponent);Ku(US,"displayName","Legend");Ku(US,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Lx,pO;function bte(){if(pO)return Lx;pO=1;var e=Rm();function t(){this.__data__=new e,this.size=0}return Lx=t,Lx}var zx,mO;function wte(){if(mO)return zx;mO=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return zx=e,zx}var Fx,gO;function _te(){if(gO)return Fx;gO=1;function e(t){return this.__data__.get(t)}return Fx=e,Fx}var Bx,vO;function jte(){if(vO)return Bx;vO=1;function e(t){return this.__data__.has(t)}return Bx=e,Bx}var qx,yO;function Ste(){if(yO)return qx;yO=1;var e=Rm(),t=RS(),r=IS(),n=200;function a(i,s){var c=this.__data__;if(c instanceof e){var d=c.__data__;if(!t||d.length<n-1)return d.push([i,s]),this.size=++c.size,this;c=this.__data__=new r(d)}return c.set(i,s),this.size=c.size,this}return qx=a,qx}var Ux,xO;function gz(){if(xO)return Ux;xO=1;var e=Rm(),t=bte(),r=wte(),n=_te(),a=jte(),i=Ste();function s(c){var d=this.__data__=new e(c);this.size=d.size}return s.prototype.clear=t,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,Ux=s,Ux}var Vx,bO;function Ete(){if(bO)return Vx;bO=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Vx=t,Vx}var Wx,wO;function Nte(){if(wO)return Wx;wO=1;function e(t){return this.__data__.has(t)}return Wx=e,Wx}var Hx,_O;function vz(){if(_O)return Hx;_O=1;var e=IS(),t=Ete(),r=Nte();function n(a){var i=-1,s=a==null?0:a.length;for(this.__data__=new e;++i<s;)this.add(a[i])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,Hx=n,Hx}var Gx,jO;function yz(){if(jO)return Gx;jO=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(t[n],n,t))return!0;return!1}return Gx=e,Gx}var Kx,SO;function xz(){if(SO)return Kx;SO=1;function e(t,r){return t.has(r)}return Kx=e,Kx}var Yx,EO;function bz(){if(EO)return Yx;EO=1;var e=vz(),t=yz(),r=xz(),n=1,a=2;function i(s,c,d,f,p,h){var g=d&n,x=s.length,_=c.length;if(x!=_&&!(g&&_>x))return!1;var b=h.get(s),v=h.get(c);if(b&&v)return b==c&&v==s;var j=-1,S=!0,A=d&a?new e:void 0;for(h.set(s,c),h.set(c,s);++j<x;){var P=s[j],E=c[j];if(f)var O=g?f(E,P,j,c,s,h):f(P,E,j,s,c,h);if(O!==void 0){if(O)continue;S=!1;break}if(A){if(!t(c,function(C,T){if(!r(A,T)&&(P===C||p(P,C,d,f,h)))return A.push(T)})){S=!1;break}}else if(!(P===E||p(P,E,d,f,h))){S=!1;break}}return h.delete(s),h.delete(c),S}return Yx=i,Yx}var Xx,NO;function Cte(){if(NO)return Xx;NO=1;var e=Ja(),t=e.Uint8Array;return Xx=t,Xx}var Jx,CO;function Ate(){if(CO)return Jx;CO=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a,i){n[++r]=[i,a]}),n}return Jx=e,Jx}var Qx,AO;function VS(){if(AO)return Qx;AO=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a){n[++r]=a}),n}return Qx=e,Qx}var Zx,PO;function Pte(){if(PO)return Zx;PO=1;var e=Md(),t=Cte(),r=TS(),n=bz(),a=Ate(),i=VS(),s=1,c=2,d="[object Boolean]",f="[object Date]",p="[object Error]",h="[object Map]",g="[object Number]",x="[object RegExp]",_="[object Set]",b="[object String]",v="[object Symbol]",j="[object ArrayBuffer]",S="[object DataView]",A=e?e.prototype:void 0,P=A?A.valueOf:void 0;function E(O,C,T,I,R,D,B){switch(T){case S:if(O.byteLength!=C.byteLength||O.byteOffset!=C.byteOffset)return!1;O=O.buffer,C=C.buffer;case j:return!(O.byteLength!=C.byteLength||!D(new t(O),new t(C)));case d:case f:case g:return r(+O,+C);case p:return O.name==C.name&&O.message==C.message;case x:case b:return O==C+"";case h:var W=a;case _:var Y=I&s;if(W||(W=i),O.size!=C.size&&!Y)return!1;var J=B.get(O);if(J)return J==C;I|=c,B.set(O,C);var F=n(W(O),W(C),I,R,D,B);return B.delete(O),F;case v:if(P)return P.call(O)==P.call(C)}return!1}return Zx=E,Zx}var e0,OO;function wz(){if(OO)return e0;OO=1;function e(t,r){for(var n=-1,a=r.length,i=t.length;++n<a;)t[i+n]=r[n];return t}return e0=e,e0}var t0,kO;function Ote(){if(kO)return t0;kO=1;var e=wz(),t=yn();function r(n,a,i){var s=a(n);return t(n)?s:e(s,i(n))}return t0=r,t0}var r0,TO;function kte(){if(TO)return r0;TO=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=0,s=[];++n<a;){var c=t[n];r(c,n,t)&&(s[i++]=c)}return s}return r0=e,r0}var n0,RO;function Tte(){if(RO)return n0;RO=1;function e(){return[]}return n0=e,n0}var a0,IO;function Rte(){if(IO)return a0;IO=1;var e=kte(),t=Tte(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(s){return s==null?[]:(s=Object(s),e(a(s),function(c){return n.call(s,c)}))}:t;return a0=i,a0}var i0,MO;function Ite(){if(MO)return i0;MO=1;function e(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}return i0=e,i0}var o0,DO;function Mte(){if(DO)return o0;DO=1;var e=Fi(),t=Bi(),r="[object Arguments]";function n(a){return t(a)&&e(a)==r}return o0=n,o0}var s0,$O;function WS(){if($O)return s0;$O=1;var e=Mte(),t=Bi(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(s){return t(s)&&n.call(s,"callee")&&!a.call(s,"callee")};return s0=i,s0}var Su={exports:{}},l0,LO;function Dte(){if(LO)return l0;LO=1;function e(){return!1}return l0=e,l0}Su.exports;var zO;function _z(){return zO||(zO=1,(function(e,t){var r=Ja(),n=Dte(),a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,c=s?r.Buffer:void 0,d=c?c.isBuffer:void 0,f=d||n;e.exports=f})(Su,Su.exports)),Su.exports}var c0,FO;function HS(){if(FO)return c0;FO=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??e,!!a&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return c0=r,c0}var u0,BO;function GS(){if(BO)return u0;BO=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return u0=t,u0}var d0,qO;function $te(){if(qO)return d0;qO=1;var e=Fi(),t=GS(),r=Bi(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",s="[object Date]",c="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",h="[object Object]",g="[object RegExp]",x="[object Set]",_="[object String]",b="[object WeakMap]",v="[object ArrayBuffer]",j="[object DataView]",S="[object Float32Array]",A="[object Float64Array]",P="[object Int8Array]",E="[object Int16Array]",O="[object Int32Array]",C="[object Uint8Array]",T="[object Uint8ClampedArray]",I="[object Uint16Array]",R="[object Uint32Array]",D={};D[S]=D[A]=D[P]=D[E]=D[O]=D[C]=D[T]=D[I]=D[R]=!0,D[n]=D[a]=D[v]=D[i]=D[j]=D[s]=D[c]=D[d]=D[f]=D[p]=D[h]=D[g]=D[x]=D[_]=D[b]=!1;function B(W){return r(W)&&t(W.length)&&!!D[e(W)]}return d0=B,d0}var f0,UO;function jz(){if(UO)return f0;UO=1;function e(t){return function(r){return t(r)}}return f0=e,f0}var Eu={exports:{}};Eu.exports;var VO;function Lte(){return VO||(VO=1,(function(e,t){var r=U4(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,c=(function(){try{var d=a&&a.require&&a.require("util").types;return d||s&&s.binding&&s.binding("util")}catch{}})();e.exports=c})(Eu,Eu.exports)),Eu.exports}var h0,WO;function Sz(){if(WO)return h0;WO=1;var e=$te(),t=jz(),r=Lte(),n=r&&r.isTypedArray,a=n?t(n):e;return h0=a,h0}var p0,HO;function zte(){if(HO)return p0;HO=1;var e=Ite(),t=WS(),r=yn(),n=_z(),a=HS(),i=Sz(),s=Object.prototype,c=s.hasOwnProperty;function d(f,p){var h=r(f),g=!h&&t(f),x=!h&&!g&&n(f),_=!h&&!g&&!x&&i(f),b=h||g||x||_,v=b?e(f.length,String):[],j=v.length;for(var S in f)(p||c.call(f,S))&&!(b&&(S=="length"||x&&(S=="offset"||S=="parent")||_&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||a(S,j)))&&v.push(S);return v}return p0=d,p0}var m0,GO;function Fte(){if(GO)return m0;GO=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||e;return r===a}return m0=t,m0}var g0,KO;function Ez(){if(KO)return g0;KO=1;function e(t,r){return function(n){return t(r(n))}}return g0=e,g0}var v0,YO;function Bte(){if(YO)return v0;YO=1;var e=Ez(),t=e(Object.keys,Object);return v0=t,v0}var y0,XO;function qte(){if(XO)return y0;XO=1;var e=Fte(),t=Bte(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!e(i))return t(i);var s=[];for(var c in Object(i))n.call(i,c)&&c!="constructor"&&s.push(c);return s}return y0=a,y0}var x0,JO;function $d(){if(JO)return x0;JO=1;var e=kS(),t=GS();function r(n){return n!=null&&t(n.length)&&!e(n)}return x0=r,x0}var b0,QO;function Fm(){if(QO)return b0;QO=1;var e=zte(),t=qte(),r=$d();function n(a){return r(a)?e(a):t(a)}return b0=n,b0}var w0,ZO;function Ute(){if(ZO)return w0;ZO=1;var e=Ote(),t=Rte(),r=Fm();function n(a){return e(a,r,t)}return w0=n,w0}var _0,ek;function Vte(){if(ek)return _0;ek=1;var e=Ute(),t=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,s,c,d,f,p){var h=c&t,g=e(i),x=g.length,_=e(s),b=_.length;if(x!=b&&!h)return!1;for(var v=x;v--;){var j=g[v];if(!(h?j in s:n.call(s,j)))return!1}var S=p.get(i),A=p.get(s);if(S&&A)return S==s&&A==i;var P=!0;p.set(i,s),p.set(s,i);for(var E=h;++v<x;){j=g[v];var O=i[j],C=s[j];if(d)var T=h?d(C,O,j,s,i,p):d(O,C,j,i,s,p);if(!(T===void 0?O===C||f(O,C,c,d,p):T)){P=!1;break}E||(E=j=="constructor")}if(P&&!E){var I=i.constructor,R=s.constructor;I!=R&&"constructor"in i&&"constructor"in s&&!(typeof I=="function"&&I instanceof I&&typeof R=="function"&&R instanceof R)&&(P=!1)}return p.delete(i),p.delete(s),P}return _0=a,_0}var j0,tk;function Wte(){if(tk)return j0;tk=1;var e=ks(),t=Ja(),r=e(t,"DataView");return j0=r,j0}var S0,rk;function Hte(){if(rk)return S0;rk=1;var e=ks(),t=Ja(),r=e(t,"Promise");return S0=r,S0}var E0,nk;function Nz(){if(nk)return E0;nk=1;var e=ks(),t=Ja(),r=e(t,"Set");return E0=r,E0}var N0,ak;function Gte(){if(ak)return N0;ak=1;var e=ks(),t=Ja(),r=e(t,"WeakMap");return N0=r,N0}var C0,ik;function Kte(){if(ik)return C0;ik=1;var e=Wte(),t=RS(),r=Hte(),n=Nz(),a=Gte(),i=Fi(),s=V4(),c="[object Map]",d="[object Object]",f="[object Promise]",p="[object Set]",h="[object WeakMap]",g="[object DataView]",x=s(e),_=s(t),b=s(r),v=s(n),j=s(a),S=i;return(e&&S(new e(new ArrayBuffer(1)))!=g||t&&S(new t)!=c||r&&S(r.resolve())!=f||n&&S(new n)!=p||a&&S(new a)!=h)&&(S=function(A){var P=i(A),E=P==d?A.constructor:void 0,O=E?s(E):"";if(O)switch(O){case x:return g;case _:return c;case b:return f;case v:return p;case j:return h}return P}),C0=S,C0}var A0,ok;function Yte(){if(ok)return A0;ok=1;var e=gz(),t=bz(),r=Pte(),n=Vte(),a=Kte(),i=yn(),s=_z(),c=Sz(),d=1,f="[object Arguments]",p="[object Array]",h="[object Object]",g=Object.prototype,x=g.hasOwnProperty;function _(b,v,j,S,A,P){var E=i(b),O=i(v),C=E?p:a(b),T=O?p:a(v);C=C==f?h:C,T=T==f?h:T;var I=C==h,R=T==h,D=C==T;if(D&&s(b)){if(!s(v))return!1;E=!0,I=!1}if(D&&!I)return P||(P=new e),E||c(b)?t(b,v,j,S,A,P):r(b,v,C,j,S,A,P);if(!(j&d)){var B=I&&x.call(b,"__wrapped__"),W=R&&x.call(v,"__wrapped__");if(B||W){var Y=B?b.value():b,J=W?v.value():v;return P||(P=new e),A(Y,J,j,S,P)}}return D?(P||(P=new e),n(b,v,j,S,A,P)):!1}return A0=_,A0}var P0,sk;function KS(){if(sk)return P0;sk=1;var e=Yte(),t=Bi();function r(n,a,i,s,c){return n===a?!0:n==null||a==null||!t(n)&&!t(a)?n!==n&&a!==a:e(n,a,i,s,r,c)}return P0=r,P0}var O0,lk;function Xte(){if(lk)return O0;lk=1;var e=gz(),t=KS(),r=1,n=2;function a(i,s,c,d){var f=c.length,p=f,h=!d;if(i==null)return!p;for(i=Object(i);f--;){var g=c[f];if(h&&g[2]?g[1]!==i[g[0]]:!(g[0]in i))return!1}for(;++f<p;){g=c[f];var x=g[0],_=i[x],b=g[1];if(h&&g[2]){if(_===void 0&&!(x in i))return!1}else{var v=new e;if(d)var j=d(_,b,x,i,s,v);if(!(j===void 0?t(b,_,r|n,d,v):j))return!1}}return!0}return O0=a,O0}var k0,ck;function Cz(){if(ck)return k0;ck=1;var e=ko();function t(r){return r===r&&!e(r)}return k0=t,k0}var T0,uk;function Jte(){if(uk)return T0;uk=1;var e=Cz(),t=Fm();function r(n){for(var a=t(n),i=a.length;i--;){var s=a[i],c=n[s];a[i]=[s,c,e(c)]}return a}return T0=r,T0}var R0,dk;function Az(){if(dk)return R0;dk=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return R0=e,R0}var I0,fk;function Qte(){if(fk)return I0;fk=1;var e=Xte(),t=Jte(),r=Az();function n(a){var i=t(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(s){return s===a||e(s,a,i)}}return I0=n,I0}var M0,hk;function Zte(){if(hk)return M0;hk=1;function e(t,r){return t!=null&&r in Object(t)}return M0=e,M0}var D0,pk;function ere(){if(pk)return D0;pk=1;var e=G4(),t=WS(),r=yn(),n=HS(),a=GS(),i=Mm();function s(c,d,f){d=e(d,c);for(var p=-1,h=d.length,g=!1;++p<h;){var x=i(d[p]);if(!(g=c!=null&&f(c,x)))break;c=c[x]}return g||++p!=h?g:(h=c==null?0:c.length,!!h&&a(h)&&n(x,h)&&(r(c)||t(c)))}return D0=s,D0}var $0,mk;function tre(){if(mk)return $0;mk=1;var e=Zte(),t=ere();function r(n,a){return n!=null&&t(n,a,e)}return $0=r,$0}var L0,gk;function rre(){if(gk)return L0;gk=1;var e=KS(),t=K4(),r=tre(),n=OS(),a=Cz(),i=Az(),s=Mm(),c=1,d=2;function f(p,h){return n(p)&&a(h)?i(s(p),h):function(g){var x=t(g,p);return x===void 0&&x===h?r(g,p):e(h,x,c|d)}}return L0=f,L0}var z0,vk;function Ec(){if(vk)return z0;vk=1;function e(t){return t}return z0=e,z0}var F0,yk;function nre(){if(yk)return F0;yk=1;function e(t){return function(r){return r?.[t]}}return F0=e,F0}var B0,xk;function are(){if(xk)return B0;xk=1;var e=DS();function t(r){return function(n){return e(n,r)}}return B0=t,B0}var q0,bk;function ire(){if(bk)return q0;bk=1;var e=nre(),t=are(),r=OS(),n=Mm();function a(i){return r(i)?e(n(i)):t(i)}return q0=a,q0}var U0,wk;function Qa(){if(wk)return U0;wk=1;var e=Qte(),t=rre(),r=Ec(),n=yn(),a=ire();function i(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?t(s[0],s[1]):e(s):a(s)}return U0=i,U0}var V0,_k;function Pz(){if(_k)return V0;_k=1;function e(t,r,n,a){for(var i=t.length,s=n+(a?1:-1);a?s--:++s<i;)if(r(t[s],s,t))return s;return-1}return V0=e,V0}var W0,jk;function ore(){if(jk)return W0;jk=1;function e(t){return t!==t}return W0=e,W0}var H0,Sk;function sre(){if(Sk)return H0;Sk=1;function e(t,r,n){for(var a=n-1,i=t.length;++a<i;)if(t[a]===r)return a;return-1}return H0=e,H0}var G0,Ek;function lre(){if(Ek)return G0;Ek=1;var e=Pz(),t=ore(),r=sre();function n(a,i,s){return i===i?r(a,i,s):e(a,t,s)}return G0=n,G0}var K0,Nk;function cre(){if(Nk)return K0;Nk=1;var e=lre();function t(r,n){var a=r==null?0:r.length;return!!a&&e(r,n,0)>-1}return K0=t,K0}var Y0,Ck;function ure(){if(Ck)return Y0;Ck=1;function e(t,r,n){for(var a=-1,i=t==null?0:t.length;++a<i;)if(n(r,t[a]))return!0;return!1}return Y0=e,Y0}var X0,Ak;function dre(){if(Ak)return X0;Ak=1;function e(){}return X0=e,X0}var J0,Pk;function fre(){if(Pk)return J0;Pk=1;var e=Nz(),t=dre(),r=VS(),n=1/0,a=e&&1/r(new e([,-0]))[1]==n?function(i){return new e(i)}:t;return J0=a,J0}var Q0,Ok;function hre(){if(Ok)return Q0;Ok=1;var e=vz(),t=cre(),r=ure(),n=xz(),a=fre(),i=VS(),s=200;function c(d,f,p){var h=-1,g=t,x=d.length,_=!0,b=[],v=b;if(p)_=!1,g=r;else if(x>=s){var j=f?null:a(d);if(j)return i(j);_=!1,g=n,v=new e}else v=f?[]:b;e:for(;++h<x;){var S=d[h],A=f?f(S):S;if(S=p||S!==0?S:0,_&&A===A){for(var P=v.length;P--;)if(v[P]===A)continue e;f&&v.push(A),b.push(S)}else g(v,A,p)||(v!==b&&v.push(A),b.push(S))}return b}return Q0=c,Q0}var Z0,kk;function pre(){if(kk)return Z0;kk=1;var e=Qa(),t=hre();function r(n,a){return n&&n.length?t(n,e(a,2)):[]}return Z0=r,Z0}var mre=pre();const Tk=Ct(mre);function Oz(e,t,r){return t===!0?Tk(e,r):at(t)?Tk(e,t):e}function Ul(e){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(e)}var gre=["ref"];function Rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rk(Object(r),!0).forEach(function(n){Bm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ik(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Tz(n.key),n)}}function yre(e,t,r){return t&&Ik(e.prototype,t),r&&Ik(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xre(e,t,r){return t=op(t),bre(e,kz()?Reflect.construct(t,r||[],op(e).constructor):t.apply(e,r))}function bre(e,t){if(t&&(Ul(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wre(e)}function wre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kz=function(){return!!e})()}function op(e){return op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},op(e)}function _re(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b_(e,t)}function b_(e,t){return b_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},b_(e,t)}function Bm(e,t,r){return t=Tz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tz(e){var t=jre(e,"string");return Ul(t)=="symbol"?t:t+""}function jre(e,t){if(Ul(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Sre(e,t){if(e==null)return{};var r=Ere(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ere(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Nre(e){return e.value}function Cre(e,t){if($.isValidElement(e))return $.cloneElement(e,t);if(typeof e=="function")return $.createElement(e,t);t.ref;var r=Sre(t,gre);return $.createElement(US,r)}var Mk=1,_o=(function(e){function t(){var r;vre(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=xre(this,t,[].concat(a)),Bm(r,"lastBoundingBox",{width:-1,height:-1}),r}return _re(t,e),yre(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Mk||Math.abs(a.height-this.lastBoundingBox.height)>Mk)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?fi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,c=a.verticalAlign,d=a.margin,f=a.chartWidth,p=a.chartHeight,h,g;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var x=this.getBBoxSnapshot();h={left:((f||0)-x.width)/2}}else h=s==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(c==="middle"){var _=this.getBBoxSnapshot();g={top:((p||0)-_.height)/2}}else g=c==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return fi(fi({},h),g)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,c=a.height,d=a.wrapperStyle,f=a.payloadUniqBy,p=a.payload,h=fi(fi({position:"absolute",width:s||"auto",height:c||"auto"},this.getDefaultPosition(d)),d);return $.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(x){n.wrapperNode=x}},Cre(i,fi(fi({},this.props),{},{payload:Oz(p,f,Nre)})))}}],[{key:"getWithHeight",value:function(n,a){var i=fi(fi({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&Ne(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])})(w.PureComponent);Bm(_o,"displayName","Legend");Bm(_o,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var eb,Dk;function Are(){if(Dk)return eb;Dk=1;var e=Md(),t=WS(),r=yn(),n=e?e.isConcatSpreadable:void 0;function a(i){return r(i)||t(i)||!!(n&&i&&i[n])}return eb=a,eb}var tb,$k;function Rz(){if($k)return tb;$k=1;var e=wz(),t=Are();function r(n,a,i,s,c){var d=-1,f=n.length;for(i||(i=t),c||(c=[]);++d<f;){var p=n[d];a>0&&i(p)?a>1?r(p,a-1,i,s,c):e(c,p):s||(c[c.length]=p)}return c}return tb=r,tb}var rb,Lk;function Pre(){if(Lk)return rb;Lk=1;function e(t){return function(r,n,a){for(var i=-1,s=Object(r),c=a(r),d=c.length;d--;){var f=c[t?d:++i];if(n(s[f],f,s)===!1)break}return r}}return rb=e,rb}var nb,zk;function Ore(){if(zk)return nb;zk=1;var e=Pre(),t=e();return nb=t,nb}var ab,Fk;function Iz(){if(Fk)return ab;Fk=1;var e=Ore(),t=Fm();function r(n,a){return n&&e(n,a,t)}return ab=r,ab}var ib,Bk;function kre(){if(Bk)return ib;Bk=1;var e=$d();function t(r,n){return function(a,i){if(a==null)return a;if(!e(a))return r(a,i);for(var s=a.length,c=n?s:-1,d=Object(a);(n?c--:++c<s)&&i(d[c],c,d)!==!1;);return a}}return ib=t,ib}var ob,qk;function YS(){if(qk)return ob;qk=1;var e=Iz(),t=kre(),r=t(e);return ob=r,ob}var sb,Uk;function Mz(){if(Uk)return sb;Uk=1;var e=YS(),t=$d();function r(n,a){var i=-1,s=t(n)?Array(n.length):[];return e(n,function(c,d,f){s[++i]=a(c,d,f)}),s}return sb=r,sb}var lb,Vk;function Tre(){if(Vk)return lb;Vk=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return lb=e,lb}var cb,Wk;function Rre(){if(Wk)return cb;Wk=1;var e=_c();function t(r,n){if(r!==n){var a=r!==void 0,i=r===null,s=r===r,c=e(r),d=n!==void 0,f=n===null,p=n===n,h=e(n);if(!f&&!h&&!c&&r>n||c&&d&&p&&!f&&!h||i&&d&&p||!a&&p||!s)return 1;if(!i&&!c&&!h&&r<n||h&&a&&s&&!i&&!c||f&&a&&s||!d&&s||!p)return-1}return 0}return cb=t,cb}var ub,Hk;function Ire(){if(Hk)return ub;Hk=1;var e=Rre();function t(r,n,a){for(var i=-1,s=r.criteria,c=n.criteria,d=s.length,f=a.length;++i<d;){var p=e(s[i],c[i]);if(p){if(i>=f)return p;var h=a[i];return p*(h=="desc"?-1:1)}}return r.index-n.index}return ub=t,ub}var db,Gk;function Mre(){if(Gk)return db;Gk=1;var e=MS(),t=DS(),r=Qa(),n=Mz(),a=Tre(),i=jz(),s=Ire(),c=Ec(),d=yn();function f(p,h,g){h.length?h=e(h,function(b){return d(b)?function(v){return t(v,b.length===1?b[0]:b)}:b}):h=[c];var x=-1;h=e(h,i(r));var _=n(p,function(b,v,j){var S=e(h,function(A){return A(b)});return{criteria:S,index:++x,value:b}});return a(_,function(b,v){return s(b,v,g)})}return db=f,db}var fb,Kk;function Dre(){if(Kk)return fb;Kk=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return fb=e,fb}var hb,Yk;function $re(){if(Yk)return hb;Yk=1;var e=Dre(),t=Math.max;function r(n,a,i){return a=t(a===void 0?n.length-1:a,0),function(){for(var s=arguments,c=-1,d=t(s.length-a,0),f=Array(d);++c<d;)f[c]=s[a+c];c=-1;for(var p=Array(a+1);++c<a;)p[c]=s[c];return p[a]=i(f),e(n,this,p)}}return hb=r,hb}var pb,Xk;function Lre(){if(Xk)return pb;Xk=1;function e(t){return function(){return t}}return pb=e,pb}var mb,Jk;function Dz(){if(Jk)return mb;Jk=1;var e=ks(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return mb=t,mb}var gb,Qk;function zre(){if(Qk)return gb;Qk=1;var e=Lre(),t=Dz(),r=Ec(),n=t?function(a,i){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return gb=n,gb}var vb,Zk;function Fre(){if(Zk)return vb;Zk=1;var e=800,t=16,r=Date.now;function n(a){var i=0,s=0;return function(){var c=r(),d=t-(c-s);if(s=c,d>0){if(++i>=e)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return vb=n,vb}var yb,eT;function Bre(){if(eT)return yb;eT=1;var e=zre(),t=Fre(),r=t(e);return yb=r,yb}var xb,tT;function qre(){if(tT)return xb;tT=1;var e=Ec(),t=$re(),r=Bre();function n(a,i){return r(t(a,i,e),a+"")}return xb=n,xb}var bb,rT;function qm(){if(rT)return bb;rT=1;var e=TS(),t=$d(),r=HS(),n=ko();function a(i,s,c){if(!n(c))return!1;var d=typeof s;return(d=="number"?t(c)&&r(s,c.length):d=="string"&&s in c)?e(c[s],i):!1}return bb=a,bb}var wb,nT;function Ure(){if(nT)return wb;nT=1;var e=Rz(),t=Mre(),r=qre(),n=qm(),a=r(function(i,s){if(i==null)return[];var c=s.length;return c>1&&n(i,s[0],s[1])?s=[]:c>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),t(i,e(s,1),[])});return wb=a,wb}var Vre=Ure();const XS=Ct(Vre);function Yu(e){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function w_(){return w_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w_.apply(this,arguments)}function Wre(e,t){return Yre(e)||Kre(e,t)||Gre(e,t)||Hre()}function Hre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gre(e,t){if(e){if(typeof e=="string")return aT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aT(e,t)}}function aT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function Yre(e){if(Array.isArray(e))return e}function iT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _b(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iT(Object(r),!0).forEach(function(n){Xre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xre(e,t,r){return t=Jre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jre(e){var t=Qre(e,"string");return Yu(t)=="symbol"?t:t+""}function Qre(e,t){if(Yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zre(e){return Array.isArray(e)&&br(e[0])&&br(e[1])?e.join(" ~ "):e}var ene=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,c=s===void 0?{}:s,d=t.labelStyle,f=d===void 0?{}:d,p=t.payload,h=t.formatter,g=t.itemSorter,x=t.wrapperClassName,_=t.labelClassName,b=t.label,v=t.labelFormatter,j=t.accessibilityLayer,S=j===void 0?!1:j,A=function(){if(p&&p.length){var B={padding:0,margin:0},W=(g?XS(p,g):p).map(function(Y,J){if(Y.type==="none")return null;var F=_b({display:"block",paddingTop:4,paddingBottom:4,color:Y.color||"#000"},c),K=Y.formatter||h||Zre,L=Y.value,H=Y.name,te=L,q=H;if(K&&te!=null&&q!=null){var Q=K(L,H,Y,J,p);if(Array.isArray(Q)){var U=Wre(Q,2);te=U[0],q=U[1]}else te=Q}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(J),style:F},br(q)?$.createElement("span",{className:"recharts-tooltip-item-name"},q):null,br(q)?$.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,$.createElement("span",{className:"recharts-tooltip-item-value"},te),$.createElement("span",{className:"recharts-tooltip-item-unit"},Y.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:B},W)}return null},P=_b({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),E=_b({margin:0},f),O=!it(b),C=O?b:"",T=st("recharts-default-tooltip",x),I=st("recharts-tooltip-label",_);O&&v&&p!==void 0&&p!==null&&(C=v(b,p));var R=S?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",w_({className:T,style:P},R),$.createElement("p",{className:I,style:E},$.isValidElement(C)?C:"".concat(C)),A())};function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}function fh(e,t,r){return t=tne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tne(e){var t=rne(e,"string");return Xu(t)=="symbol"?t:t+""}function rne(e,t){if(Xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fu="recharts-tooltip-wrapper",nne={visibility:"hidden"};function ane(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return st(fu,fh(fh(fh(fh({},"".concat(fu,"-right"),Ne(r)&&t&&Ne(t.x)&&r>=t.x),"".concat(fu,"-left"),Ne(r)&&t&&Ne(t.x)&&r<t.x),"".concat(fu,"-bottom"),Ne(n)&&t&&Ne(t.y)&&n>=t.y),"".concat(fu,"-top"),Ne(n)&&t&&Ne(t.y)&&n<t.y))}function oT(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,c=e.tooltipDimension,d=e.viewBox,f=e.viewBoxDimension;if(i&&Ne(i[n]))return i[n];var p=r[n]-c-a,h=r[n]+a;if(t[n])return s[n]?p:h;if(s[n]){var g=p,x=d[n];return g<x?Math.max(h,d[n]):Math.max(p,d[n])}var _=h+c,b=d[n]+f;return _>b?Math.max(p,d[n]):Math.max(h,d[n])}function ine(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function one(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,c=e.useTranslate3d,d=e.viewBox,f,p,h;return s.height>0&&s.width>0&&r?(p=oT({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:d,viewBoxDimension:d.width}),h=oT({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:d,viewBoxDimension:d.height}),f=ine({translateX:p,translateY:h,useTranslate3d:c})):f=nne,{cssProperties:f,cssClasses:ane({translateX:p,translateY:h,coordinate:r})}}function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function sT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(r),!0).forEach(function(n){j_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lz(n.key),n)}}function cne(e,t,r){return t&&lne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function une(e,t,r){return t=sp(t),dne(e,$z()?Reflect.construct(t,r||[],sp(e).constructor):t.apply(e,r))}function dne(e,t){if(t&&(Vl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fne(e)}function fne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($z=function(){return!!e})()}function sp(e){return sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sp(e)}function hne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&__(e,t)}function __(e,t){return __=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},__(e,t)}function j_(e,t,r){return t=Lz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lz(e){var t=pne(e,"string");return Vl(t)=="symbol"?t:t+""}function pne(e,t){if(Vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cT=1,mne=(function(e){function t(){var r;sne(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=une(this,t,[].concat(a)),j_(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),j_(r,"handleKeyDown",function(s){if(s.key==="Escape"){var c,d,f,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&c!==void 0?c:0,y:(f=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&f!==void 0?f:0}})}}),r}return hne(t,e),cne(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>cT||Math.abs(n.height-this.state.lastBoundingBox.height)>cT)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,c=a.animationDuration,d=a.animationEasing,f=a.children,p=a.coordinate,h=a.hasPayload,g=a.isAnimationActive,x=a.offset,_=a.position,b=a.reverseDirection,v=a.useTranslate3d,j=a.viewBox,S=a.wrapperStyle,A=one({allowEscapeViewBox:s,coordinate:p,offsetTopLeft:x,position:_,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:j}),P=A.cssClasses,E=A.cssProperties,O=lT(lT({transition:g&&i?"transform ".concat(c,"ms ").concat(d):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},S);return $.createElement("div",{tabIndex:-1,className:P,style:O,ref:function(T){n.wrapperNode=T}},f)}}])})(w.PureComponent),gne=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ts={isSsr:gne()};function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}function uT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uT(Object(r),!0).forEach(function(n){JS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Fz(n.key),n)}}function xne(e,t,r){return t&&yne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bne(e,t,r){return t=lp(t),wne(e,zz()?Reflect.construct(t,r||[],lp(e).constructor):t.apply(e,r))}function wne(e,t){if(t&&(Wl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ne(e)}function _ne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zz=function(){return!!e})()}function lp(e){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lp(e)}function jne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S_(e,t)}function S_(e,t){return S_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},S_(e,t)}function JS(e,t,r){return t=Fz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fz(e){var t=Sne(e,"string");return Wl(t)=="symbol"?t:t+""}function Sne(e,t){if(Wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ene(e){return e.dataKey}function Nne(e,t){return $.isValidElement(e)?$.cloneElement(e,t):typeof e=="function"?$.createElement(e,t):$.createElement(ene,t)}var On=(function(e){function t(){return vne(this,t),bne(this,t,arguments)}return jne(t,e),xne(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,c=a.animationDuration,d=a.animationEasing,f=a.content,p=a.coordinate,h=a.filterNull,g=a.isAnimationActive,x=a.offset,_=a.payload,b=a.payloadUniqBy,v=a.position,j=a.reverseDirection,S=a.useTranslate3d,A=a.viewBox,P=a.wrapperStyle,E=_??[];h&&E.length&&(E=Oz(_.filter(function(C){return C.value!=null&&(C.hide!==!0||n.props.includeHidden)}),b,Ene));var O=E.length>0;return $.createElement(mne,{allowEscapeViewBox:s,animationDuration:c,animationEasing:d,isAnimationActive:g,active:i,coordinate:p,hasPayload:O,offset:x,position:v,reverseDirection:j,useTranslate3d:S,viewBox:A,wrapperStyle:P},Nne(f,dT(dT({},this.props),{},{payload:E})))}}])})(w.PureComponent);JS(On,"displayName","Tooltip");JS(On,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ts.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var jb,fT;function Cne(){if(fT)return jb;fT=1;var e=Ja(),t=function(){return e.Date.now()};return jb=t,jb}var Sb,hT;function Ane(){if(hT)return Sb;hT=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return Sb=t,Sb}var Eb,pT;function Pne(){if(pT)return Eb;pT=1;var e=Ane(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return Eb=r,Eb}var Nb,mT;function Bz(){if(mT)return Nb;mT=1;var e=Pne(),t=ko(),r=_c(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return n;if(t(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=t(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=e(f);var h=i.test(f);return h||s.test(f)?c(f.slice(2),h?2:8):a.test(f)?n:+f}return Nb=d,Nb}var Cb,gT;function One(){if(gT)return Cb;gT=1;var e=ko(),t=Cne(),r=Bz(),n="Expected a function",a=Math.max,i=Math.min;function s(c,d,f){var p,h,g,x,_,b,v=0,j=!1,S=!1,A=!0;if(typeof c!="function")throw new TypeError(n);d=r(d)||0,e(f)&&(j=!!f.leading,S="maxWait"in f,g=S?a(r(f.maxWait)||0,d):g,A="trailing"in f?!!f.trailing:A);function P(W){var Y=p,J=h;return p=h=void 0,v=W,x=c.apply(J,Y),x}function E(W){return v=W,_=setTimeout(T,d),j?P(W):x}function O(W){var Y=W-b,J=W-v,F=d-Y;return S?i(F,g-J):F}function C(W){var Y=W-b,J=W-v;return b===void 0||Y>=d||Y<0||S&&J>=g}function T(){var W=t();if(C(W))return I(W);_=setTimeout(T,O(W))}function I(W){return _=void 0,A&&p?P(W):(p=h=void 0,x)}function R(){_!==void 0&&clearTimeout(_),v=0,p=b=h=_=void 0}function D(){return _===void 0?x:I(t())}function B(){var W=t(),Y=C(W);if(p=arguments,h=this,b=W,Y){if(_===void 0)return E(b);if(S)return clearTimeout(_),_=setTimeout(T,d),P(b)}return _===void 0&&(_=setTimeout(T,d)),x}return B.cancel=R,B.flush=D,B}return Cb=s,Cb}var Ab,vT;function kne(){if(vT)return Ab;vT=1;var e=One(),t=ko(),r="Expected a function";function n(a,i,s){var c=!0,d=!0;if(typeof a!="function")throw new TypeError(r);return t(s)&&(c="leading"in s?!!s.leading:c,d="trailing"in s?!!s.trailing:d),e(a,i,{leading:c,maxWait:i,trailing:d})}return Ab=n,Ab}var Tne=kne();const qz=Ct(Tne);function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function yT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yT(Object(r),!0).forEach(function(n){Rne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rne(e,t,r){return t=Ine(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ine(e){var t=Mne(e,"string");return Ju(t)=="symbol"?t:t+""}function Mne(e,t){if(Ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dne(e,t){return Fne(e)||zne(e,t)||Lne(e,t)||$ne()}function $ne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lne(e,t){if(e){if(typeof e=="string")return xT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xT(e,t)}}function xT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function Fne(e){if(Array.isArray(e))return e}var ph=w.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,c=e.height,d=c===void 0?"100%":c,f=e.minWidth,p=f===void 0?0:f,h=e.minHeight,g=e.maxHeight,x=e.children,_=e.debounce,b=_===void 0?0:_,v=e.id,j=e.className,S=e.onResize,A=e.style,P=A===void 0?{}:A,E=w.useRef(null),O=w.useRef();O.current=S,w.useImperativeHandle(t,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var C=w.useState({containerWidth:a.width,containerHeight:a.height}),T=Dne(C,2),I=T[0],R=T[1],D=w.useCallback(function(W,Y){R(function(J){var F=Math.round(W),K=Math.round(Y);return J.containerWidth===F&&J.containerHeight===K?J:{containerWidth:F,containerHeight:K}})},[]);w.useEffect(function(){var W=function(H){var te,q=H[0].contentRect,Q=q.width,U=q.height;D(Q,U),(te=O.current)===null||te===void 0||te.call(O,Q,U)};b>0&&(W=qz(W,b,{trailing:!0,leading:!1}));var Y=new ResizeObserver(W),J=E.current.getBoundingClientRect(),F=J.width,K=J.height;return D(F,K),Y.observe(E.current),function(){Y.disconnect()}},[D,b]);var B=w.useMemo(function(){var W=I.containerWidth,Y=I.containerHeight;if(W<0||Y<0)return null;Ea(cs(s)||cs(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,d),Ea(!r||r>0,"The aspect(%s) must be greater than zero.",r);var J=cs(s)?W:s,F=cs(d)?Y:d;r&&r>0&&(J?F=J/r:F&&(J=F*r),g&&F>g&&(F=g)),Ea(J>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,J,F,s,d,p,h,r);var K=!Array.isArray(x)&&xi(x.type).endsWith("Chart");return $.Children.map(x,function(L){return $.isValidElement(L)?w.cloneElement(L,hh({width:J,height:F},K?{style:hh({height:"100%",width:"100%",maxHeight:F,maxWidth:J},L.props.style)}:{})):L})},[r,x,d,g,h,p,I,s]);return $.createElement("div",{id:v?"".concat(v):void 0,className:st("recharts-responsive-container",j),style:hh(hh({},P),{},{width:s,height:d,minWidth:p,minHeight:h,maxHeight:g}),ref:E},B)}),Qu=function(t){return null};Qu.displayName="Cell";function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}function bT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function E_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(r),!0).forEach(function(n){Bne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bne(e,t,r){return t=qne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qne(e){var t=Une(e,"string");return Zu(t)=="symbol"?t:t+""}function Une(e,t){if(Zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pl={widthCache:{},cacheCount:0},Vne=2e3,Wne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},wT="recharts_measurement_span";function Hne(e){var t=E_({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Ou=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ts.isSsr)return{width:0,height:0};var n=Hne(r),a=JSON.stringify({text:t,copyStyle:n});if(pl.widthCache[a])return pl.widthCache[a];try{var i=document.getElementById(wT);i||(i=document.createElement("span"),i.setAttribute("id",wT),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=E_(E_({},Wne),n);Object.assign(i.style,s),i.textContent="".concat(t);var c=i.getBoundingClientRect(),d={width:c.width,height:c.height};return pl.widthCache[a]=d,++pl.cacheCount>Vne&&(pl.cacheCount=0,pl.widthCache={}),d}catch{return{width:0,height:0}}},Gne=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function ed(e){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(e)}function cp(e,t){return Jne(e)||Xne(e,t)||Yne(e,t)||Kne()}function Kne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yne(e,t){if(e){if(typeof e=="string")return _T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _T(e,t)}}function _T(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function Jne(e){if(Array.isArray(e))return e}function Qne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eae(n.key),n)}}function Zne(e,t,r){return t&&jT(e.prototype,t),r&&jT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eae(e){var t=tae(e,"string");return ed(t)=="symbol"?t:t+""}function tae(e,t){if(ed(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ST=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ET=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,nae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Uz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},aae=Object.keys(Uz),Sl="NaN";function iae(e,t){return e*Uz[t]}var mh=(function(){function e(t,r){Qne(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!rae.test(r)&&(this.num=NaN,this.unit=""),aae.includes(r)&&(this.num=iae(t,r),this.unit="px")}return Zne(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=nae.exec(r))!==null&&n!==void 0?n:[],i=cp(a,3),s=i[1],c=i[2];return new e(parseFloat(s),c??"")}}])})();function Vz(e){if(e.includes(Sl))return Sl;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=ST.exec(t))!==null&&r!==void 0?r:[],a=cp(n,4),i=a[1],s=a[2],c=a[3],d=mh.parse(i??""),f=mh.parse(c??""),p=s==="*"?d.multiply(f):d.divide(f);if(p.isNaN())return Sl;t=t.replace(ST,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,g=(h=ET.exec(t))!==null&&h!==void 0?h:[],x=cp(g,4),_=x[1],b=x[2],v=x[3],j=mh.parse(_??""),S=mh.parse(v??""),A=b==="+"?j.add(S):j.subtract(S);if(A.isNaN())return Sl;t=t.replace(ET,A.toString())}return t}var NT=/\(([^()]*)\)/;function oae(e){for(var t=e;t.includes("(");){var r=NT.exec(t),n=cp(r,2),a=n[1];t=t.replace(NT,Vz(a))}return t}function sae(e){var t=e.replace(/\s+/g,"");return t=oae(t),t=Vz(t),t}function lae(e){try{return sae(e)}catch{return Sl}}function Pb(e){var t=lae(e.slice(5,-1));return t===Sl?"":t}var cae=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],uae=["dx","dy","angle","className","breakAll"];function N_(){return N_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N_.apply(this,arguments)}function CT(e,t){if(e==null)return{};var r=dae(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function AT(e,t){return mae(e)||pae(e,t)||hae(e,t)||fae()}function fae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hae(e,t){if(e){if(typeof e=="string")return PT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PT(e,t)}}function PT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function mae(e){if(Array.isArray(e))return e}var Wz=/[ \f\n\r\t\v\u2028\u2029]+/,Hz=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];it(r)||(n?i=r.toString().split(""):i=r.toString().split(Wz));var s=i.map(function(d){return{word:d,width:Ou(d,a).width}}),c=n?0:Ou("",a).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}},gae=function(t,r,n,a,i){var s=t.maxLines,c=t.children,d=t.style,f=t.breakAll,p=Ne(s),h=c,g=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return J.reduce(function(F,K){var L=K.word,H=K.width,te=F[F.length-1];if(te&&(a==null||i||te.width+H+n<Number(a)))te.words.push(L),te.width+=H+n;else{var q={words:[L],width:H};F.push(q)}return F},[])},x=g(r),_=function(J){return J.reduce(function(F,K){return F.width>K.width?F:K})};if(!p)return x;for(var b="",v=function(J){var F=h.slice(0,J),K=Hz({breakAll:f,style:d,children:F+b}).wordsWithComputedWidth,L=g(K),H=L.length>s||_(L).width>Number(a);return[H,L]},j=0,S=h.length-1,A=0,P;j<=S&&A<=h.length-1;){var E=Math.floor((j+S)/2),O=E-1,C=v(O),T=AT(C,2),I=T[0],R=T[1],D=v(E),B=AT(D,1),W=B[0];if(!I&&!W&&(j=E+1),I&&W&&(S=E-1),!I&&W){P=R;break}A++}return P||x},OT=function(t){var r=it(t)?[]:t.toString().split(Wz);return[{words:r}]},vae=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,c=t.maxLines;if((r||n)&&!Ts.isSsr){var d,f,p=Hz({breakAll:s,children:a,style:i});if(p){var h=p.wordsWithComputedWidth,g=p.spaceWidth;d=h,f=g}else return OT(a);return gae({breakAll:s,children:a,maxLines:c,style:i},d,f,r,n)}return OT(a)},kT="#808080",Ss=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,c=s===void 0?"1em":s,d=t.capHeight,f=d===void 0?"0.71em":d,p=t.scaleToFit,h=p===void 0?!1:p,g=t.textAnchor,x=g===void 0?"start":g,_=t.verticalAnchor,b=_===void 0?"end":_,v=t.fill,j=v===void 0?kT:v,S=CT(t,cae),A=w.useMemo(function(){return vae({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:h,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,h,S.style,S.width]),P=S.dx,E=S.dy,O=S.angle,C=S.className,T=S.breakAll,I=CT(S,uae);if(!br(n)||!br(i))return null;var R=n+(Ne(P)?P:0),D=i+(Ne(E)?E:0),B;switch(b){case"start":B=Pb("calc(".concat(f,")"));break;case"middle":B=Pb("calc(".concat((A.length-1)/2," * -").concat(c," + (").concat(f," / 2))"));break;default:B=Pb("calc(".concat(A.length-1," * -").concat(c,")"));break}var W=[];if(h){var Y=A[0].width,J=S.width;W.push("scale(".concat((Ne(J)?J/Y:1)/Y,")"))}return O&&W.push("rotate(".concat(O,", ").concat(R,", ").concat(D,")")),W.length&&(I.transform=W.join(" ")),$.createElement("text",N_({},Ye(I,!0),{x:R,y:D,className:st("recharts-text",C),textAnchor:x,fill:j.includes("url")?kT:j}),A.map(function(F,K){var L=F.words.join(T?"":" ");return $.createElement("tspan",{x:R,dy:K===0?B:c,key:"".concat(L,"-").concat(K)},L)}))};function jo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yae(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function QS(e){let t,r,n;e.length!==2?(t=jo,r=(c,d)=>jo(e(c),d),n=(c,d)=>e(c)-d):(t=e===jo||e===yae?e:xae,r=e,n=e);function a(c,d,f=0,p=c.length){if(f<p){if(t(d,d)!==0)return p;do{const h=f+p>>>1;r(c[h],d)<0?f=h+1:p=h}while(f<p)}return f}function i(c,d,f=0,p=c.length){if(f<p){if(t(d,d)!==0)return p;do{const h=f+p>>>1;r(c[h],d)<=0?f=h+1:p=h}while(f<p)}return f}function s(c,d,f=0,p=c.length){const h=a(c,d,f,p-1);return h>f&&n(c[h-1],d)>-n(c[h],d)?h-1:h}return{left:a,center:s,right:i}}function xae(){return 0}function Gz(e){return e===null?NaN:+e}function*bae(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const wae=QS(jo),Ld=wae.right;QS(Gz).center;class TT extends Map{constructor(t,r=Sae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(RT(this,t))}has(t){return super.has(RT(this,t))}set(t,r){return super.set(_ae(this,t),r)}delete(t){return super.delete(jae(this,t))}}function RT({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function _ae({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function jae({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Sae(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Eae(e=jo){if(e===jo)return Kz;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Kz(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Nae=Math.sqrt(50),Cae=Math.sqrt(10),Aae=Math.sqrt(2);function up(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=Nae?10:i>=Cae?5:i>=Aae?2:1;let c,d,f;return a<0?(f=Math.pow(10,-a)/s,c=Math.round(e*f),d=Math.round(t*f),c/f<e&&++c,d/f>t&&--d,f=-f):(f=Math.pow(10,a)*s,c=Math.round(e/f),d=Math.round(t/f),c*f<e&&++c,d*f>t&&--d),d<c&&.5<=r&&r<2?up(e,t,r*2):[c,d,f]}function C_(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?up(t,e,r):up(e,t,r);if(!(i>=a))return[];const c=i-a+1,d=new Array(c);if(n)if(s<0)for(let f=0;f<c;++f)d[f]=(i-f)/-s;else for(let f=0;f<c;++f)d[f]=(i-f)*s;else if(s<0)for(let f=0;f<c;++f)d[f]=(a+f)/-s;else for(let f=0;f<c;++f)d[f]=(a+f)*s;return d}function A_(e,t,r){return t=+t,e=+e,r=+r,up(e,t,r)[2]}function P_(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?A_(t,e,r):A_(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function IT(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function MT(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Yz(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?Kz:Eae(a);n>r;){if(n-r>600){const d=n-r+1,f=t-r+1,p=Math.log(d),h=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*h*(d-h)/d)*(f-d/2<0?-1:1),x=Math.max(r,Math.floor(t-f*h/d+g)),_=Math.min(n,Math.floor(t+(d-f)*h/d+g));Yz(e,t,x,_,a)}const i=e[t];let s=r,c=n;for(hu(e,r,t),a(e[n],i)>0&&hu(e,r,n);s<c;){for(hu(e,s,c),++s,--c;a(e[s],i)<0;)++s;for(;a(e[c],i)>0;)--c}a(e[r],i)===0?hu(e,r,c):(++c,hu(e,c,n)),c<=t&&(r=c+1),t<=c&&(n=c-1)}return e}function hu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Pae(e,t,r){if(e=Float64Array.from(bae(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return MT(e);if(t>=1)return IT(e);var n,a=(n-1)*t,i=Math.floor(a),s=IT(Yz(e,i).subarray(0,i+1)),c=MT(e.subarray(i+1));return s+(c-s)*(a-i)}}function Oae(e,t,r=Gz){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),c=+r(e[i+1],i+1,e);return s+(c-s)*(a-i)}}function kae(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function ca(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function qi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const O_=Symbol("implicit");function ZS(){var e=new TT,t=[],r=[],n=O_;function a(i){let s=e.get(i);if(s===void 0){if(n!==O_)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new TT;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return ZS(t,r).unknown(n)},ca.apply(a,arguments),a}function td(){var e=ZS().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,c=!1,d=0,f=0,p=.5;delete e.unknown;function h(){var g=t().length,x=a<n,_=x?a:n,b=x?n:a;i=(b-_)/Math.max(1,g-d+f*2),c&&(i=Math.floor(i)),_+=(b-_-i*(g-d))*p,s=i*(1-d),c&&(_=Math.round(_),s=Math.round(s));var v=kae(g).map(function(j){return _+i*j});return r(x?v.reverse():v)}return e.domain=function(g){return arguments.length?(t(g),h()):t()},e.range=function(g){return arguments.length?([n,a]=g,n=+n,a=+a,h()):[n,a]},e.rangeRound=function(g){return[n,a]=g,n=+n,a=+a,c=!0,h()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(g){return arguments.length?(c=!!g,h()):c},e.padding=function(g){return arguments.length?(d=Math.min(1,f=+g),h()):d},e.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),h()):d},e.paddingOuter=function(g){return arguments.length?(f=+g,h()):f},e.align=function(g){return arguments.length?(p=Math.max(0,Math.min(1,g)),h()):p},e.copy=function(){return td(t(),[n,a]).round(c).paddingInner(d).paddingOuter(f).align(p)},ca.apply(h(),arguments)}function Xz(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Xz(t())},e}function ku(){return Xz(td.apply(null,arguments).paddingInner(1))}function e1(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Jz(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function zd(){}var rd=.7,dp=1/rd,Dl="\\s*([+-]?\\d+)\\s*",nd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ua="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tae=/^#([0-9a-f]{3,8})$/,Rae=new RegExp(`^rgb\\(${Dl},${Dl},${Dl}\\)$`),Iae=new RegExp(`^rgb\\(${Ua},${Ua},${Ua}\\)$`),Mae=new RegExp(`^rgba\\(${Dl},${Dl},${Dl},${nd}\\)$`),Dae=new RegExp(`^rgba\\(${Ua},${Ua},${Ua},${nd}\\)$`),$ae=new RegExp(`^hsl\\(${nd},${Ua},${Ua}\\)$`),Lae=new RegExp(`^hsla\\(${nd},${Ua},${Ua},${nd}\\)$`),DT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};e1(zd,ad,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$T,formatHex:$T,formatHex8:zae,formatHsl:Fae,formatRgb:LT,toString:LT});function $T(){return this.rgb().formatHex()}function zae(){return this.rgb().formatHex8()}function Fae(){return Qz(this).formatHsl()}function LT(){return this.rgb().formatRgb()}function ad(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Tae.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?zT(t):r===3?new vn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?gh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?gh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Rae.exec(e))?new vn(t[1],t[2],t[3],1):(t=Iae.exec(e))?new vn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Mae.exec(e))?gh(t[1],t[2],t[3],t[4]):(t=Dae.exec(e))?gh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$ae.exec(e))?qT(t[1],t[2]/100,t[3]/100,1):(t=Lae.exec(e))?qT(t[1],t[2]/100,t[3]/100,t[4]):DT.hasOwnProperty(e)?zT(DT[e]):e==="transparent"?new vn(NaN,NaN,NaN,0):null}function zT(e){return new vn(e>>16&255,e>>8&255,e&255,1)}function gh(e,t,r,n){return n<=0&&(e=t=r=NaN),new vn(e,t,r,n)}function Bae(e){return e instanceof zd||(e=ad(e)),e?(e=e.rgb(),new vn(e.r,e.g,e.b,e.opacity)):new vn}function k_(e,t,r,n){return arguments.length===1?Bae(e):new vn(e,t,r,n??1)}function vn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}e1(vn,k_,Jz(zd,{brighter(e){return e=e==null?dp:Math.pow(dp,e),new vn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?rd:Math.pow(rd,e),new vn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new vn(ms(this.r),ms(this.g),ms(this.b),fp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:FT,formatHex:FT,formatHex8:qae,formatRgb:BT,toString:BT}));function FT(){return`#${us(this.r)}${us(this.g)}${us(this.b)}`}function qae(){return`#${us(this.r)}${us(this.g)}${us(this.b)}${us((isNaN(this.opacity)?1:this.opacity)*255)}`}function BT(){const e=fp(this.opacity);return`${e===1?"rgb(":"rgba("}${ms(this.r)}, ${ms(this.g)}, ${ms(this.b)}${e===1?")":`, ${e})`}`}function fp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ms(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function us(e){return e=ms(e),(e<16?"0":"")+e.toString(16)}function qT(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Sa(e,t,r,n)}function Qz(e){if(e instanceof Sa)return new Sa(e.h,e.s,e.l,e.opacity);if(e instanceof zd||(e=ad(e)),!e)return new Sa;if(e instanceof Sa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,c=i-a,d=(i+a)/2;return c?(t===i?s=(r-n)/c+(r<n)*6:r===i?s=(n-t)/c+2:s=(t-r)/c+4,c/=d<.5?i+a:2-i-a,s*=60):c=d>0&&d<1?0:s,new Sa(s,c,d,e.opacity)}function Uae(e,t,r,n){return arguments.length===1?Qz(e):new Sa(e,t,r,n??1)}function Sa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}e1(Sa,Uae,Jz(zd,{brighter(e){return e=e==null?dp:Math.pow(dp,e),new Sa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?rd:Math.pow(rd,e),new Sa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new vn(Ob(e>=240?e-240:e+120,a,n),Ob(e,a,n),Ob(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Sa(UT(this.h),vh(this.s),vh(this.l),fp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fp(this.opacity);return`${e===1?"hsl(":"hsla("}${UT(this.h)}, ${vh(this.s)*100}%, ${vh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function UT(e){return e=(e||0)%360,e<0?e+360:e}function vh(e){return Math.max(0,Math.min(1,e||0))}function Ob(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const t1=e=>()=>e;function Vae(e,t){return function(r){return e+r*t}}function Wae(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Hae(e){return(e=+e)==1?Zz:function(t,r){return r-t?Wae(t,r,e):t1(isNaN(t)?r:t)}}function Zz(e,t){var r=t-e;return r?Vae(e,r):t1(isNaN(e)?t:e)}const VT=(function e(t){var r=Hae(t);function n(a,i){var s=r((a=k_(a)).r,(i=k_(i)).r),c=r(a.g,i.g),d=r(a.b,i.b),f=Zz(a.opacity,i.opacity);return function(p){return a.r=s(p),a.g=c(p),a.b=d(p),a.opacity=f(p),a+""}}return n.gamma=e,n})(1);function Gae(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function Kae(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Yae(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Nc(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(c){for(s=0;s<n;++s)i[s]=a[s](c);return i}}function Xae(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function hp(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Jae(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Nc(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var T_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kb=new RegExp(T_.source,"g");function Qae(e){return function(){return e}}function Zae(e){return function(t){return e(t)+""}}function eie(e,t){var r=T_.lastIndex=kb.lastIndex=0,n,a,i,s=-1,c=[],d=[];for(e=e+"",t=t+"";(n=T_.exec(e))&&(a=kb.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),c[s]?c[s]+=i:c[++s]=i),(n=n[0])===(a=a[0])?c[s]?c[s]+=a:c[++s]=a:(c[++s]=null,d.push({i:s,x:hp(n,a)})),r=kb.lastIndex;return r<t.length&&(i=t.slice(r),c[s]?c[s]+=i:c[++s]=i),c.length<2?d[0]?Zae(d[0].x):Qae(t):(t=d.length,function(f){for(var p=0,h;p<t;++p)c[(h=d[p]).i]=h.x(f);return c.join("")})}function Nc(e,t){var r=typeof t,n;return t==null||r==="boolean"?t1(t):(r==="number"?hp:r==="string"?(n=ad(t))?(t=n,VT):eie:t instanceof ad?VT:t instanceof Date?Xae:Kae(t)?Gae:Array.isArray(t)?Yae:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Jae:hp)(e,t)}function r1(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function tie(e,t){t===void 0&&(t=e,e=Nc);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var c=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[c](s-c)}}function rie(e){return function(){return e}}function pp(e){return+e}var WT=[0,1];function an(e){return e}function R_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:rie(isNaN(t)?NaN:.5)}function nie(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function aie(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=R_(a,n),i=r(s,i)):(n=R_(n,a),i=r(i,s)),function(c){return i(n(c))}}function iie(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=R_(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(c){var d=Ld(e,c,1,n)-1;return i[d](a[d](c))}}function Fd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Um(){var e=WT,t=WT,r=Nc,n,a,i,s=an,c,d,f;function p(){var g=Math.min(e.length,t.length);return s!==an&&(s=nie(e[0],e[g-1])),c=g>2?iie:aie,d=f=null,h}function h(g){return g==null||isNaN(g=+g)?i:(d||(d=c(e.map(n),t,r)))(n(s(g)))}return h.invert=function(g){return s(a((f||(f=c(t,e.map(n),hp)))(g)))},h.domain=function(g){return arguments.length?(e=Array.from(g,pp),p()):e.slice()},h.range=function(g){return arguments.length?(t=Array.from(g),p()):t.slice()},h.rangeRound=function(g){return t=Array.from(g),r=r1,p()},h.clamp=function(g){return arguments.length?(s=g?!0:an,p()):s!==an},h.interpolate=function(g){return arguments.length?(r=g,p()):r},h.unknown=function(g){return arguments.length?(i=g,h):i},function(g,x){return n=g,a=x,p()}}function n1(){return Um()(an,an)}function oie(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function mp(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Hl(e){return e=mp(Math.abs(e)),e?e[1]:NaN}function sie(e,t){return function(r,n){for(var a=r.length,i=[],s=0,c=e[0],d=0;a>0&&c>0&&(d+c+1>n&&(c=Math.max(1,n-d)),i.push(r.substring(a-=c,a+c)),!((d+=c+1)>n));)c=e[s=(s+1)%e.length];return i.reverse().join(t)}}function lie(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var cie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function id(e){if(!(t=cie.exec(e)))throw new Error("invalid format: "+e);var t;return new a1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}id.prototype=a1.prototype;function a1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}a1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uie(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var eF;function die(e,t){var r=mp(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(eF=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+mp(e,Math.max(0,t+i-1))[0]}function HT(e,t){var r=mp(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const GT={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:oie,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>HT(e*100,t),r:HT,s:die,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function KT(e){return e}var YT=Array.prototype.map,XT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fie(e){var t=e.grouping===void 0||e.thousands===void 0?KT:sie(YT.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?KT:lie(YT.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(h){h=id(h);var g=h.fill,x=h.align,_=h.sign,b=h.symbol,v=h.zero,j=h.width,S=h.comma,A=h.precision,P=h.trim,E=h.type;E==="n"?(S=!0,E="g"):GT[E]||(A===void 0&&(A=12),P=!0,E="g"),(v||g==="0"&&x==="=")&&(v=!0,g="0",x="=");var O=b==="$"?r:b==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",C=b==="$"?n:/[%p]/.test(E)?s:"",T=GT[E],I=/[defgprs%]/.test(E);A=A===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function R(D){var B=O,W=C,Y,J,F;if(E==="c")W=T(D)+W,D="";else{D=+D;var K=D<0||1/D<0;if(D=isNaN(D)?d:T(Math.abs(D),A),P&&(D=uie(D)),K&&+D==0&&_!=="+"&&(K=!1),B=(K?_==="("?_:c:_==="-"||_==="("?"":_)+B,W=(E==="s"?XT[8+eF/3]:"")+W+(K&&_==="("?")":""),I){for(Y=-1,J=D.length;++Y<J;)if(F=D.charCodeAt(Y),48>F||F>57){W=(F===46?a+D.slice(Y+1):D.slice(Y))+W,D=D.slice(0,Y);break}}}S&&!v&&(D=t(D,1/0));var L=B.length+D.length+W.length,H=L<j?new Array(j-L+1).join(g):"";switch(S&&v&&(D=t(H+D,H.length?j-W.length:1/0),H=""),x){case"<":D=B+D+W+H;break;case"=":D=B+H+D+W;break;case"^":D=H.slice(0,L=H.length>>1)+B+D+W+H.slice(L);break;default:D=H+B+D+W;break}return i(D)}return R.toString=function(){return h+""},R}function p(h,g){var x=f((h=id(h),h.type="f",h)),_=Math.max(-8,Math.min(8,Math.floor(Hl(g)/3)))*3,b=Math.pow(10,-_),v=XT[8+_/3];return function(j){return x(b*j)+v}}return{format:f,formatPrefix:p}}var yh,i1,tF;hie({thousands:",",grouping:[3],currency:["$",""]});function hie(e){return yh=fie(e),i1=yh.format,tF=yh.formatPrefix,yh}function pie(e){return Math.max(0,-Hl(Math.abs(e)))}function mie(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hl(t)/3)))*3-Hl(Math.abs(e)))}function gie(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Hl(t)-Hl(e))+1}function rF(e,t,r,n){var a=P_(e,t,r),i;switch(n=id(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=mie(a,s))&&(n.precision=i),tF(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=gie(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=pie(a))&&(n.precision=i-(n.type==="%")*2);break}}return i1(n)}function To(e){var t=e.domain;return e.ticks=function(r){var n=t();return C_(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return rF(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],c=n[i],d,f,p=10;for(c<s&&(f=s,s=c,c=f,f=a,a=i,i=f);p-- >0;){if(f=A_(s,c,r),f===d)return n[a]=s,n[i]=c,t(n);if(f>0)s=Math.floor(s/f)*f,c=Math.ceil(c/f)*f;else if(f<0)s=Math.ceil(s*f)/f,c=Math.floor(c*f)/f;else break;d=f}return e},e}function gp(){var e=n1();return e.copy=function(){return Fd(e,gp())},ca.apply(e,arguments),To(e)}function nF(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,pp),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return nF(e).unknown(t)},e=arguments.length?Array.from(e,pp):[0,1],To(r)}function aF(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function JT(e){return Math.log(e)}function QT(e){return Math.exp(e)}function vie(e){return-Math.log(-e)}function yie(e){return-Math.exp(-e)}function xie(e){return isFinite(e)?+("1e"+e):e<0?0:e}function bie(e){return e===10?xie:e===Math.E?Math.exp:t=>Math.pow(e,t)}function wie(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function ZT(e){return(t,r)=>-e(-t,r)}function o1(e){const t=e(JT,QT),r=t.domain;let n=10,a,i;function s(){return a=wie(n),i=bie(n),r()[0]<0?(a=ZT(a),i=ZT(i),e(vie,yie)):e(JT,QT),t}return t.base=function(c){return arguments.length?(n=+c,s()):n},t.domain=function(c){return arguments.length?(r(c),s()):r()},t.ticks=c=>{const d=r();let f=d[0],p=d[d.length-1];const h=p<f;h&&([f,p]=[p,f]);let g=a(f),x=a(p),_,b;const v=c==null?10:+c;let j=[];if(!(n%1)&&x-g<v){if(g=Math.floor(g),x=Math.ceil(x),f>0){for(;g<=x;++g)for(_=1;_<n;++_)if(b=g<0?_/i(-g):_*i(g),!(b<f)){if(b>p)break;j.push(b)}}else for(;g<=x;++g)for(_=n-1;_>=1;--_)if(b=g>0?_/i(-g):_*i(g),!(b<f)){if(b>p)break;j.push(b)}j.length*2<v&&(j=C_(f,p,v))}else j=C_(g,x,Math.min(x-g,v)).map(i);return h?j.reverse():j},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=id(d)).precision==null&&(d.trim=!0),d=i1(d)),c===1/0)return d;const f=Math.max(1,n*c/t.ticks().length);return p=>{let h=p/i(Math.round(a(p)));return h*n<n-.5&&(h*=n),h<=f?d(p):""}},t.nice=()=>r(aF(r(),{floor:c=>i(Math.floor(a(c))),ceil:c=>i(Math.ceil(a(c)))})),t}function iF(){const e=o1(Um()).domain([1,10]);return e.copy=()=>Fd(e,iF()).base(e.base()),ca.apply(e,arguments),e}function e2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function t2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function s1(e){var t=1,r=e(e2(t),t2(t));return r.constant=function(n){return arguments.length?e(e2(t=+n),t2(t)):t},To(r)}function oF(){var e=s1(Um());return e.copy=function(){return Fd(e,oF()).constant(e.constant())},ca.apply(e,arguments)}function r2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function _ie(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function jie(e){return e<0?-e*e:e*e}function l1(e){var t=e(an,an),r=1;function n(){return r===1?e(an,an):r===.5?e(_ie,jie):e(r2(r),r2(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},To(t)}function c1(){var e=l1(Um());return e.copy=function(){return Fd(e,c1()).exponent(e.exponent())},ca.apply(e,arguments),e}function Sie(){return c1.apply(null,arguments).exponent(.5)}function n2(e){return Math.sign(e)*e*e}function Eie(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function sF(){var e=n1(),t=[0,1],r=!1,n;function a(i){var s=Eie(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(n2(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,pp)).map(n2)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return sF(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ca.apply(a,arguments),To(a)}function lF(){var e=[],t=[],r=[],n;function a(){var s=0,c=Math.max(1,t.length);for(r=new Array(c-1);++s<c;)r[s-1]=Oae(e,s/c);return i}function i(s){return s==null||isNaN(s=+s)?n:t[Ld(r,s)]}return i.invertExtent=function(s){var c=t.indexOf(s);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let c of s)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(jo),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return lF().domain(e).range(t).unknown(n)},ca.apply(i,arguments)}function cF(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(d){return d!=null&&d<=d?a[Ld(n,d,0,r)]:i}function c(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return s}return s.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,c()):[e,t]},s.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,c()):a.slice()},s.invertExtent=function(d){var f=a.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},s.unknown=function(d){return arguments.length&&(i=d),s},s.thresholds=function(){return n.slice()},s.copy=function(){return cF().domain([e,t]).range(a).unknown(i)},ca.apply(To(s),arguments)}function uF(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Ld(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return uF().domain(e).range(t).unknown(r)},ca.apply(a,arguments)}const Tb=new Date,Rb=new Date;function wr(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),c=a.ceil(i);return i-s<c-i?s:c},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,c)=>{const d=[];if(i=a.ceil(i),c=c==null?1:Math.floor(c),!(i<s)||!(c>0))return d;let f;do d.push(f=new Date(+i)),t(i,c),e(i);while(f<i&&i<s);return d},a.filter=i=>wr(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,c)=>{if(s>=s)if(c<0)for(;++c<=0;)for(;t(s,-1),!i(s););else for(;--c>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(Tb.setTime(+i),Rb.setTime(+s),e(Tb),e(Rb),Math.floor(r(Tb,Rb))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const vp=wr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);vp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?wr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):vp);vp.range;const gi=1e3,ta=gi*60,vi=ta*60,Ei=vi*24,u1=Ei*7,a2=Ei*30,Ib=Ei*365,ds=wr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*gi)},(e,t)=>(t-e)/gi,e=>e.getUTCSeconds());ds.range;const d1=wr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gi)},(e,t)=>{e.setTime(+e+t*ta)},(e,t)=>(t-e)/ta,e=>e.getMinutes());d1.range;const f1=wr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ta)},(e,t)=>(t-e)/ta,e=>e.getUTCMinutes());f1.range;const h1=wr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gi-e.getMinutes()*ta)},(e,t)=>{e.setTime(+e+t*vi)},(e,t)=>(t-e)/vi,e=>e.getHours());h1.range;const p1=wr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*vi)},(e,t)=>(t-e)/vi,e=>e.getUTCHours());p1.range;const Bd=wr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ta)/Ei,e=>e.getDate()-1);Bd.range;const Vm=wr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ei,e=>e.getUTCDate()-1);Vm.range;const dF=wr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ei,e=>Math.floor(e/Ei));dF.range;function Rs(e){return wr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ta)/u1)}const Wm=Rs(0),yp=Rs(1),Nie=Rs(2),Cie=Rs(3),Gl=Rs(4),Aie=Rs(5),Pie=Rs(6);Wm.range;yp.range;Nie.range;Cie.range;Gl.range;Aie.range;Pie.range;function Is(e){return wr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/u1)}const Hm=Is(0),xp=Is(1),Oie=Is(2),kie=Is(3),Kl=Is(4),Tie=Is(5),Rie=Is(6);Hm.range;xp.range;Oie.range;kie.range;Kl.range;Tie.range;Rie.range;const m1=wr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());m1.range;const g1=wr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());g1.range;const Ni=wr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ni.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ni.range;const Ci=wr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ci.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ci.range;function fF(e,t,r,n,a,i){const s=[[ds,1,gi],[ds,5,5*gi],[ds,15,15*gi],[ds,30,30*gi],[i,1,ta],[i,5,5*ta],[i,15,15*ta],[i,30,30*ta],[a,1,vi],[a,3,3*vi],[a,6,6*vi],[a,12,12*vi],[n,1,Ei],[n,2,2*Ei],[r,1,u1],[t,1,a2],[t,3,3*a2],[e,1,Ib]];function c(f,p,h){const g=p<f;g&&([f,p]=[p,f]);const x=h&&typeof h.range=="function"?h:d(f,p,h),_=x?x.range(f,+p+1):[];return g?_.reverse():_}function d(f,p,h){const g=Math.abs(p-f)/h,x=QS(([,,v])=>v).right(s,g);if(x===s.length)return e.every(P_(f/Ib,p/Ib,h));if(x===0)return vp.every(Math.max(P_(f,p,h),1));const[_,b]=s[g/s[x-1][2]<s[x][2]/g?x-1:x];return _.every(b)}return[c,d]}const[Iie,Mie]=fF(Ci,g1,Hm,dF,p1,f1),[Die,$ie]=fF(Ni,m1,Wm,Bd,h1,d1);function Mb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Db(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function pu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Lie(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,c=e.months,d=e.shortMonths,f=mu(a),p=gu(a),h=mu(i),g=gu(i),x=mu(s),_=gu(s),b=mu(c),v=gu(c),j=mu(d),S=gu(d),A={a:K,A:L,b:H,B:te,c:null,d:u2,e:u2,f:soe,g:voe,G:xoe,H:aoe,I:ioe,j:ooe,L:hF,m:loe,M:coe,p:q,q:Q,Q:h2,s:p2,S:uoe,u:doe,U:foe,V:hoe,w:poe,W:moe,x:null,X:null,y:goe,Y:yoe,Z:boe,"%":f2},P={a:U,A:ne,b:se,B:ve,c:null,d:d2,e:d2,f:Soe,g:Ioe,G:Doe,H:woe,I:_oe,j:joe,L:mF,m:Eoe,M:Noe,p:re,q:oe,Q:h2,s:p2,S:Coe,u:Aoe,U:Poe,V:Ooe,w:koe,W:Toe,x:null,X:null,y:Roe,Y:Moe,Z:$oe,"%":f2},E={a:R,A:D,b:B,B:W,c:Y,d:l2,e:l2,f:eoe,g:s2,G:o2,H:c2,I:c2,j:Xie,L:Zie,m:Yie,M:Jie,p:I,q:Kie,Q:roe,s:noe,S:Qie,u:Uie,U:Vie,V:Wie,w:qie,W:Hie,x:J,X:F,y:s2,Y:o2,Z:Gie,"%":toe};A.x=O(r,A),A.X=O(n,A),A.c=O(t,A),P.x=O(r,P),P.X=O(n,P),P.c=O(t,P);function O(ee,me){return function(xe){var ue=[],He=-1,Fe=0,ut=ee.length,vt,yt,tr;for(xe instanceof Date||(xe=new Date(+xe));++He<ut;)ee.charCodeAt(He)===37&&(ue.push(ee.slice(Fe,He)),(yt=i2[vt=ee.charAt(++He)])!=null?vt=ee.charAt(++He):yt=vt==="e"?" ":"0",(tr=me[vt])&&(vt=tr(xe,yt)),ue.push(vt),Fe=He+1);return ue.push(ee.slice(Fe,He)),ue.join("")}}function C(ee,me){return function(xe){var ue=pu(1900,void 0,1),He=T(ue,ee,xe+="",0),Fe,ut;if(He!=xe.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(me&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(Fe=Db(pu(ue.y,0,1)),ut=Fe.getUTCDay(),Fe=ut>4||ut===0?xp.ceil(Fe):xp(Fe),Fe=Vm.offset(Fe,(ue.V-1)*7),ue.y=Fe.getUTCFullYear(),ue.m=Fe.getUTCMonth(),ue.d=Fe.getUTCDate()+(ue.w+6)%7):(Fe=Mb(pu(ue.y,0,1)),ut=Fe.getDay(),Fe=ut>4||ut===0?yp.ceil(Fe):yp(Fe),Fe=Bd.offset(Fe,(ue.V-1)*7),ue.y=Fe.getFullYear(),ue.m=Fe.getMonth(),ue.d=Fe.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),ut="Z"in ue?Db(pu(ue.y,0,1)).getUTCDay():Mb(pu(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(ut+5)%7:ue.w+ue.U*7-(ut+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,Db(ue)):Mb(ue)}}function T(ee,me,xe,ue){for(var He=0,Fe=me.length,ut=xe.length,vt,yt;He<Fe;){if(ue>=ut)return-1;if(vt=me.charCodeAt(He++),vt===37){if(vt=me.charAt(He++),yt=E[vt in i2?me.charAt(He++):vt],!yt||(ue=yt(ee,xe,ue))<0)return-1}else if(vt!=xe.charCodeAt(ue++))return-1}return ue}function I(ee,me,xe){var ue=f.exec(me.slice(xe));return ue?(ee.p=p.get(ue[0].toLowerCase()),xe+ue[0].length):-1}function R(ee,me,xe){var ue=x.exec(me.slice(xe));return ue?(ee.w=_.get(ue[0].toLowerCase()),xe+ue[0].length):-1}function D(ee,me,xe){var ue=h.exec(me.slice(xe));return ue?(ee.w=g.get(ue[0].toLowerCase()),xe+ue[0].length):-1}function B(ee,me,xe){var ue=j.exec(me.slice(xe));return ue?(ee.m=S.get(ue[0].toLowerCase()),xe+ue[0].length):-1}function W(ee,me,xe){var ue=b.exec(me.slice(xe));return ue?(ee.m=v.get(ue[0].toLowerCase()),xe+ue[0].length):-1}function Y(ee,me,xe){return T(ee,t,me,xe)}function J(ee,me,xe){return T(ee,r,me,xe)}function F(ee,me,xe){return T(ee,n,me,xe)}function K(ee){return s[ee.getDay()]}function L(ee){return i[ee.getDay()]}function H(ee){return d[ee.getMonth()]}function te(ee){return c[ee.getMonth()]}function q(ee){return a[+(ee.getHours()>=12)]}function Q(ee){return 1+~~(ee.getMonth()/3)}function U(ee){return s[ee.getUTCDay()]}function ne(ee){return i[ee.getUTCDay()]}function se(ee){return d[ee.getUTCMonth()]}function ve(ee){return c[ee.getUTCMonth()]}function re(ee){return a[+(ee.getUTCHours()>=12)]}function oe(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var me=O(ee+="",A);return me.toString=function(){return ee},me},parse:function(ee){var me=C(ee+="",!1);return me.toString=function(){return ee},me},utcFormat:function(ee){var me=O(ee+="",P);return me.toString=function(){return ee},me},utcParse:function(ee){var me=C(ee+="",!0);return me.toString=function(){return ee},me}}}var i2={"-":"",_:" ",0:"0"},Dr=/^\s*\d+/,zie=/^%/,Fie=/[\\^$*+?|[\]().{}]/g;function St(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Bie(e){return e.replace(Fie,"\\$&")}function mu(e){return new RegExp("^(?:"+e.map(Bie).join("|")+")","i")}function gu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function qie(e,t,r){var n=Dr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Uie(e,t,r){var n=Dr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Vie(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Wie(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Hie(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function o2(e,t,r){var n=Dr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function s2(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Gie(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Kie(e,t,r){var n=Dr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Yie(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function l2(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Xie(e,t,r){var n=Dr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function c2(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Jie(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Qie(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Zie(e,t,r){var n=Dr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function eoe(e,t,r){var n=Dr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function toe(e,t,r){var n=zie.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function roe(e,t,r){var n=Dr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function noe(e,t,r){var n=Dr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function u2(e,t){return St(e.getDate(),t,2)}function aoe(e,t){return St(e.getHours(),t,2)}function ioe(e,t){return St(e.getHours()%12||12,t,2)}function ooe(e,t){return St(1+Bd.count(Ni(e),e),t,3)}function hF(e,t){return St(e.getMilliseconds(),t,3)}function soe(e,t){return hF(e,t)+"000"}function loe(e,t){return St(e.getMonth()+1,t,2)}function coe(e,t){return St(e.getMinutes(),t,2)}function uoe(e,t){return St(e.getSeconds(),t,2)}function doe(e){var t=e.getDay();return t===0?7:t}function foe(e,t){return St(Wm.count(Ni(e)-1,e),t,2)}function pF(e){var t=e.getDay();return t>=4||t===0?Gl(e):Gl.ceil(e)}function hoe(e,t){return e=pF(e),St(Gl.count(Ni(e),e)+(Ni(e).getDay()===4),t,2)}function poe(e){return e.getDay()}function moe(e,t){return St(yp.count(Ni(e)-1,e),t,2)}function goe(e,t){return St(e.getFullYear()%100,t,2)}function voe(e,t){return e=pF(e),St(e.getFullYear()%100,t,2)}function yoe(e,t){return St(e.getFullYear()%1e4,t,4)}function xoe(e,t){var r=e.getDay();return e=r>=4||r===0?Gl(e):Gl.ceil(e),St(e.getFullYear()%1e4,t,4)}function boe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+St(t/60|0,"0",2)+St(t%60,"0",2)}function d2(e,t){return St(e.getUTCDate(),t,2)}function woe(e,t){return St(e.getUTCHours(),t,2)}function _oe(e,t){return St(e.getUTCHours()%12||12,t,2)}function joe(e,t){return St(1+Vm.count(Ci(e),e),t,3)}function mF(e,t){return St(e.getUTCMilliseconds(),t,3)}function Soe(e,t){return mF(e,t)+"000"}function Eoe(e,t){return St(e.getUTCMonth()+1,t,2)}function Noe(e,t){return St(e.getUTCMinutes(),t,2)}function Coe(e,t){return St(e.getUTCSeconds(),t,2)}function Aoe(e){var t=e.getUTCDay();return t===0?7:t}function Poe(e,t){return St(Hm.count(Ci(e)-1,e),t,2)}function gF(e){var t=e.getUTCDay();return t>=4||t===0?Kl(e):Kl.ceil(e)}function Ooe(e,t){return e=gF(e),St(Kl.count(Ci(e),e)+(Ci(e).getUTCDay()===4),t,2)}function koe(e){return e.getUTCDay()}function Toe(e,t){return St(xp.count(Ci(e)-1,e),t,2)}function Roe(e,t){return St(e.getUTCFullYear()%100,t,2)}function Ioe(e,t){return e=gF(e),St(e.getUTCFullYear()%100,t,2)}function Moe(e,t){return St(e.getUTCFullYear()%1e4,t,4)}function Doe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Kl(e):Kl.ceil(e),St(e.getUTCFullYear()%1e4,t,4)}function $oe(){return"+0000"}function f2(){return"%"}function h2(e){return+e}function p2(e){return Math.floor(+e/1e3)}var ml,vF,yF;Loe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Loe(e){return ml=Lie(e),vF=ml.format,ml.parse,yF=ml.utcFormat,ml.utcParse,ml}function zoe(e){return new Date(e)}function Foe(e){return e instanceof Date?+e:+new Date(+e)}function v1(e,t,r,n,a,i,s,c,d,f){var p=n1(),h=p.invert,g=p.domain,x=f(".%L"),_=f(":%S"),b=f("%I:%M"),v=f("%I %p"),j=f("%a %d"),S=f("%b %d"),A=f("%B"),P=f("%Y");function E(O){return(d(O)<O?x:c(O)<O?_:s(O)<O?b:i(O)<O?v:n(O)<O?a(O)<O?j:S:r(O)<O?A:P)(O)}return p.invert=function(O){return new Date(h(O))},p.domain=function(O){return arguments.length?g(Array.from(O,Foe)):g().map(zoe)},p.ticks=function(O){var C=g();return e(C[0],C[C.length-1],O??10)},p.tickFormat=function(O,C){return C==null?E:f(C)},p.nice=function(O){var C=g();return(!O||typeof O.range!="function")&&(O=t(C[0],C[C.length-1],O??10)),O?g(aF(C,O)):p},p.copy=function(){return Fd(p,v1(e,t,r,n,a,i,s,c,d,f))},p}function Boe(){return ca.apply(v1(Die,$ie,Ni,m1,Wm,Bd,h1,d1,ds,vF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qoe(){return ca.apply(v1(Iie,Mie,Ci,g1,Hm,Vm,p1,f1,ds,yF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Gm(){var e=0,t=1,r,n,a,i,s=an,c=!1,d;function f(h){return h==null||isNaN(h=+h)?d:s(a===0?.5:(h=(i(h)-r)*a,c?Math.max(0,Math.min(1,h)):h))}f.domain=function(h){return arguments.length?([e,t]=h,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(h){return arguments.length?(c=!!h,f):c},f.interpolator=function(h){return arguments.length?(s=h,f):s};function p(h){return function(g){var x,_;return arguments.length?([x,_]=g,s=h(x,_),f):[s(0),s(1)]}}return f.range=p(Nc),f.rangeRound=p(r1),f.unknown=function(h){return arguments.length?(d=h,f):d},function(h){return i=h,r=h(e),n=h(t),a=r===n?0:1/(n-r),f}}function Ro(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function xF(){var e=To(Gm()(an));return e.copy=function(){return Ro(e,xF())},qi.apply(e,arguments)}function bF(){var e=o1(Gm()).domain([1,10]);return e.copy=function(){return Ro(e,bF()).base(e.base())},qi.apply(e,arguments)}function wF(){var e=s1(Gm());return e.copy=function(){return Ro(e,wF()).constant(e.constant())},qi.apply(e,arguments)}function y1(){var e=l1(Gm());return e.copy=function(){return Ro(e,y1()).exponent(e.exponent())},qi.apply(e,arguments)}function Uoe(){return y1.apply(null,arguments).exponent(.5)}function _F(){var e=[],t=an;function r(n){if(n!=null&&!isNaN(n=+n))return t((Ld(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(jo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Pae(e,i/n))},r.copy=function(){return _F(t).domain(e)},qi.apply(r,arguments)}function Km(){var e=0,t=.5,r=1,n=1,a,i,s,c,d,f=an,p,h=!1,g;function x(b){return isNaN(b=+b)?g:(b=.5+((b=+p(b))-i)*(n*b<n*i?c:d),f(h?Math.max(0,Math.min(1,b)):b))}x.domain=function(b){return arguments.length?([e,t,r]=b,a=p(e=+e),i=p(t=+t),s=p(r=+r),c=a===i?0:.5/(i-a),d=i===s?0:.5/(s-i),n=i<a?-1:1,x):[e,t,r]},x.clamp=function(b){return arguments.length?(h=!!b,x):h},x.interpolator=function(b){return arguments.length?(f=b,x):f};function _(b){return function(v){var j,S,A;return arguments.length?([j,S,A]=v,f=tie(b,[j,S,A]),x):[f(0),f(.5),f(1)]}}return x.range=_(Nc),x.rangeRound=_(r1),x.unknown=function(b){return arguments.length?(g=b,x):g},function(b){return p=b,a=b(e),i=b(t),s=b(r),c=a===i?0:.5/(i-a),d=i===s?0:.5/(s-i),n=i<a?-1:1,x}}function jF(){var e=To(Km()(an));return e.copy=function(){return Ro(e,jF())},qi.apply(e,arguments)}function SF(){var e=o1(Km()).domain([.1,1,10]);return e.copy=function(){return Ro(e,SF()).base(e.base())},qi.apply(e,arguments)}function EF(){var e=s1(Km());return e.copy=function(){return Ro(e,EF()).constant(e.constant())},qi.apply(e,arguments)}function x1(){var e=l1(Km());return e.copy=function(){return Ro(e,x1()).exponent(e.exponent())},qi.apply(e,arguments)}function Voe(){return x1.apply(null,arguments).exponent(.5)}const m2=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:td,scaleDiverging:jF,scaleDivergingLog:SF,scaleDivergingPow:x1,scaleDivergingSqrt:Voe,scaleDivergingSymlog:EF,scaleIdentity:nF,scaleImplicit:O_,scaleLinear:gp,scaleLog:iF,scaleOrdinal:ZS,scalePoint:ku,scalePow:c1,scaleQuantile:lF,scaleQuantize:cF,scaleRadial:sF,scaleSequential:xF,scaleSequentialLog:bF,scaleSequentialPow:y1,scaleSequentialQuantile:_F,scaleSequentialSqrt:Uoe,scaleSequentialSymlog:wF,scaleSqrt:Sie,scaleSymlog:oF,scaleThreshold:uF,scaleTime:Boe,scaleUtc:qoe,tickFormat:rF},Symbol.toStringTag,{value:"Module"}));var $b,g2;function Ym(){if(g2)return $b;g2=1;var e=_c();function t(r,n,a){for(var i=-1,s=r.length;++i<s;){var c=r[i],d=n(c);if(d!=null&&(f===void 0?d===d&&!e(d):a(d,f)))var f=d,p=c}return p}return $b=t,$b}var Lb,v2;function NF(){if(v2)return Lb;v2=1;function e(t,r){return t>r}return Lb=e,Lb}var zb,y2;function Woe(){if(y2)return zb;y2=1;var e=Ym(),t=NF(),r=Ec();function n(a){return a&&a.length?e(a,r,t):void 0}return zb=n,zb}var Hoe=Woe();const Xm=Ct(Hoe);var Fb,x2;function CF(){if(x2)return Fb;x2=1;function e(t,r){return t<r}return Fb=e,Fb}var Bb,b2;function Goe(){if(b2)return Bb;b2=1;var e=Ym(),t=CF(),r=Ec();function n(a){return a&&a.length?e(a,r,t):void 0}return Bb=n,Bb}var Koe=Goe();const Jm=Ct(Koe);var qb,w2;function Yoe(){if(w2)return qb;w2=1;var e=MS(),t=Qa(),r=Mz(),n=yn();function a(i,s){var c=n(i)?e:r;return c(i,t(s,3))}return qb=a,qb}var Ub,_2;function Xoe(){if(_2)return Ub;_2=1;var e=Rz(),t=Yoe();function r(n,a){return e(t(n,a),1)}return Ub=r,Ub}var Joe=Xoe();const Qoe=Ct(Joe);var Vb,j2;function Zoe(){if(j2)return Vb;j2=1;var e=KS();function t(r,n){return e(r,n)}return Vb=t,Vb}var ese=Zoe();const qd=Ct(ese);var Cc=1e9,tse={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},w1,Ut=!0,sa="[DecimalError] ",gs=sa+"Invalid argument: ",b1=sa+"Exponent out of range: ",Ac=Math.floor,ns=Math.pow,rse=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mn,Cr=1e7,Ft=7,AF=9007199254740991,bp=Ac(AF/Ft),Re={};Re.absoluteValue=Re.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Re.comparedTo=Re.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Re.decimalPlaces=Re.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ft;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Re.dividedBy=Re.div=function(e){return bi(this,new this.constructor(e))};Re.dividedToIntegerBy=Re.idiv=function(e){var t=this,r=t.constructor;return Ot(bi(t,new r(e),0,1),r.precision)};Re.equals=Re.eq=function(e){return!this.cmp(e)};Re.exponent=function(){return ur(this)};Re.greaterThan=Re.gt=function(e){return this.cmp(e)>0};Re.greaterThanOrEqualTo=Re.gte=function(e){return this.cmp(e)>=0};Re.isInteger=Re.isint=function(){return this.e>this.d.length-2};Re.isNegative=Re.isneg=function(){return this.s<0};Re.isPositive=Re.ispos=function(){return this.s>0};Re.isZero=function(){return this.s===0};Re.lessThan=Re.lt=function(e){return this.cmp(e)<0};Re.lessThanOrEqualTo=Re.lte=function(e){return this.cmp(e)<1};Re.logarithm=Re.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Mn))throw Error(sa+"NaN");if(r.s<1)throw Error(sa+(r.s?"NaN":"-Infinity"));return r.eq(Mn)?new n(0):(Ut=!1,t=bi(od(r,i),od(e,i),i),Ut=!0,Ot(t,a))};Re.minus=Re.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?kF(t,e):PF(t,(e.s=-e.s,e))};Re.modulo=Re.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(sa+"NaN");return r.s?(Ut=!1,t=bi(r,e,0,1).times(e),Ut=!0,r.minus(t)):Ot(new n(r),a)};Re.naturalExponential=Re.exp=function(){return OF(this)};Re.naturalLogarithm=Re.ln=function(){return od(this)};Re.negated=Re.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Re.plus=Re.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?PF(t,e):kF(t,(e.s=-e.s,e))};Re.precision=Re.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(gs+e);if(t=ur(a)+1,n=a.d.length-1,r=n*Ft+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Re.squareRoot=Re.sqrt=function(){var e,t,r,n,a,i,s,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(sa+"NaN")}for(e=ur(c),Ut=!1,a=Math.sqrt(+c),a==0||a==1/0?(t=Ba(c.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ac((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(a.toString()),r=d.precision,a=s=r+3;;)if(i=n,n=i.plus(bi(c,i,s+2)).times(.5),Ba(i.d).slice(0,s)===(t=Ba(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(Ot(i,r+1,0),i.times(i).eq(c)){n=i;break}}else if(t!="9999")break;s+=4}return Ut=!0,Ot(n,r)};Re.times=Re.mul=function(e){var t,r,n,a,i,s,c,d,f,p=this,h=p.constructor,g=p.d,x=(e=new h(e)).d;if(!p.s||!e.s)return new h(0);for(e.s*=p.s,r=p.e+e.e,d=g.length,f=x.length,d<f&&(i=g,g=x,x=i,s=d,d=f,f=s),i=[],s=d+f,n=s;n--;)i.push(0);for(n=f;--n>=0;){for(t=0,a=d+n;a>n;)c=i[a]+x[n]*g[a-n-1]+t,i[a--]=c%Cr|0,t=c/Cr|0;i[a]=(i[a]+t)%Cr|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ut?Ot(e,h.precision):e};Re.toDecimalPlaces=Re.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ha(e,0,Cc),t===void 0?t=n.rounding:Ha(t,0,8),Ot(r,e+ur(r)+1,t))};Re.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Es(n,!0):(Ha(e,0,Cc),t===void 0?t=a.rounding:Ha(t,0,8),n=Ot(new a(n),e+1,t),r=Es(n,!0,e+1)),r};Re.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Es(a):(Ha(e,0,Cc),t===void 0?t=i.rounding:Ha(t,0,8),n=Ot(new i(a),e+ur(a)+1,t),r=Es(n.abs(),!1,e+ur(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Re.toInteger=Re.toint=function(){var e=this,t=e.constructor;return Ot(new t(e),ur(e)+1,t.rounding)};Re.toNumber=function(){return+this};Re.toPower=Re.pow=function(e){var t,r,n,a,i,s,c=this,d=c.constructor,f=12,p=+(e=new d(e));if(!e.s)return new d(Mn);if(c=new d(c),!c.s){if(e.s<1)throw Error(sa+"Infinity");return c}if(c.eq(Mn))return c;if(n=d.precision,e.eq(Mn))return Ot(c,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=c.s,s){if((r=p<0?-p:p)<=AF){for(a=new d(Mn),t=Math.ceil(n/Ft+4),Ut=!1;r%2&&(a=a.times(c),E2(a.d,t)),r=Ac(r/2),r!==0;)c=c.times(c),E2(c.d,t);return Ut=!0,e.s<0?new d(Mn).div(a):Ot(a,n)}}else if(i<0)throw Error(sa+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,Ut=!1,a=e.times(od(c,n+f)),Ut=!0,a=OF(a),a.s=i,a};Re.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ur(a),n=Es(a,r<=i.toExpNeg||r>=i.toExpPos)):(Ha(e,1,Cc),t===void 0?t=i.rounding:Ha(t,0,8),a=Ot(new i(a),e,t),r=ur(a),n=Es(a,e<=r||r<=i.toExpNeg,e)),n};Re.toSignificantDigits=Re.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ha(e,1,Cc),t===void 0?t=n.rounding:Ha(t,0,8)),Ot(new n(r),e,t)};Re.toString=Re.valueOf=Re.val=Re.toJSON=Re[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ur(e),r=e.constructor;return Es(e,t<=r.toExpNeg||t>=r.toExpPos)};function PF(e,t){var r,n,a,i,s,c,d,f,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),Ut?Ot(t,h):t;if(d=e.d,f=t.d,s=e.e,a=t.e,d=d.slice(),i=s-a,i){for(i<0?(n=d,i=-i,c=f.length):(n=f,a=s,c=d.length),s=Math.ceil(h/Ft),c=s>c?s+1:c+1,i>c&&(i=c,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(c=d.length,i=f.length,c-i<0&&(i=c,n=f,f=d,d=n),r=0;i;)r=(d[--i]=d[i]+f[i]+r)/Cr|0,d[i]%=Cr;for(r&&(d.unshift(r),++a),c=d.length;d[--c]==0;)d.pop();return t.d=d,t.e=a,Ut?Ot(t,h):t}function Ha(e,t,r){if(e!==~~e||e<t||e>r)throw Error(gs+e)}function Ba(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Ft-n.length,r&&(i+=mo(r)),i+=n;s=e[t],n=s+"",r=Ft-n.length,r&&(i+=mo(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var bi=(function(){function e(n,a){var i,s=0,c=n.length;for(n=n.slice();c--;)i=n[c]*a+s,n[c]=i%Cr|0,s=i/Cr|0;return s&&n.unshift(s),n}function t(n,a,i,s){var c,d;if(i!=s)d=i>s?1:-1;else for(c=d=0;c<i;c++)if(n[c]!=a[c]){d=n[c]>a[c]?1:-1;break}return d}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Cr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var c,d,f,p,h,g,x,_,b,v,j,S,A,P,E,O,C,T,I=n.constructor,R=n.s==a.s?1:-1,D=n.d,B=a.d;if(!n.s)return new I(n);if(!a.s)throw Error(sa+"Division by zero");for(d=n.e-a.e,C=B.length,E=D.length,x=new I(R),_=x.d=[],f=0;B[f]==(D[f]||0);)++f;if(B[f]>(D[f]||0)&&--d,i==null?S=i=I.precision:s?S=i+(ur(n)-ur(a))+1:S=i,S<0)return new I(0);if(S=S/Ft+2|0,f=0,C==1)for(p=0,B=B[0],S++;(f<E||p)&&S--;f++)A=p*Cr+(D[f]||0),_[f]=A/B|0,p=A%B|0;else{for(p=Cr/(B[0]+1)|0,p>1&&(B=e(B,p),D=e(D,p),C=B.length,E=D.length),P=C,b=D.slice(0,C),v=b.length;v<C;)b[v++]=0;T=B.slice(),T.unshift(0),O=B[0],B[1]>=Cr/2&&++O;do p=0,c=t(B,b,C,v),c<0?(j=b[0],C!=v&&(j=j*Cr+(b[1]||0)),p=j/O|0,p>1?(p>=Cr&&(p=Cr-1),h=e(B,p),g=h.length,v=b.length,c=t(h,b,g,v),c==1&&(p--,r(h,C<g?T:B,g))):(p==0&&(c=p=1),h=B.slice()),g=h.length,g<v&&h.unshift(0),r(b,h,v),c==-1&&(v=b.length,c=t(B,b,C,v),c<1&&(p++,r(b,C<v?T:B,v))),v=b.length):c===0&&(p++,b=[0]),_[f++]=p,c&&b[0]?b[v++]=D[P]||0:(b=[D[P]],v=1);while((P++<E||b[0]!==void 0)&&S--)}return _[0]||_.shift(),x.e=d,Ot(x,s?i+ur(x)+1:i)}})();function OF(e,t){var r,n,a,i,s,c,d=0,f=0,p=e.constructor,h=p.precision;if(ur(e)>16)throw Error(b1+ur(e));if(!e.s)return new p(Mn);for(Ut=!1,c=h,s=new p(.03125);e.abs().gte(.1);)e=e.times(s),f+=5;for(n=Math.log(ns(2,f))/Math.LN10*2+5|0,c+=n,r=a=i=new p(Mn),p.precision=c;;){if(a=Ot(a.times(e),c),r=r.times(++d),s=i.plus(bi(a,r,c)),Ba(s.d).slice(0,c)===Ba(i.d).slice(0,c)){for(;f--;)i=Ot(i.times(i),c);return p.precision=h,t==null?(Ut=!0,Ot(i,h)):i}i=s}}function ur(e){for(var t=e.e*Ft,r=e.d[0];r>=10;r/=10)t++;return t}function Wb(e,t,r){if(t>e.LN10.sd())throw Ut=!0,r&&(e.precision=r),Error(sa+"LN10 precision limit exceeded");return Ot(new e(e.LN10),t)}function mo(e){for(var t="";e--;)t+="0";return t}function od(e,t){var r,n,a,i,s,c,d,f,p,h=1,g=10,x=e,_=x.d,b=x.constructor,v=b.precision;if(x.s<1)throw Error(sa+(x.s?"NaN":"-Infinity"));if(x.eq(Mn))return new b(0);if(t==null?(Ut=!1,f=v):f=t,x.eq(10))return t==null&&(Ut=!0),Wb(b,f);if(f+=g,b.precision=f,r=Ba(_),n=r.charAt(0),i=ur(x),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=Ba(x.d),n=r.charAt(0),h++;i=ur(x),n>1?(x=new b("0."+r),i++):x=new b(n+"."+r.slice(1))}else return d=Wb(b,f+2,v).times(i+""),x=od(new b(n+"."+r.slice(1)),f-g).plus(d),b.precision=v,t==null?(Ut=!0,Ot(x,v)):x;for(c=s=x=bi(x.minus(Mn),x.plus(Mn),f),p=Ot(x.times(x),f),a=3;;){if(s=Ot(s.times(p),f),d=c.plus(bi(s,new b(a),f)),Ba(d.d).slice(0,f)===Ba(c.d).slice(0,f))return c=c.times(2),i!==0&&(c=c.plus(Wb(b,f+2,v).times(i+""))),c=bi(c,new b(h),f),b.precision=v,t==null?(Ut=!0,Ot(c,v)):c;c=d,a+=2}}function S2(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ac(r/Ft),e.d=[],n=(r+1)%Ft,r<0&&(n+=Ft),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ft;n<a;)e.d.push(+t.slice(n,n+=Ft));t=t.slice(n),n=Ft-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ut&&(e.e>bp||e.e<-bp))throw Error(b1+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ot(e,t,r){var n,a,i,s,c,d,f,p,h=e.d;for(s=1,i=h[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Ft,a=t,f=h[p=0];else{if(p=Math.ceil((n+1)/Ft),i=h.length,p>=i)return e;for(f=i=h[p],s=1;i>=10;i/=10)s++;n%=Ft,a=n-Ft+s}if(r!==void 0&&(i=ns(10,s-a-1),c=f/i%10|0,d=t<0||h[p+1]!==void 0||f%i,d=r<4?(c||d)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||d||r==6&&(n>0?a>0?f/ns(10,s-a):0:h[p-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return d?(i=ur(e),h.length=1,t=t-i-1,h[0]=ns(10,(Ft-t%Ft)%Ft),e.e=Ac(-t/Ft)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=p,i=1,p--):(h.length=p+1,i=ns(10,Ft-n),h[p]=a>0?(f/ns(10,s-a)%ns(10,a)|0)*i:0),d)for(;;)if(p==0){(h[0]+=i)==Cr&&(h[0]=1,++e.e);break}else{if(h[p]+=i,h[p]!=Cr)break;h[p--]=0,i=1}for(n=h.length;h[--n]===0;)h.pop();if(Ut&&(e.e>bp||e.e<-bp))throw Error(b1+ur(e));return e}function kF(e,t){var r,n,a,i,s,c,d,f,p,h,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),Ut?Ot(t,x):t;if(d=e.d,h=t.d,n=t.e,f=e.e,d=d.slice(),s=f-n,s){for(p=s<0,p?(r=d,s=-s,c=h.length):(r=h,n=f,c=d.length),a=Math.max(Math.ceil(x/Ft),c)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=d.length,c=h.length,p=a<c,p&&(c=a),a=0;a<c;a++)if(d[a]!=h[a]){p=d[a]<h[a];break}s=0}for(p&&(r=d,d=h,h=r,t.s=-t.s),c=d.length,a=h.length-c;a>0;--a)d[c++]=0;for(a=h.length;a>s;){if(d[--a]<h[a]){for(i=a;i&&d[--i]===0;)d[i]=Cr-1;--d[i],d[a]+=Cr}d[a]-=h[a]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,Ut?Ot(t,x):t):new g(0)}function Es(e,t,r){var n,a=ur(e),i=Ba(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+mo(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+mo(-a-1)+i,r&&(n=r-s)>0&&(i+=mo(n))):a>=s?(i+=mo(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+mo(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=mo(n))),e.s<0?"-"+i:i}function E2(e,t){if(e.length>t)return e.length=t,!0}function TF(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(gs+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return S2(s,i.toString())}else if(typeof i!="string")throw Error(gs+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,rse.test(i))S2(s,i);else throw Error(gs+i)}if(a.prototype=Re,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=TF,a.config=a.set=nse,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function nse(e){if(!e||typeof e!="object")throw Error(sa+"Object expected");var t,r,n,a=["precision",1,Cc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ac(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(gs+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(gs+r+": "+n);return this}var w1=TF(tse);Mn=new w1(1);const Pt=w1;function ase(e){return lse(e)||sse(e)||ose(e)||ise()}function ise(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ose(e,t){if(e){if(typeof e=="string")return I_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I_(e,t)}}function sse(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function lse(e){if(Array.isArray(e))return I_(e)}function I_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var cse=function(t){return t},RF={},IF=function(t){return t===RF},N2=function(t){return function r(){return arguments.length===0||arguments.length===1&&IF(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},use=function e(t,r){return t===1?r:N2(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(c){return c!==RF}).length;return s>=t?r.apply(void 0,a):e(t-s,N2(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var p=a.map(function(h){return IF(h)?d.shift():h});return r.apply(void 0,ase(p).concat(d))}))})},Qm=function(t){return use(t.length,t)},M_=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},dse=Qm(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),fse=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return cse;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(c,d){return d(c)},i.apply(void 0,arguments))}},D_=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},MF=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(c,d){return c===r[d]})||(r=i,n=t.apply(void 0,i)),n}};function hse(e){var t;return e===0?t=1:t=Math.floor(new Pt(e).abs().log(10).toNumber())+1,t}function pse(e,t,r){for(var n=new Pt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var mse=Qm(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),gse=Qm(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),vse=Qm(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Zm={rangeStep:pse,getDigitCount:hse,interpolateNumber:mse,uninterpolateNumber:gse,uninterpolateTruncation:vse};function $_(e){return bse(e)||xse(e)||DF(e)||yse()}function yse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xse(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function bse(e){if(Array.isArray(e))return L_(e)}function sd(e,t){return jse(e)||_se(e,t)||DF(e,t)||wse()}function wse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DF(e,t){if(e){if(typeof e=="string")return L_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L_(e,t)}}function L_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _se(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),c;!(n=(c=s.next()).done)&&(r.push(c.value),!(t&&r.length===t));n=!0);}catch(d){a=!0,i=d}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function jse(e){if(Array.isArray(e))return e}function $F(e){var t=sd(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function LF(e,t,r){if(e.lte(0))return new Pt(0);var n=Zm.getDigitCount(e.toNumber()),a=new Pt(10).pow(n),i=e.div(a),s=n!==1?.05:.1,c=new Pt(Math.ceil(i.div(s).toNumber())).add(r).mul(s),d=c.mul(a);return t?d:new Pt(Math.ceil(d))}function Sse(e,t,r){var n=1,a=new Pt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Pt(10).pow(Zm.getDigitCount(e)-1),a=new Pt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Pt(Math.floor(e)))}else e===0?a=new Pt(Math.floor((t-1)/2)):r||(a=new Pt(Math.floor(e)));var s=Math.floor((t-1)/2),c=fse(dse(function(d){return a.add(new Pt(d-s).mul(n)).toNumber()}),M_);return c(0,t)}function zF(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Pt(0),tickMin:new Pt(0),tickMax:new Pt(0)};var i=LF(new Pt(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new Pt(0):(s=new Pt(e).add(t).div(2),s=s.sub(new Pt(s).mod(i)));var c=Math.ceil(s.sub(e).div(i).toNumber()),d=Math.ceil(new Pt(t).sub(s).div(i).toNumber()),f=c+d+1;return f>r?zF(e,t,r,n,a+1):(f<r&&(d=t>0?d+(r-f):d,c=t>0?c:c+(r-f)),{step:i,tickMin:s.sub(new Pt(c).mul(i)),tickMax:s.add(new Pt(d).mul(i))})}function Ese(e){var t=sd(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),c=$F([r,n]),d=sd(c,2),f=d[0],p=d[1];if(f===-1/0||p===1/0){var h=p===1/0?[f].concat($_(M_(0,a-1).map(function(){return 1/0}))):[].concat($_(M_(0,a-1).map(function(){return-1/0})),[p]);return r>n?D_(h):h}if(f===p)return Sse(f,a,i);var g=zF(f,p,s,i),x=g.step,_=g.tickMin,b=g.tickMax,v=Zm.rangeStep(_,b.add(new Pt(.1).mul(x)),x);return r>n?D_(v):v}function Nse(e,t){var r=sd(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=$F([n,a]),c=sd(s,2),d=c[0],f=c[1];if(d===-1/0||f===1/0)return[n,a];if(d===f)return[d];var p=Math.max(t,2),h=LF(new Pt(f).sub(d).div(p-1),i,0),g=[].concat($_(Zm.rangeStep(new Pt(d),new Pt(f).sub(new Pt(.99).mul(h)),h)),[f]);return n>a?D_(g):g}var Cse=MF(Ese),Ase=MF(Nse),Pse="Invariant failed";function Ns(e,t){throw new Error(Pse)}var Ose=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Yl(e){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(e)}function wp(){return wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wp.apply(this,arguments)}function kse(e,t){return Mse(e)||Ise(e,t)||Rse(e,t)||Tse()}function Tse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rse(e,t){if(e){if(typeof e=="string")return C2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C2(e,t)}}function C2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ise(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function Mse(e){if(Array.isArray(e))return e}function Dse(e,t){if(e==null)return{};var r=$se(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $se(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qF(n.key),n)}}function Fse(e,t,r){return t&&zse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bse(e,t,r){return t=_p(t),qse(e,FF()?Reflect.construct(t,r||[],_p(e).constructor):t.apply(e,r))}function qse(e,t){if(t&&(Yl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Use(e)}function Use(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FF=function(){return!!e})()}function _p(e){return _p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_p(e)}function Vse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z_(e,t)}function z_(e,t){return z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},z_(e,t)}function BF(e,t,r){return t=qF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qF(e){var t=Wse(e,"string");return Yl(t)=="symbol"?t:t+""}function Wse(e,t){if(Yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ud=(function(e){function t(){return Lse(this,t),Bse(this,t,arguments)}return Vse(t,e),Fse(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,c=n.dataKey,d=n.data,f=n.dataPointFormatter,p=n.xAxis,h=n.yAxis,g=Dse(n,Ose),x=Ye(g,!1);this.props.direction==="x"&&p.type!=="number"&&Ns();var _=d.map(function(b){var v=f(b,c),j=v.x,S=v.y,A=v.value,P=v.errorVal;if(!P)return null;var E=[],O,C;if(Array.isArray(P)){var T=kse(P,2);O=T[0],C=T[1]}else O=C=P;if(i==="vertical"){var I=p.scale,R=S+a,D=R+s,B=R-s,W=I(A-O),Y=I(A+C);E.push({x1:Y,y1:D,x2:Y,y2:B}),E.push({x1:W,y1:R,x2:Y,y2:R}),E.push({x1:W,y1:D,x2:W,y2:B})}else if(i==="horizontal"){var J=h.scale,F=j+a,K=F-s,L=F+s,H=J(A-O),te=J(A+C);E.push({x1:K,y1:te,x2:L,y2:te}),E.push({x1:F,y1:H,x2:F,y2:te}),E.push({x1:K,y1:H,x2:L,y2:H})}return $.createElement(jt,wp({className:"recharts-errorBar",key:"bar-".concat(E.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},x),E.map(function(q){return $.createElement("line",wp({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return $.createElement(jt,{className:"recharts-errorBars"},_)}}])})($.Component);BF(Ud,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});BF(Ud,"displayName","ErrorBar");function ld(e){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ld(e)}function A2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A2(Object(r),!0).forEach(function(n){Hse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hse(e,t,r){return t=Gse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gse(e){var t=Kse(e,"string");return ld(t)=="symbol"?t:t+""}function Kse(e,t){if(ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UF=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=Pn(r,_o);if(!s)return null;var c=_o.defaultProps,d=c!==void 0?Jo(Jo({},c),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:i==="children"?f=(n||[]).reduce(function(p,h){var g=h.item,x=h.props,_=x.sectors||x.data||[];return p.concat(_.map(function(b){return{type:s.props.iconType||g.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):f=(n||[]).map(function(p){var h=p.item,g=h.type.defaultProps,x=g!==void 0?Jo(Jo({},g),h.props):{},_=x.dataKey,b=x.name,v=x.legendType,j=x.hide;return{inactive:j,dataKey:_,type:d.iconType||v||"square",color:_1(h),value:b||_,payload:x}}),Jo(Jo(Jo({},d),_o.getWithHeight(s,a)),{},{payload:f,item:s})};function cd(e){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(e)}function P2(e){return Qse(e)||Jse(e)||Xse(e)||Yse()}function Yse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xse(e,t){if(e){if(typeof e=="string")return F_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F_(e,t)}}function Jse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qse(e){if(Array.isArray(e))return F_(e)}function F_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O2(Object(r),!0).forEach(function(n){$l(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $l(e,t,r){return t=Zse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zse(e){var t=ele(e,"string");return cd(t)=="symbol"?t:t+""}function ele(e,t){if(cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xr(e,t,r){return it(e)||it(t)?r:br(t)?$n(e,t,r):at(t)?t(e):r}function Tu(e,t,r,n){var a=Qoe(e,function(c){return xr(c,t)});if(r==="number"){var i=a.filter(function(c){return Ne(c)||parseFloat(c)});return i.length?[Jm(i),Xm(i)]:[1/0,-1/0]}var s=n?a.filter(function(c){return!it(c)}):a;return s.map(function(c){return br(c)||c instanceof Date?c:""})}var tle=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,c=(r=n?.length)!==null&&r!==void 0?r:0;if(c<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var d=i.range,f=0;f<c;f++){var p=f>0?a[f-1].coordinate:a[c-1].coordinate,h=a[f].coordinate,g=f>=c-1?a[0].coordinate:a[f+1].coordinate,x=void 0;if(rn(h-p)!==rn(g-h)){var _=[];if(rn(g-h)===rn(d[1]-d[0])){x=g;var b=h+d[1]-d[0];_[0]=Math.min(b,(b+p)/2),_[1]=Math.max(b,(b+p)/2)}else{x=p;var v=g+d[1]-d[0];_[0]=Math.min(h,(v+h)/2),_[1]=Math.max(h,(v+h)/2)}var j=[Math.min(h,(x+h)/2),Math.max(h,(x+h)/2)];if(t>j[0]&&t<=j[1]||t>=_[0]&&t<=_[1]){s=a[f].index;break}}else{var S=Math.min(p,g),A=Math.max(p,g);if(t>(S+h)/2&&t<=(A+h)/2){s=a[f].index;break}}}else for(var P=0;P<c;P++)if(P===0&&t<=(n[P].coordinate+n[P+1].coordinate)/2||P>0&&P<c-1&&t>(n[P].coordinate+n[P-1].coordinate)/2&&t<=(n[P].coordinate+n[P+1].coordinate)/2||P===c-1&&t>(n[P].coordinate+n[P-1].coordinate)/2){s=n[P].index;break}return s},_1=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Xt(Xt({},t.type.defaultProps),t.props):t.props,s=i.stroke,c=i.fill,d;switch(a){case"Line":d=s;break;case"Area":case"Radar":d=s&&s!=="none"?s:c;break;default:d=c;break}return d},rle=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},c=Object.keys(i),d=0,f=c.length;d<f;d++)for(var p=i[c[d]].stackGroups,h=Object.keys(p),g=0,x=h.length;g<x;g++){var _=p[h[g]],b=_.items,v=_.cateAxisId,j=b.filter(function(C){return xi(C.type).indexOf("Bar")>=0});if(j&&j.length){var S=j[0].type.defaultProps,A=S!==void 0?Xt(Xt({},S),j[0].props):j[0].props,P=A.barSize,E=A[v];s[E]||(s[E]=[]);var O=it(P)?r:P;s[E].push({item:j[0],stackList:j.slice(1),barSize:it(O)?void 0:nn(O,n,0)})}}return s},nle=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,c=t.maxBarSize,d=s.length;if(d<1)return null;var f=nn(r,a,0,!0),p,h=[];if(s[0].barSize===+s[0].barSize){var g=!1,x=a/d,_=s.reduce(function(P,E){return P+E.barSize||0},0);_+=(d-1)*f,_>=a&&(_-=(d-1)*f,f=0),_>=a&&x>0&&(g=!0,x*=.9,_=d*x);var b=(a-_)/2>>0,v={offset:b-f,size:0};p=s.reduce(function(P,E){var O={item:E.item,position:{offset:v.offset+v.size+f,size:g?x:E.barSize}},C=[].concat(P2(P),[O]);return v=C[C.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){C.push({item:T,position:v})}),C},h)}else{var j=nn(n,a,0,!0);a-2*j-(d-1)*f<=0&&(f=0);var S=(a-2*j-(d-1)*f)/d;S>1&&(S>>=0);var A=c===+c?Math.min(S,c):S;p=s.reduce(function(P,E,O){var C=[].concat(P2(P),[{item:E.item,position:{offset:j+(S+f)*O+(S-A)/2,size:A}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){C.push({item:T,position:C[C.length-1].position})}),C},h)}return p},ale=function(t,r,n,a){var i=n.children,s=n.width,c=n.margin,d=s-(c.left||0)-(c.right||0),f=UF({children:i,legendWidth:d});if(f){var p=a||{},h=p.width,g=p.height,x=f.align,_=f.verticalAlign,b=f.layout;if((b==="vertical"||b==="horizontal"&&_==="middle")&&x!=="center"&&Ne(t[x]))return Xt(Xt({},t),{},$l({},x,t[x]+(h||0)));if((b==="horizontal"||b==="vertical"&&x==="center")&&_!=="middle"&&Ne(t[_]))return Xt(Xt({},t),{},$l({},_,t[_]+(g||0)))}return t},ile=function(t,r,n){return it(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},VF=function(t,r,n,a,i){var s=r.props.children,c=Ln(s,Ud).filter(function(f){return ile(a,i,f.props.direction)});if(c&&c.length){var d=c.map(function(f){return f.props.dataKey});return t.reduce(function(f,p){var h=xr(p,n);if(it(h))return f;var g=Array.isArray(h)?[Jm(h),Xm(h)]:[h,h],x=d.reduce(function(_,b){var v=xr(p,b,0),j=g[0]-Math.abs(Array.isArray(v)?v[0]:v),S=g[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(j,_[0]),Math.max(S,_[1])]},[1/0,-1/0]);return[Math.min(x[0],f[0]),Math.max(x[1],f[1])]},[1/0,-1/0])}return null},ole=function(t,r,n,a,i){var s=r.map(function(c){return VF(t,c,n,i,a)}).filter(function(c){return!it(c)});return s&&s.length?s.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]):null},WF=function(t,r,n,a,i){var s=r.map(function(d){var f=d.props.dataKey;return n==="number"&&f&&VF(t,d,f,a)||Tu(t,f,n,i)});if(n==="number")return s.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var c={};return s.reduce(function(d,f){for(var p=0,h=f.length;p<h;p++)c[f[p]]||(c[f[p]]=!0,d.push(f[p]));return d},[])},HF=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},GF=function(t,r,n,a){if(a)return t.map(function(d){return d.coordinate});var i,s,c=t.map(function(d){return d.coordinate===r&&(i=!0),d.coordinate===n&&(s=!0),d.coordinate});return i||c.push(r),s||c.push(n),c},yi=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,c=t.range,d=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,f=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/d:0;if(f=t.axisType==="angleAxis"&&c?.length>=2?rn(c[0]-c[1])*2*f:f,r&&(t.ticks||t.niceTicks)){var p=(t.ticks||t.niceTicks).map(function(h){var g=i?i.indexOf(h):h;return{coordinate:a(g)+f,value:h,offset:f}});return p.filter(function(h){return!Dd(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,g){return{coordinate:a(h)+f,value:h,index:g,offset:f}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(h){return{coordinate:a(h)+f,value:h,offset:f}}):a.domain().map(function(h,g){return{coordinate:a(h)+f,value:i?i[h]:h,index:g,offset:f}})},Hb=new WeakMap,xh=function(t,r){if(typeof r!="function")return t;Hb.has(t)||Hb.set(t,new WeakMap);var n=Hb.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},KF=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,c=t.axisType;if(a==="auto")return s==="radial"&&c==="radiusAxis"?{scale:td(),realScaleType:"band"}:s==="radial"&&c==="angleAxis"?{scale:gp(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:ku(),realScaleType:"point"}:i==="category"?{scale:td(),realScaleType:"band"}:{scale:gp(),realScaleType:"linear"};if(_s(a)){var d="scale".concat(Dm(a));return{scale:(m2[d]||ku)(),realScaleType:m2[d]?d:"point"}}return at(a)?{scale:a}:{scale:ku(),realScaleType:"point"}},k2=1e-4,YF=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-k2,s=Math.max(a[0],a[1])+k2,c=t(r[0]),d=t(r[n-1]);(c<i||c>s||d<i||d>s)&&t.domain([r[0],r[n-1]])}},sle=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},lle=function(t,r){if(!r||r.length!==2||!Ne(r[0])||!Ne(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Ne(t[0])||t[0]<n)&&(i[0]=n),(!Ne(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},cle=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,c=0;c<r;++c){var d=Dd(t[c][n][1])?t[c][n][0]:t[c][n][1];d>=0?(t[c][n][0]=i,t[c][n][1]=i+d,i=t[c][n][1]):(t[c][n][0]=s,t[c][n][1]=s+d,s=t[c][n][1])}},ule=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var c=Dd(t[s][n][1])?t[s][n][0]:t[s][n][1];c>=0?(t[s][n][0]=i,t[s][n][1]=i+c,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},dle={sign:cle,expand:Qee,none:Bl,silhouette:Zee,wiggle:ete,positive:ule},fle=function(t,r,n){var a=r.map(function(c){return c.props.dataKey}),i=dle[n],s=Jee().keys(a).value(function(c,d){return+xr(c,d,0)}).order(g_).offset(i);return s(t)},hle=function(t,r,n,a,i,s){if(!t)return null;var c=s?r.reverse():r,d={},f=c.reduce(function(h,g){var x,_=(x=g.type)!==null&&x!==void 0&&x.defaultProps?Xt(Xt({},g.type.defaultProps),g.props):g.props,b=_.stackId,v=_.hide;if(v)return h;var j=_[n],S=h[j]||{hasStack:!1,stackGroups:{}};if(br(b)){var A=S.stackGroups[b]||{numericAxisId:n,cateAxisId:a,items:[]};A.items.push(g),S.hasStack=!0,S.stackGroups[b]=A}else S.stackGroups[Sc("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[g]};return Xt(Xt({},h),{},$l({},j,S))},d),p={};return Object.keys(f).reduce(function(h,g){var x=f[g];if(x.hasStack){var _={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(b,v){var j=x.stackGroups[v];return Xt(Xt({},b),{},$l({},v,{numericAxisId:n,cateAxisId:a,items:j.items,stackedData:fle(t,j.items,i)}))},_)}return Xt(Xt({},h),{},$l({},g,x))},p)},XF=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,c=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=t.domain();if(!f.length)return null;var p=Cse(f,i,c);return t.domain([Jm(p),Xm(p)]),{niceTicks:p}}if(i&&a==="number"){var h=t.domain(),g=Ase(h,i,c);return{niceTicks:g}}return null};function T2(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!it(a[t.dataKey])){var c=Qh(r,"value",a[t.dataKey]);if(c)return c.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var d=xr(a,it(s)?t.dataKey:s);return it(d)?null:t.scale(d)}var R2=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,c=t.index;if(r.type==="category")return n[c]?n[c].coordinate+a:null;var d=xr(s,r.dataKey,r.domain[c]);return it(d)?null:r.scale(d)-i/2+a},ple=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},mle=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Xt(Xt({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(br(i)){var s=r[i];if(s){var c=s.items.indexOf(t);return c>=0?s.stackedData[c]:null}}return null},gle=function(t){return t.reduce(function(r,n){return[Jm(n.concat([r[0]]).filter(Ne)),Xm(n.concat([r[1]]).filter(Ne))]},[1/0,-1/0])},JF=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],c=s.stackedData,d=c.reduce(function(f,p){var h=gle(p.slice(r,n+1));return[Math.min(f[0],h[0]),Math.max(f[1],h[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},I2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,M2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,B_=function(t,r,n){if(at(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Ne(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(I2.test(t[0])){var i=+I2.exec(t[0])[1];a[0]=r[0]-i}else at(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Ne(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(M2.test(t[1])){var s=+M2.exec(t[1])[1];a[1]=r[1]+s}else at(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},jp=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=XS(r,function(h){return h.coordinate}),s=1/0,c=1,d=i.length;c<d;c++){var f=i[c],p=i[c-1];s=Math.min((f.coordinate||0)-(p.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},D2=function(t,r,n){return!t||!t.length||qd(t,$n(n,"type.defaultProps.domain"))?r:t},QF=function(t,r){var n=t.type.defaultProps?Xt(Xt({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,c=n.formatter,d=n.tooltipType,f=n.chartType,p=n.hide;return Xt(Xt({},Ye(t,!1)),{},{dataKey:a,unit:s,formatter:c,name:i||a,color:_1(t),value:xr(r,a),type:d,payload:r,chartType:f,hide:p})};function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function $2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$2(Object(r),!0).forEach(function(n){ZF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZF(e,t,r){return t=vle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vle(e){var t=yle(e,"string");return ud(t)=="symbol"?t:t+""}function yle(e,t){if(ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xle(e,t){return jle(e)||_le(e,t)||wle(e,t)||ble()}function ble(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wle(e,t){if(e){if(typeof e=="string")return L2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L2(e,t)}}function L2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _le(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function jle(e){if(Array.isArray(e))return e}var Sp=Math.PI/180,Sle=function(t){return t*180/Math.PI},$t=function(t,r,n,a){return{x:t+Math.cos(-Sp*a)*n,y:r+Math.sin(-Sp*a)*n}},e5=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Ele=function(t,r,n,a,i){var s=t.width,c=t.height,d=t.startAngle,f=t.endAngle,p=nn(t.cx,s,s/2),h=nn(t.cy,c,c/2),g=e5(s,c,n),x=nn(t.innerRadius,g,0),_=nn(t.outerRadius,g,g*.8),b=Object.keys(r);return b.reduce(function(v,j){var S=r[j],A=S.domain,P=S.reversed,E;if(it(S.range))a==="angleAxis"?E=[d,f]:a==="radiusAxis"&&(E=[x,_]),P&&(E=[E[1],E[0]]);else{E=S.range;var O=E,C=xle(O,2);d=C[0],f=C[1]}var T=KF(S,i),I=T.realScaleType,R=T.scale;R.domain(A).range(E),YF(R);var D=XF(R,pi(pi({},S),{},{realScaleType:I})),B=pi(pi(pi({},S),D),{},{range:E,radius:_,realScaleType:I,scale:R,cx:p,cy:h,innerRadius:x,outerRadius:_,startAngle:d,endAngle:f});return pi(pi({},v),{},ZF({},j,B))},{})},Nle=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},Cle=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,c=Nle({x:n,y:a},{x:i,y:s});if(c<=0)return{radius:c};var d=(n-i)/c,f=Math.acos(d);return a>s&&(f=2*Math.PI-f),{radius:c,angle:Sle(f),angleInRadian:f}},Ale=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},Ple=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),c=Math.min(i,s);return t+c*360},z2=function(t,r){var n=t.x,a=t.y,i=Cle({x:n,y:a},r),s=i.radius,c=i.angle,d=r.innerRadius,f=r.outerRadius;if(s<d||s>f)return!1;if(s===0)return!0;var p=Ale(r),h=p.startAngle,g=p.endAngle,x=c,_;if(h<=g){for(;x>g;)x-=360;for(;x<h;)x+=360;_=x>=h&&x<=g}else{for(;x>h;)x-=360;for(;x<g;)x+=360;_=x>=g&&x<=h}return _?pi(pi({},r),{},{radius:s,angle:Ple(x,r)}):null},t5=function(t){return!w.isValidElement(t)&&!at(t)&&typeof t!="boolean"?t.className:""};function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}var Ole=["offset"];function kle(e){return Mle(e)||Ile(e)||Rle(e)||Tle()}function Tle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rle(e,t){if(e){if(typeof e=="string")return q_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q_(e,t)}}function Ile(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mle(e){if(Array.isArray(e))return q_(e)}function q_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dle(e,t){if(e==null)return{};var r=$le(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $le(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function F2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F2(Object(r),!0).forEach(function(n){Lle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lle(e,t,r){return t=zle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zle(e){var t=Fle(e,"string");return dd(t)=="symbol"?t:t+""}function Fle(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fd(){return fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fd.apply(this,arguments)}var Ble=function(t){var r=t.value,n=t.formatter,a=it(t.children)?r:t.children;return at(n)?n(a):a},qle=function(t,r){var n=rn(r-t),a=Math.min(Math.abs(r-t),360);return n*a},Ule=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,c=t.className,d=i,f=d.cx,p=d.cy,h=d.innerRadius,g=d.outerRadius,x=d.startAngle,_=d.endAngle,b=d.clockWise,v=(h+g)/2,j=qle(x,_),S=j>=0?1:-1,A,P;a==="insideStart"?(A=x+S*s,P=b):a==="insideEnd"?(A=_-S*s,P=!b):a==="end"&&(A=_+S*s,P=b),P=j<=0?P:!P;var E=$t(f,p,v,A),O=$t(f,p,v,A+(P?1:-1)*359),C="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(P?0:1,`,
    `).concat(O.x,",").concat(O.y),T=it(t.id)?Sc("recharts-radial-line-"):t.id;return $.createElement("text",fd({},n,{dominantBaseline:"central",className:st("recharts-radial-bar-label",c)}),$.createElement("defs",null,$.createElement("path",{id:T,d:C})),$.createElement("textPath",{xlinkHref:"#".concat(T)},r))},Vle=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,c=i.cy,d=i.innerRadius,f=i.outerRadius,p=i.startAngle,h=i.endAngle,g=(p+h)/2;if(a==="outside"){var x=$t(s,c,f+n,g),_=x.x,b=x.y;return{x:_,y:b,textAnchor:_>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:c,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:c,textAnchor:"middle",verticalAnchor:"end"};var v=(d+f)/2,j=$t(s,c,v,g),S=j.x,A=j.y;return{x:S,y:A,textAnchor:"middle",verticalAnchor:"middle"}},Wle=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,c=s.x,d=s.y,f=s.width,p=s.height,h=p>=0?1:-1,g=h*a,x=h>0?"end":"start",_=h>0?"start":"end",b=f>=0?1:-1,v=b*a,j=b>0?"end":"start",S=b>0?"start":"end";if(i==="top"){var A={x:c+f/2,y:d-h*a,textAnchor:"middle",verticalAnchor:x};return vr(vr({},A),n?{height:Math.max(d-n.y,0),width:f}:{})}if(i==="bottom"){var P={x:c+f/2,y:d+p+g,textAnchor:"middle",verticalAnchor:_};return vr(vr({},P),n?{height:Math.max(n.y+n.height-(d+p),0),width:f}:{})}if(i==="left"){var E={x:c-v,y:d+p/2,textAnchor:j,verticalAnchor:"middle"};return vr(vr({},E),n?{width:Math.max(E.x-n.x,0),height:p}:{})}if(i==="right"){var O={x:c+f+v,y:d+p/2,textAnchor:S,verticalAnchor:"middle"};return vr(vr({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:p}:{})}var C=n?{width:f,height:p}:{};return i==="insideLeft"?vr({x:c+v,y:d+p/2,textAnchor:S,verticalAnchor:"middle"},C):i==="insideRight"?vr({x:c+f-v,y:d+p/2,textAnchor:j,verticalAnchor:"middle"},C):i==="insideTop"?vr({x:c+f/2,y:d+g,textAnchor:"middle",verticalAnchor:_},C):i==="insideBottom"?vr({x:c+f/2,y:d+p-g,textAnchor:"middle",verticalAnchor:x},C):i==="insideTopLeft"?vr({x:c+v,y:d+g,textAnchor:S,verticalAnchor:_},C):i==="insideTopRight"?vr({x:c+f-v,y:d+g,textAnchor:j,verticalAnchor:_},C):i==="insideBottomLeft"?vr({x:c+v,y:d+p-g,textAnchor:S,verticalAnchor:x},C):i==="insideBottomRight"?vr({x:c+f-v,y:d+p-g,textAnchor:j,verticalAnchor:x},C):jc(i)&&(Ne(i.x)||cs(i.x))&&(Ne(i.y)||cs(i.y))?vr({x:c+nn(i.x,f),y:d+nn(i.y,p),textAnchor:"end",verticalAnchor:"end"},C):vr({x:c+f/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},C)},Hle=function(t){return"cx"in t&&Ne(t.cx)};function Ar(e){var t=e.offset,r=t===void 0?5:t,n=Dle(e,Ole),a=vr({offset:r},n),i=a.viewBox,s=a.position,c=a.value,d=a.children,f=a.content,p=a.className,h=p===void 0?"":p,g=a.textBreakAll;if(!i||it(c)&&it(d)&&!w.isValidElement(f)&&!at(f))return null;if(w.isValidElement(f))return w.cloneElement(f,a);var x;if(at(f)){if(x=w.createElement(f,a),w.isValidElement(x))return x}else x=Ble(a);var _=Hle(i),b=Ye(a,!0);if(_&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Ule(a,x,b);var v=_?Vle(a):Wle(a);return $.createElement(Ss,fd({className:st("recharts-label",h)},b,v,{breakAll:g}),x)}Ar.displayName="Label";var r5=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,c=t.r,d=t.radius,f=t.innerRadius,p=t.outerRadius,h=t.x,g=t.y,x=t.top,_=t.left,b=t.width,v=t.height,j=t.clockWise,S=t.labelViewBox;if(S)return S;if(Ne(b)&&Ne(v)){if(Ne(h)&&Ne(g))return{x:h,y:g,width:b,height:v};if(Ne(x)&&Ne(_))return{x,y:_,width:b,height:v}}return Ne(h)&&Ne(g)?{x:h,y:g,width:0,height:0}:Ne(r)&&Ne(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:f||0,outerRadius:p||d||c||0,clockWise:j}:t.viewBox?t.viewBox:{}},Gle=function(t,r){return t?t===!0?$.createElement(Ar,{key:"label-implicit",viewBox:r}):br(t)?$.createElement(Ar,{key:"label-implicit",viewBox:r,value:t}):w.isValidElement(t)?t.type===Ar?w.cloneElement(t,{key:"label-implicit",viewBox:r}):$.createElement(Ar,{key:"label-implicit",content:t,viewBox:r}):at(t)?$.createElement(Ar,{key:"label-implicit",content:t,viewBox:r}):jc(t)?$.createElement(Ar,fd({viewBox:r},t,{key:"label-implicit"})):null:null},Kle=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=r5(t),s=Ln(a,Ar).map(function(d,f){return w.cloneElement(d,{viewBox:r||i,key:"label-".concat(f)})});if(!n)return s;var c=Gle(t.label,r||i);return[c].concat(kle(s))};Ar.parseViewBox=r5;Ar.renderCallByParent=Kle;var Gb,B2;function Yle(){if(B2)return Gb;B2=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return Gb=e,Gb}var Xle=Yle();const Jle=Ct(Xle);function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}var Qle=["valueAccessor"],Zle=["data","dataKey","clockWise","id","textBreakAll"];function ece(e){return ace(e)||nce(e)||rce(e)||tce()}function tce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rce(e,t){if(e){if(typeof e=="string")return U_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U_(e,t)}}function nce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ace(e){if(Array.isArray(e))return U_(e)}function U_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ep(){return Ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ep.apply(this,arguments)}function q2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function U2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q2(Object(r),!0).forEach(function(n){ice(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ice(e,t,r){return t=oce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oce(e){var t=sce(e,"string");return hd(t)=="symbol"?t:t+""}function sce(e,t){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V2(e,t){if(e==null)return{};var r=lce(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var cce=function(t){return Array.isArray(t.value)?Jle(t.value):t.value};function wi(e){var t=e.valueAccessor,r=t===void 0?cce:t,n=V2(e,Qle),a=n.data,i=n.dataKey,s=n.clockWise,c=n.id,d=n.textBreakAll,f=V2(n,Zle);return!a||!a.length?null:$.createElement(jt,{className:"recharts-label-list"},a.map(function(p,h){var g=it(i)?r(p,h):xr(p&&p.payload,i),x=it(c)?{}:{id:"".concat(c,"-").concat(h)};return $.createElement(Ar,Ep({},Ye(p,!0),f,x,{parentViewBox:p.parentViewBox,value:g,textBreakAll:d,viewBox:Ar.parseViewBox(it(s)?p:U2(U2({},p),{},{clockWise:s})),key:"label-".concat(h),index:h}))}))}wi.displayName="LabelList";function uce(e,t){return e?e===!0?$.createElement(wi,{key:"labelList-implicit",data:t}):$.isValidElement(e)||at(e)?$.createElement(wi,{key:"labelList-implicit",data:t,content:e}):jc(e)?$.createElement(wi,Ep({data:t},e,{key:"labelList-implicit"})):null:null}function dce(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Ln(n,wi).map(function(s,c){return w.cloneElement(s,{data:t,key:"labelList-".concat(c)})});if(!r)return a;var i=uce(e.label,t);return[i].concat(ece(a))}wi.renderCallByParent=dce;function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function V_(){return V_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V_.apply(this,arguments)}function W2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function H2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W2(Object(r),!0).forEach(function(n){fce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fce(e,t,r){return t=hce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hce(e){var t=pce(e,"string");return pd(t)=="symbol"?t:t+""}function pce(e,t){if(pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mce=function(t,r){var n=rn(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},bh=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,c=t.isExternal,d=t.cornerRadius,f=t.cornerIsExternal,p=d*(c?1:-1)+a,h=Math.asin(d/p)/Sp,g=f?i:i+s*h,x=$t(r,n,p,g),_=$t(r,n,a,g),b=f?i-s*h:i,v=$t(r,n,p*Math.cos(h*Sp),b);return{center:x,circleTangency:_,lineTangency:v,theta:h}},n5=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,c=t.endAngle,d=mce(s,c),f=s+d,p=$t(r,n,i,s),h=$t(r,n,i,f),g="M ".concat(p.x,",").concat(p.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(s>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var x=$t(r,n,a,s),_=$t(r,n,a,f);g+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(s<=f),`,
            `).concat(x.x,",").concat(x.y," Z")}else g+="L ".concat(r,",").concat(n," Z");return g},gce=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,c=t.forceCornerRadius,d=t.cornerIsExternal,f=t.startAngle,p=t.endAngle,h=rn(p-f),g=bh({cx:r,cy:n,radius:i,angle:f,sign:h,cornerRadius:s,cornerIsExternal:d}),x=g.circleTangency,_=g.lineTangency,b=g.theta,v=bh({cx:r,cy:n,radius:i,angle:p,sign:-h,cornerRadius:s,cornerIsExternal:d}),j=v.circleTangency,S=v.lineTangency,A=v.theta,P=d?Math.abs(f-p):Math.abs(f-p)-b-A;if(P<0)return c?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):n5({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:f,endAngle:p});var E="M ".concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(P>180),",").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
  `);if(a>0){var O=bh({cx:r,cy:n,radius:a,angle:f,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),C=O.circleTangency,T=O.lineTangency,I=O.theta,R=bh({cx:r,cy:n,radius:a,angle:p,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),D=R.circleTangency,B=R.lineTangency,W=R.theta,Y=d?Math.abs(f-p):Math.abs(f-p)-I-W;if(Y<0&&s===0)return"".concat(E,"L").concat(r,",").concat(n,"Z");E+="L".concat(B.x,",").concat(B.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(Y>180),",").concat(+(h>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,"Z")}else E+="L".concat(r,",").concat(n,"Z");return E},vce={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},a5=function(t){var r=H2(H2({},vce),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,c=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,p=r.startAngle,h=r.endAngle,g=r.className;if(s<i||p===h)return null;var x=st("recharts-sector",g),_=s-i,b=nn(c,_,0,!0),v;return b>0&&Math.abs(p-h)<360?v=gce({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(b,_/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:p,endAngle:h}):v=n5({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:p,endAngle:h}),$.createElement("path",V_({},Ye(r,!0),{className:x,d:v,role:"img"}))};function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(e)}function W_(){return W_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W_.apply(this,arguments)}function G2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G2(Object(r),!0).forEach(function(n){yce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yce(e,t,r){return t=xce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xce(e){var t=bce(e,"string");return md(t)=="symbol"?t:t+""}function bce(e,t){if(md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y2={curveBasisClosed:Fee,curveBasisOpen:Bee,curveBasis:zee,curveBumpX:Eee,curveBumpY:Nee,curveLinearClosed:qee,curveLinear:Lm,curveMonotoneX:Uee,curveMonotoneY:Vee,curveNatural:Wee,curveStep:Hee,curveStepAfter:Kee,curveStepBefore:Gee},wh=function(t){return t.x===+t.x&&t.y===+t.y},vu=function(t){return t.x},yu=function(t){return t.y},wce=function(t,r){if(at(t))return t;var n="curve".concat(Dm(t));return(n==="curveMonotone"||n==="curveBump")&&r?Y2["".concat(n).concat(r==="vertical"?"Y":"X")]:Y2[n]||Lm},_ce=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,c=t.layout,d=t.connectNulls,f=d===void 0?!1:d,p=wce(n,c),h=f?i.filter(function(b){return wh(b)}):i,g;if(Array.isArray(s)){var x=f?s.filter(function(b){return wh(b)}):s,_=h.map(function(b,v){return K2(K2({},b),{},{base:x[v]})});return c==="vertical"?g=dh().y(yu).x1(vu).x0(function(b){return b.base.x}):g=dh().x(vu).y1(yu).y0(function(b){return b.base.y}),g.defined(wh).curve(p),g(_)}return c==="vertical"&&Ne(s)?g=dh().y(yu).x1(vu).x0(s):Ne(s)?g=dh().x(vu).y1(yu).y0(s):g=rz().x(vu).y(yu),g.defined(wh).curve(p),g(h)},Np=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?_ce(t):a;return w.createElement("path",W_({},Ye(t,!1),Zh(t),{className:st("recharts-curve",r),d:s,ref:i}))},Kb={exports:{}},Yb,X2;function jce(){if(X2)return Yb;X2=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Yb=e,Yb}var Xb,J2;function Sce(){if(J2)return Xb;J2=1;var e=jce();function t(){}function r(){}return r.resetWarningCache=t,Xb=function(){function n(s,c,d,f,p,h){if(h!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},Xb}var Q2;function Ece(){return Q2||(Q2=1,Kb.exports=Sce()()),Kb.exports}var Nce=Ece();const Nt=Ct(Nce),{getOwnPropertyNames:Cce,getOwnPropertySymbols:Ace}=Object,{hasOwnProperty:Pce}=Object.prototype;function Jb(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function _h(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:i}=a,s=i.get(r),c=i.get(n);if(s&&c)return s===n&&c===r;i.set(r,n),i.set(n,r);const d=e(r,n,a);return i.delete(r),i.delete(n),d}}function Oce(e){return e?.[Symbol.toStringTag]}function Z2(e){return Cce(e).concat(Ace(e))}const kce=Object.hasOwn||((e,t)=>Pce.call(e,t));function Ms(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const Tce="__v",Rce="__o",Ice="_owner",{getOwnPropertyDescriptor:eR,keys:tR}=Object;function Mce(e,t){return e.byteLength===t.byteLength&&Cp(new Uint8Array(e),new Uint8Array(t))}function Dce(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function $ce(e,t){return e.byteLength===t.byteLength&&Cp(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function Lce(e,t){return Ms(e.getTime(),t.getTime())}function zce(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Fce(e,t){return e===t}function rR(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.entries();let s,c,d=0;for(;(s=i.next())&&!s.done;){const f=t.entries();let p=!1,h=0;for(;(c=f.next())&&!c.done;){if(a[h]){h++;continue}const g=s.value,x=c.value;if(r.equals(g[0],x[0],d,h,e,t,r)&&r.equals(g[1],x[1],g[0],x[0],e,t,r)){p=a[h]=!0;break}h++}if(!p)return!1;d++}return!0}const Bce=Ms;function qce(e,t,r){const n=tR(e);let a=n.length;if(tR(t).length!==a)return!1;for(;a-- >0;)if(!i5(e,t,r,n[a]))return!1;return!0}function xu(e,t,r){const n=Z2(e);let a=n.length;if(Z2(t).length!==a)return!1;let i,s,c;for(;a-- >0;)if(i=n[a],!i5(e,t,r,i)||(s=eR(e,i),c=eR(t,i),(s||c)&&(!s||!c||s.configurable!==c.configurable||s.enumerable!==c.enumerable||s.writable!==c.writable)))return!1;return!0}function Uce(e,t){return Ms(e.valueOf(),t.valueOf())}function Vce(e,t){return e.source===t.source&&e.flags===t.flags}function nR(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.values();let s,c;for(;(s=i.next())&&!s.done;){const d=t.values();let f=!1,p=0;for(;(c=d.next())&&!c.done;){if(!a[p]&&r.equals(s.value,c.value,s.value,c.value,e,t,r)){f=a[p]=!0;break}p++}if(!f)return!1}return!0}function Cp(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Wce(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function i5(e,t,r,n){return(n===Ice||n===Rce||n===Tce)&&(e.$$typeof||t.$$typeof)?!0:kce(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const Hce="[object ArrayBuffer]",Gce="[object Arguments]",Kce="[object Boolean]",Yce="[object DataView]",Xce="[object Date]",Jce="[object Error]",Qce="[object Map]",Zce="[object Number]",eue="[object Object]",tue="[object RegExp]",rue="[object Set]",nue="[object String]",aue={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},iue="[object URL]",oue=Object.prototype.toString;function sue({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:s,areNumbersEqual:c,areObjectsEqual:d,arePrimitiveWrappersEqual:f,areRegExpsEqual:p,areSetsEqual:h,areTypedArraysEqual:g,areUrlsEqual:x,unknownTagComparators:_}){return function(v,j,S){if(v===j)return!0;if(v==null||j==null)return!1;const A=typeof v;if(A!==typeof j)return!1;if(A!=="object")return A==="number"?c(v,j,S):A==="function"?i(v,j,S):!1;const P=v.constructor;if(P!==j.constructor)return!1;if(P===Object)return d(v,j,S);if(Array.isArray(v))return t(v,j,S);if(P===Date)return n(v,j,S);if(P===RegExp)return p(v,j,S);if(P===Map)return s(v,j,S);if(P===Set)return h(v,j,S);const E=oue.call(v);if(E===Xce)return n(v,j,S);if(E===tue)return p(v,j,S);if(E===Qce)return s(v,j,S);if(E===rue)return h(v,j,S);if(E===eue)return typeof v.then!="function"&&typeof j.then!="function"&&d(v,j,S);if(E===iue)return x(v,j,S);if(E===Jce)return a(v,j,S);if(E===Gce)return d(v,j,S);if(aue[E])return g(v,j,S);if(E===Hce)return e(v,j,S);if(E===Yce)return r(v,j,S);if(E===Kce||E===Zce||E===nue)return f(v,j,S);if(_){let O=_[E];if(!O){const C=Oce(v);C&&(O=_[C])}if(O)return O(v,j,S)}return!1}}function lue({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:Mce,areArraysEqual:r?xu:Dce,areDataViewsEqual:$ce,areDatesEqual:Lce,areErrorsEqual:zce,areFunctionsEqual:Fce,areMapsEqual:r?Jb(rR,xu):rR,areNumbersEqual:Bce,areObjectsEqual:r?xu:qce,arePrimitiveWrappersEqual:Uce,areRegExpsEqual:Vce,areSetsEqual:r?Jb(nR,xu):nR,areTypedArraysEqual:r?Jb(Cp,xu):Cp,areUrlsEqual:Wce,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=_h(n.areArraysEqual),i=_h(n.areMapsEqual),s=_h(n.areObjectsEqual),c=_h(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:s,areSetsEqual:c})}return n}function cue(e){return function(t,r,n,a,i,s,c){return e(t,r,c)}}function uue({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(c,d){const{cache:f=e?new WeakMap:void 0,meta:p}=r();return t(c,d,{cache:f,equals:n,meta:p,strict:a})};if(e)return function(c,d){return t(c,d,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const i={cache:void 0,equals:n,meta:void 0,strict:a};return function(c,d){return t(c,d,i)}}const due=Io();Io({strict:!0});Io({circular:!0});Io({circular:!0,strict:!0});Io({createInternalComparator:()=>Ms});Io({strict:!0,createInternalComparator:()=>Ms});Io({circular:!0,createInternalComparator:()=>Ms});Io({circular:!0,createInternalComparator:()=>Ms,strict:!0});function Io(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,i=lue(e),s=sue(i),c=r?r(s):cue(s);return uue({circular:t,comparator:s,createState:n,equals:c,strict:a})}function fue(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function aR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):fue(a)};requestAnimationFrame(n)}function H_(e){"@babel/helpers - typeof";return H_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H_(e)}function hue(e){return vue(e)||gue(e)||mue(e)||pue()}function pue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mue(e,t){if(e){if(typeof e=="string")return iR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iR(e,t)}}function iR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vue(e){if(Array.isArray(e))return e}function yue(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,c=hue(s),d=c[0],f=c.slice(1);if(typeof d=="number"){aR(a.bind(null,f),d);return}a(d),aR(a.bind(null,f));return}H_(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function gd(e){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gd(e)}function oR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oR(Object(r),!0).forEach(function(n){o5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o5(e,t,r){return t=xue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xue(e){var t=bue(e,"string");return gd(t)==="symbol"?t:String(t)}function bue(e,t){if(gd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wue=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},_ue=function(t){return t},jue=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ru=function(t,r){return Object.keys(r).reduce(function(n,a){return sR(sR({},n),{},o5({},a,t(a,r[a])))},{})},lR=function(t,r,n){return t.map(function(a){return"".concat(jue(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Sue(e,t){return Cue(e)||Nue(e,t)||s5(e,t)||Eue()}function Eue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function Cue(e){if(Array.isArray(e))return e}function Aue(e){return kue(e)||Oue(e)||s5(e)||Pue()}function Pue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s5(e,t){if(e){if(typeof e=="string")return G_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G_(e,t)}}function Oue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kue(e){if(Array.isArray(e))return G_(e)}function G_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ap=1e-4,l5=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},c5=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},cR=function(t,r){return function(n){var a=l5(t,r);return c5(a,n)}},Tue=function(t,r){return function(n){var a=l5(t,r),i=[].concat(Aue(a.map(function(s,c){return s*c}).slice(1)),[0]);return c5(i,n)}},uR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],c=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,c=1;break;case"ease":a=.25,i=.1,s=.25,c=1;break;case"ease-in":a=.42,i=0,s=1,c=1;break;case"ease-out":a=.42,i=0,s=.58,c=1;break;case"ease-in-out":a=0,i=0,s=.58,c=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),p=Sue(f,4);a=p[0],i=p[1],s=p[2],c=p[3]}}}var h=cR(a,s),g=cR(i,c),x=Tue(a,s),_=function(j){return j>1?1:j<0?0:j},b=function(j){for(var S=j>1?1:j,A=S,P=0;P<8;++P){var E=h(A)-S,O=x(A);if(Math.abs(E-S)<Ap||O<Ap)return g(A);A=_(A-E/O)}return g(A)};return b.isStepper=!1,b},Rue=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,c=s===void 0?17:s,d=function(p,h,g){var x=-(p-h)*n,_=g*i,b=g+(x-_)*c/1e3,v=g*c/1e3+p;return Math.abs(v-h)<Ap&&Math.abs(b)<Ap?[h,0]:[v,b]};return d.isStepper=!0,d.dt=c,d},Iue=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return uR(a);case"spring":return Rue();default:if(a.split("(")[0]==="cubic-bezier")return uR(a)}return typeof a=="function"?a:null};function vd(e){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vd(e)}function dR(e){return $ue(e)||Due(e)||u5(e)||Mue()}function Mue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Due(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $ue(e){if(Array.isArray(e))return Y_(e)}function fR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(r),!0).forEach(function(n){K_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K_(e,t,r){return t=Lue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lue(e){var t=zue(e,"string");return vd(t)==="symbol"?t:String(t)}function zue(e,t){if(vd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fue(e,t){return Uue(e)||que(e,t)||u5(e,t)||Bue()}function Bue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u5(e,t){if(e){if(typeof e=="string")return Y_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y_(e,t)}}function Y_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function que(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function Uue(e){if(Array.isArray(e))return e}var Pp=function(t,r,n){return t+(r-t)*n},X_=function(t){var r=t.from,n=t.to;return r!==n},Vue=function e(t,r,n){var a=Ru(function(i,s){if(X_(s)){var c=t(s.from,s.to,s.velocity),d=Fue(c,2),f=d[0],p=d[1];return qr(qr({},s),{},{from:f,velocity:p})}return s},r);return n<1?Ru(function(i,s){return X_(s)?qr(qr({},s),{},{velocity:Pp(s.velocity,a[i].velocity,n),from:Pp(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const Wue=(function(e,t,r,n,a){var i=wue(e,t),s=i.reduce(function(v,j){return qr(qr({},v),{},K_({},j,[e[j],t[j]]))},{}),c=i.reduce(function(v,j){return qr(qr({},v),{},K_({},j,{from:e[j],velocity:0,to:t[j]}))},{}),d=-1,f,p,h=function(){return null},g=function(){return Ru(function(j,S){return S.from},c)},x=function(){return!Object.values(c).filter(X_).length},_=function(j){f||(f=j);var S=j-f,A=S/r.dt;c=Vue(r,c,A),a(qr(qr(qr({},e),t),g())),f=j,x()||(d=requestAnimationFrame(h))},b=function(j){p||(p=j);var S=(j-p)/n,A=Ru(function(E,O){return Pp.apply(void 0,dR(O).concat([r(S)]))},s);if(a(qr(qr(qr({},e),t),A)),S<1)d=requestAnimationFrame(h);else{var P=Ru(function(E,O){return Pp.apply(void 0,dR(O).concat([r(1)]))},s);a(qr(qr(qr({},e),t),P))}};return h=r.isStepper?_:b,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(d)}}});function Xl(e){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}var Hue=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Gue(e,t){if(e==null)return{};var r=Kue(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kue(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Qb(e){return Que(e)||Jue(e)||Xue(e)||Yue()}function Yue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xue(e,t){if(e){if(typeof e=="string")return J_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J_(e,t)}}function Jue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Que(e){if(Array.isArray(e))return J_(e)}function J_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function va(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hR(Object(r),!0).forEach(function(n){Nu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nu(e,t,r){return t=d5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ede(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d5(n.key),n)}}function tde(e,t,r){return t&&ede(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function d5(e){var t=rde(e,"string");return Xl(t)==="symbol"?t:String(t)}function rde(e,t){if(Xl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q_(e,t)}function Q_(e,t){return Q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Q_(e,t)}function ade(e){var t=ide();return function(){var n=Op(e),a;if(t){var i=Op(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Z_(this,a)}}function Z_(e,t){if(t&&(Xl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ej(e)}function ej(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ide(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Op(e){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Op(e)}var Ga=(function(e){nde(r,e);var t=ade(r);function r(n,a){var i;Zue(this,r),i=t.call(this,n,a);var s=i.props,c=s.isActive,d=s.attributeName,f=s.from,p=s.to,h=s.steps,g=s.children,x=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(ej(i)),i.changeStyle=i.changeStyle.bind(ej(i)),!c||x<=0)return i.state={style:{}},typeof g=="function"&&(i.state={style:p}),Z_(i);if(h&&h.length)i.state={style:h[0].style};else if(f){if(typeof g=="function")return i.state={style:f},Z_(i);i.state={style:d?Nu({},d,f):f}}else i.state={style:{}};return i}return tde(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,c=i.canBegin,d=i.attributeName,f=i.shouldReAnimate,p=i.to,h=i.from,g=this.state.style;if(c){if(!s){var x={style:d?Nu({},d,p):p};this.state&&g&&(d&&g[d]!==p||!d&&g!==p)&&this.setState(x);return}if(!(due(a.to,p)&&a.canBegin&&a.isActive)){var _=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=_||f?h:a.to;if(this.state&&g){var v={style:d?Nu({},d,b):b};(d&&g[d]!==b||!d&&g!==b)&&this.setState(v)}this.runAnimation(va(va({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,c=a.to,d=a.duration,f=a.easing,p=a.begin,h=a.onAnimationEnd,g=a.onAnimationStart,x=Wue(s,c,Iue(f),d,this.changeStyle),_=function(){i.stopJSAnimation=x()};this.manager.start([g,p,_,d,h])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,c=a.begin,d=a.onAnimationStart,f=s[0],p=f.style,h=f.duration,g=h===void 0?0:h,x=function(b,v,j){if(j===0)return b;var S=v.duration,A=v.easing,P=A===void 0?"ease":A,E=v.style,O=v.properties,C=v.onAnimationEnd,T=j>0?s[j-1]:v,I=O||Object.keys(E);if(typeof P=="function"||P==="spring")return[].concat(Qb(b),[i.runJSAnimation.bind(i,{from:T.style,to:E,duration:S,easing:P}),S]);var R=lR(I,S,P),D=va(va(va({},T.style),E),{},{transition:R});return[].concat(Qb(b),[D,S,C]).filter(_ue)};return this.manager.start([d].concat(Qb(s.reduce(x,[p,Math.max(g,c)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=yue());var i=a.begin,s=a.duration,c=a.attributeName,d=a.to,f=a.easing,p=a.onAnimationStart,h=a.onAnimationEnd,g=a.steps,x=a.children,_=this.manager;if(this.unSubscribe=_.subscribe(this.handleStyleChange),typeof f=="function"||typeof x=="function"||f==="spring"){this.runJSAnimation(a);return}if(g.length>1){this.runStepAnimation(a);return}var b=c?Nu({},c,d):d,v=lR(Object.keys(b),s,f);_.start([p,i,va(va({},b),{},{transition:v}),s,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var c=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var d=Gue(a,Hue),f=w.Children.count(i),p=this.state.style;if(typeof i=="function")return i(p);if(!c||f===0||s<=0)return i;var h=function(x){var _=x.props,b=_.style,v=b===void 0?{}:b,j=_.className,S=w.cloneElement(x,va(va({},d),{},{style:va(va({},v),p),className:j}));return S};return f===1?h(w.Children.only(i)):$.createElement("div",null,w.Children.map(i,function(g){return h(g)}))}}]),r})(w.PureComponent);Ga.displayName="Animate";Ga.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ga.propTypes={from:Nt.oneOfType([Nt.object,Nt.string]),to:Nt.oneOfType([Nt.object,Nt.string]),attributeName:Nt.string,duration:Nt.number,begin:Nt.number,easing:Nt.oneOfType([Nt.string,Nt.func]),steps:Nt.arrayOf(Nt.shape({duration:Nt.number.isRequired,style:Nt.object.isRequired,easing:Nt.oneOfType([Nt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Nt.func]),properties:Nt.arrayOf("string"),onAnimationEnd:Nt.func})),children:Nt.oneOfType([Nt.node,Nt.func]),isActive:Nt.bool,canBegin:Nt.bool,onAnimationEnd:Nt.func,shouldReAnimate:Nt.bool,onAnimationStart:Nt.func,onAnimationReStart:Nt.func};function yd(e){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yd(e)}function kp(){return kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kp.apply(this,arguments)}function ode(e,t){return ude(e)||cde(e,t)||lde(e,t)||sde()}function sde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lde(e,t){if(e){if(typeof e=="string")return pR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pR(e,t)}}function pR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function ude(e){if(Array.isArray(e))return e}function mR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mR(Object(r),!0).forEach(function(n){dde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dde(e,t,r){return t=fde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fde(e){var t=hde(e,"string");return yd(t)=="symbol"?t:t+""}function hde(e,t){if(yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vR=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),c=a>=0?1:-1,d=n>=0?1:-1,f=a>=0&&n>=0||a<0&&n<0?1:0,p;if(s>0&&i instanceof Array){for(var h=[0,0,0,0],g=0,x=4;g<x;g++)h[g]=i[g]>s?s:i[g];p="M".concat(t,",").concat(r+c*h[0]),h[0]>0&&(p+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(t+d*h[0],",").concat(r)),p+="L ".concat(t+n-d*h[1],",").concat(r),h[1]>0&&(p+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(r+c*h[1])),p+="L ".concat(t+n,",").concat(r+a-c*h[2]),h[2]>0&&(p+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(t+n-d*h[2],",").concat(r+a)),p+="L ".concat(t+d*h[3],",").concat(r+a),h[3]>0&&(p+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(r+a-c*h[3])),p+="Z"}else if(s>0&&i===+i&&i>0){var _=Math.min(s,i);p="M ".concat(t,",").concat(r+c*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(t+d*_,",").concat(r,`
            L `).concat(t+n-d*_,",").concat(r,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(t+n,",").concat(r+c*_,`
            L `).concat(t+n,",").concat(r+a-c*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(t+n-d*_,",").concat(r+a,`
            L `).concat(t+d*_,",").concat(r+a,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(t,",").concat(r+a-c*_," Z")}else p="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return p},pde=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,c=r.width,d=r.height;if(Math.abs(c)>0&&Math.abs(d)>0){var f=Math.min(i,i+c),p=Math.max(i,i+c),h=Math.min(s,s+d),g=Math.max(s,s+d);return n>=f&&n<=p&&a>=h&&a<=g}return!1},mde={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},j1=function(t){var r=gR(gR({},mde),t),n=w.useRef(),a=w.useState(-1),i=ode(a,2),s=i[0],c=i[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var P=n.current.getTotalLength();P&&c(P)}catch{}},[]);var d=r.x,f=r.y,p=r.width,h=r.height,g=r.radius,x=r.className,_=r.animationEasing,b=r.animationDuration,v=r.animationBegin,j=r.isAnimationActive,S=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||h!==+h||p===0||h===0)return null;var A=st("recharts-rectangle",x);return S?$.createElement(Ga,{canBegin:s>0,from:{width:p,height:h,x:d,y:f},to:{width:p,height:h,x:d,y:f},duration:b,animationEasing:_,isActive:S},function(P){var E=P.width,O=P.height,C=P.x,T=P.y;return $.createElement(Ga,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:b,isActive:j,easing:_},$.createElement("path",kp({},Ye(r,!0),{className:A,d:vR(C,T,E,O,g),ref:n})))}):$.createElement("path",kp({},Ye(r,!0),{className:A,d:vR(d,f,p,h,g)}))},gde=["points","className","baseLinePoints","connectNulls"];function El(){return El=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},El.apply(this,arguments)}function vde(e,t){if(e==null)return{};var r=yde(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yR(e){return _de(e)||wde(e)||bde(e)||xde()}function xde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bde(e,t){if(e){if(typeof e=="string")return tj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tj(e,t)}}function wde(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _de(e){if(Array.isArray(e))return tj(e)}function tj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xR=function(t){return t&&t.x===+t.x&&t.y===+t.y},jde=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){xR(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),xR(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Iu=function(t,r){var n=jde(t);r&&(n=[n.reduce(function(i,s){return[].concat(yR(i),yR(s))},[])]);var a=n.map(function(i){return i.reduce(function(s,c,d){return"".concat(s).concat(d===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Sde=function(t,r,n){var a=Iu(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Iu(r.reverse(),n).slice(1))},Ede=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,s=vde(t,gde);if(!r||!r.length)return null;var c=st("recharts-polygon",n);if(a&&a.length){var d=s.stroke&&s.stroke!=="none",f=Sde(r,a,i);return $.createElement("g",{className:c},$.createElement("path",El({},Ye(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:f})),d?$.createElement("path",El({},Ye(s,!0),{fill:"none",d:Iu(r,i)})):null,d?$.createElement("path",El({},Ye(s,!0),{fill:"none",d:Iu(a,i)})):null)}var p=Iu(r,i);return $.createElement("path",El({},Ye(s,!0),{fill:p.slice(-1)==="Z"?s.fill:"none",className:c,d:p}))};function rj(){return rj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rj.apply(this,arguments)}var eg=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=st("recharts-dot",i);return r===+r&&n===+n&&a===+a?w.createElement("circle",rj({},Ye(t,!1),Zh(t),{className:s,cx:r,cy:n,r:a})):null};function xd(e){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xd(e)}var Nde=["x","y","top","left","width","height","className"];function nj(){return nj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nj.apply(this,arguments)}function bR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cde(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bR(Object(r),!0).forEach(function(n){Ade(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ade(e,t,r){return t=Pde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pde(e){var t=Ode(e,"string");return xd(t)=="symbol"?t:t+""}function Ode(e,t){if(xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kde(e,t){if(e==null)return{};var r=Tde(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Rde=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},Ide=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,c=s===void 0?0:s,d=t.left,f=d===void 0?0:d,p=t.width,h=p===void 0?0:p,g=t.height,x=g===void 0?0:g,_=t.className,b=kde(t,Nde),v=Cde({x:n,y:i,top:c,left:f,width:h,height:x},b);return!Ne(n)||!Ne(i)||!Ne(h)||!Ne(x)||!Ne(c)||!Ne(f)?null:$.createElement("path",nj({},Ye(v,!0),{className:st("recharts-cross",_),d:Rde(n,i,h,x,c,f)}))},Zb,wR;function Mde(){if(wR)return Zb;wR=1;var e=Ym(),t=NF(),r=Qa();function n(a,i){return a&&a.length?e(a,r(i,2),t):void 0}return Zb=n,Zb}var Dde=Mde();const $de=Ct(Dde);var ew,_R;function Lde(){if(_R)return ew;_R=1;var e=Ym(),t=Qa(),r=CF();function n(a,i){return a&&a.length?e(a,t(i,2),r):void 0}return ew=n,ew}var zde=Lde();const Fde=Ct(zde);var Bde=["cx","cy","angle","ticks","axisLine"],qde=["ticks","tick","angle","tickFormatter","stroke"];function Jl(e){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(e)}function Mu(){return Mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mu.apply(this,arguments)}function jR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jR(Object(r),!0).forEach(function(n){tg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SR(e,t){if(e==null)return{};var r=Ude(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ude(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ER(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h5(n.key),n)}}function Wde(e,t,r){return t&&ER(e.prototype,t),r&&ER(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hde(e,t,r){return t=Tp(t),Gde(e,f5()?Reflect.construct(t,r||[],Tp(e).constructor):t.apply(e,r))}function Gde(e,t){if(t&&(Jl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kde(e)}function Kde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f5=function(){return!!e})()}function Tp(e){return Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tp(e)}function Yde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aj(e,t)}function aj(e,t){return aj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},aj(e,t)}function tg(e,t,r){return t=h5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h5(e){var t=Xde(e,"string");return Jl(t)=="symbol"?t:t+""}function Xde(e,t){if(Jl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rg=(function(e){function t(){return Vde(this,t),Hde(this,t,arguments)}return Yde(t,e),Wde(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,s=i.angle,c=i.cx,d=i.cy;return $t(c,d,a,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,c=n.ticks,d=$de(c,function(p){return p.coordinate||0}),f=Fde(c,function(p){return p.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:f.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,c=n.ticks,d=n.axisLine,f=SR(n,Bde),p=c.reduce(function(_,b){return[Math.min(_[0],b.coordinate),Math.max(_[1],b.coordinate)]},[1/0,-1/0]),h=$t(a,i,p[0],s),g=$t(a,i,p[1],s),x=Qo(Qo(Qo({},Ye(f,!1)),{},{fill:"none"},Ye(d,!1)),{},{x1:h.x,y1:h.y,x2:g.x,y2:g.y});return $.createElement("line",Mu({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,c=a.angle,d=a.tickFormatter,f=a.stroke,p=SR(a,qde),h=this.getTickTextAnchor(),g=Ye(p,!1),x=Ye(s,!1),_=i.map(function(b,v){var j=n.getTickValueCoord(b),S=Qo(Qo(Qo(Qo({textAnchor:h,transform:"rotate(".concat(90-c,", ").concat(j.x,", ").concat(j.y,")")},g),{},{stroke:"none",fill:f},x),{},{index:v},j),{},{payload:b});return $.createElement(jt,Mu({className:st("recharts-polar-radius-axis-tick",t5(s)),key:"tick-".concat(b.coordinate)},js(n.props,b,v)),t.renderTickItem(s,S,d?d(b.value,v):b.value))});return $.createElement(jt,{className:"recharts-polar-radius-axis-ticks"},_)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,s=n.tick;return!a||!a.length?null:$.createElement(jt,{className:st("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),Ar.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return $.isValidElement(n)?s=$.cloneElement(n,a):at(n)?s=n(a):s=$.createElement(Ss,Mu({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])})(w.PureComponent);tg(rg,"displayName","PolarRadiusAxis");tg(rg,"axisType","radiusAxis");tg(rg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ql(e){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(e)}function os(){return os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},os.apply(this,arguments)}function NR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NR(Object(r),!0).forEach(function(n){ng(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m5(n.key),n)}}function Qde(e,t,r){return t&&CR(e.prototype,t),r&&CR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zde(e,t,r){return t=Rp(t),efe(e,p5()?Reflect.construct(t,r||[],Rp(e).constructor):t.apply(e,r))}function efe(e,t){if(t&&(Ql(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tfe(e)}function tfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p5=function(){return!!e})()}function Rp(e){return Rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rp(e)}function rfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ij(e,t)}function ij(e,t){return ij=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ij(e,t)}function ng(e,t,r){return t=m5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m5(e){var t=nfe(e,"string");return Ql(t)=="symbol"?t:t+""}function nfe(e,t){if(Ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var afe=Math.PI/180,AR=1e-5,ag=(function(e){function t(){return Jde(this,t),Zde(this,t,arguments)}return rfe(t,e),Qde(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,s=a.cy,c=a.radius,d=a.orientation,f=a.tickSize,p=f||8,h=$t(i,s,c,n.coordinate),g=$t(i,s,c+(d==="inner"?-1:1)*p,n.coordinate);return{x1:h.x,y1:h.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*afe),s;return i>AR?s=a==="outer"?"start":"end":i<-AR?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.radius,c=n.axisLine,d=n.axisLineType,f=Zo(Zo({},Ye(this.props,!1)),{},{fill:"none"},Ye(c,!1));if(d==="circle")return $.createElement(eg,os({className:"recharts-polar-angle-axis-line"},f,{cx:a,cy:i,r:s}));var p=this.props.ticks,h=p.map(function(g){return $t(a,i,s,g.coordinate)});return $.createElement(Ede,os({className:"recharts-polar-angle-axis-line"},f,{points:h}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,c=a.tickLine,d=a.tickFormatter,f=a.stroke,p=Ye(this.props,!1),h=Ye(s,!1),g=Zo(Zo({},p),{},{fill:"none"},Ye(c,!1)),x=i.map(function(_,b){var v=n.getTickLineCoord(_),j=n.getTickTextAnchor(_),S=Zo(Zo(Zo({textAnchor:j},p),{},{stroke:"none",fill:f},h),{},{index:b,payload:_,x:v.x2,y:v.y2});return $.createElement(jt,os({className:st("recharts-polar-angle-axis-tick",t5(s)),key:"tick-".concat(_.coordinate)},js(n.props,_,b)),c&&$.createElement("line",os({className:"recharts-polar-angle-axis-tick-line"},g,v)),s&&t.renderTickItem(s,S,d?d(_.value,b):_.value))});return $.createElement(jt,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,s=n.axisLine;return i<=0||!a||!a.length?null:$.createElement(jt,{className:st("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var s;return $.isValidElement(n)?s=$.cloneElement(n,a):at(n)?s=n(a):s=$.createElement(Ss,os({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])})(w.PureComponent);ng(ag,"displayName","PolarAngleAxis");ng(ag,"axisType","angleAxis");ng(ag,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var tw,PR;function ife(){if(PR)return tw;PR=1;var e=Ez(),t=e(Object.getPrototypeOf,Object);return tw=t,tw}var rw,OR;function ofe(){if(OR)return rw;OR=1;var e=Fi(),t=ife(),r=Bi(),n="[object Object]",a=Function.prototype,i=Object.prototype,s=a.toString,c=i.hasOwnProperty,d=s.call(Object);function f(p){if(!r(p)||e(p)!=n)return!1;var h=t(p);if(h===null)return!0;var g=c.call(h,"constructor")&&h.constructor;return typeof g=="function"&&g instanceof g&&s.call(g)==d}return rw=f,rw}var sfe=ofe();const lfe=Ct(sfe);var nw,kR;function cfe(){if(kR)return nw;kR=1;var e=Fi(),t=Bi(),r="[object Boolean]";function n(a){return a===!0||a===!1||t(a)&&e(a)==r}return nw=n,nw}var ufe=cfe();const dfe=Ct(ufe);function bd(e){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bd(e)}function Ip(){return Ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ip.apply(this,arguments)}function ffe(e,t){return gfe(e)||mfe(e,t)||pfe(e,t)||hfe()}function hfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pfe(e,t){if(e){if(typeof e=="string")return TR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TR(e,t)}}function TR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mfe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function gfe(e){if(Array.isArray(e))return e}function RR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RR(Object(r),!0).forEach(function(n){vfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vfe(e,t,r){return t=yfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yfe(e){var t=xfe(e,"string");return bd(t)=="symbol"?t:t+""}function xfe(e,t){if(bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MR=function(t,r,n,a,i){var s=n-a,c;return c="M ".concat(t,",").concat(r),c+="L ".concat(t+n,",").concat(r),c+="L ".concat(t+n-s/2,",").concat(r+i),c+="L ".concat(t+n-s/2-a,",").concat(r+i),c+="L ".concat(t,",").concat(r," Z"),c},bfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wfe=function(t){var r=IR(IR({},bfe),t),n=w.useRef(),a=w.useState(-1),i=ffe(a,2),s=i[0],c=i[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&c(A)}catch{}},[]);var d=r.x,f=r.y,p=r.upperWidth,h=r.lowerWidth,g=r.height,x=r.className,_=r.animationEasing,b=r.animationDuration,v=r.animationBegin,j=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||h!==+h||g!==+g||p===0&&h===0||g===0)return null;var S=st("recharts-trapezoid",x);return j?$.createElement(Ga,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:g,x:d,y:f},to:{upperWidth:p,lowerWidth:h,height:g,x:d,y:f},duration:b,animationEasing:_,isActive:j},function(A){var P=A.upperWidth,E=A.lowerWidth,O=A.height,C=A.x,T=A.y;return $.createElement(Ga,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:b,easing:_},$.createElement("path",Ip({},Ye(r,!0),{className:S,d:MR(C,T,P,E,O),ref:n})))}):$.createElement("g",null,$.createElement("path",Ip({},Ye(r,!0),{className:S,d:MR(d,f,p,h,g)})))},_fe=["option","shapeType","propTransformer","activeClassName","isActive"];function wd(e){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(e)}function jfe(e,t){if(e==null)return{};var r=Sfe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function DR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(r),!0).forEach(function(n){Efe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Efe(e,t,r){return t=Nfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nfe(e){var t=Cfe(e,"string");return wd(t)=="symbol"?t:t+""}function Cfe(e,t){if(wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Afe(e,t){return Mp(Mp({},t),e)}function Pfe(e,t){return e==="symbols"}function $R(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return $.createElement(j1,r);case"trapezoid":return $.createElement(wfe,r);case"sector":return $.createElement(a5,r);case"symbols":if(Pfe(t))return $.createElement(qS,r);break;default:return null}}function Ofe(e){return w.isValidElement(e)?e.props:e}function g5(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?Afe:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,c=e.isActive,d=jfe(e,_fe),f;if(w.isValidElement(t))f=w.cloneElement(t,Mp(Mp({},d),Ofe(t)));else if(at(t))f=t(d);else if(lfe(t)&&!dfe(t)){var p=a(t,d);f=$.createElement($R,{shapeType:r,elementProps:p})}else{var h=d;f=$.createElement($R,{shapeType:r,elementProps:h})}return c?$.createElement(jt,{className:s},f):f}function ig(e,t){return t!=null&&"trapezoids"in e.props}function og(e,t){return t!=null&&"sectors"in e.props}function _d(e,t){return t!=null&&"points"in e.props}function kfe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function Tfe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Rfe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Ife(e,t){var r;return ig(e,t)?r=kfe:og(e,t)?r=Tfe:_d(e,t)&&(r=Rfe),r}function Mfe(e,t){var r;return ig(e,t)?r="trapezoids":og(e,t)?r="sectors":_d(e,t)&&(r="points"),r}function Dfe(e,t){if(ig(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(og(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return _d(e,t)?t.payload:{}}function $fe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Mfe(r,t),i=Dfe(r,t),s=n.filter(function(d,f){var p=qd(i,d),h=r.props[a].filter(function(_){var b=Ife(r,t);return b(_,t)}),g=r.props[a].indexOf(h[h.length-1]),x=f===g;return p&&x}),c=n.indexOf(s[s.length-1]);return c}var Th;function Zl(e){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(e)}function Nl(){return Nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nl.apply(this,arguments)}function LR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LR(Object(r),!0).forEach(function(n){ea(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y5(n.key),n)}}function zfe(e,t,r){return t&&zR(e.prototype,t),r&&zR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ffe(e,t,r){return t=Dp(t),Bfe(e,v5()?Reflect.construct(t,r||[],Dp(e).constructor):t.apply(e,r))}function Bfe(e,t){if(t&&(Zl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qfe(e)}function qfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v5=function(){return!!e})()}function Dp(e){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dp(e)}function Ufe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oj(e,t)}function oj(e,t){return oj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oj(e,t)}function ea(e,t,r){return t=y5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y5(e){var t=Vfe(e,"string");return Zl(t)=="symbol"?t:t+""}function Vfe(e,t){if(Zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ka=(function(e){function t(r){var n;return Lfe(this,t),n=Ffe(this,t,[r]),ea(n,"pieRef",null),ea(n,"sectorRefs",[]),ea(n,"id",Sc("recharts-pie-")),ea(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),at(a)&&a()}),ea(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),at(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Ufe(t,e),zfe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,c=i.labelLine,d=i.dataKey,f=i.valueKey,p=Ye(this.props,!1),h=Ye(s,!1),g=Ye(c,!1),x=s&&s.offsetRadius||20,_=n.map(function(b,v){var j=(b.startAngle+b.endAngle)/2,S=$t(b.cx,b.cy,b.outerRadius+x,j),A=It(It(It(It({},p),b),{},{stroke:"none"},h),{},{index:v,textAnchor:t.getTextAnchor(S.x,b.cx)},S),P=It(It(It(It({},p),b),{},{fill:"none",stroke:b.fill},g),{},{index:v,points:[$t(b.cx,b.cy,b.outerRadius,j),S]}),E=d;return it(d)&&it(f)?E="value":it(d)&&(E=f),$.createElement(jt,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(v)},c&&t.renderLabelLineItem(c,P,"line"),t.renderLabelItem(s,A,xr(b,E)))});return $.createElement(jt,{className:"recharts-pie-labels"},_)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,s=i.activeShape,c=i.blendStroke,d=i.inactiveShape;return n.map(function(f,p){if(f?.startAngle===0&&f?.endAngle===0&&n.length!==1)return null;var h=a.isActiveIndex(p),g=d&&a.hasActiveIndex()?d:null,x=h?s:g,_=It(It({},f),{},{stroke:c?f.fill:f.stroke,tabIndex:-1});return $.createElement(jt,Nl({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},js(a.props,f,p),{key:"sector-".concat(f?.startAngle,"-").concat(f?.endAngle,"-").concat(f.midAngle,"-").concat(p)}),$.createElement(g5,Nl({option:x,isActive:h,shapeType:"sector"},_)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,s=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,f=a.animationEasing,p=a.animationId,h=this.state,g=h.prevSectors,x=h.prevIsAnimationActive;return $.createElement(Ga,{begin:c,duration:d,isActive:s,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(_){var b=_.t,v=[],j=i&&i[0],S=j.startAngle;return i.forEach(function(A,P){var E=g&&g[P],O=P>0?$n(A,"paddingAngle",0):0;if(E){var C=Tn(E.endAngle-E.startAngle,A.endAngle-A.startAngle),T=It(It({},A),{},{startAngle:S+O,endAngle:S+C(b)+O});v.push(T),S=T.endAngle}else{var I=A.endAngle,R=A.startAngle,D=Tn(0,I-R),B=D(b),W=It(It({},A),{},{startAngle:S+O,endAngle:S+B+O});v.push(W),S=W.endAngle}}),$.createElement(jt,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var c=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[c].focus(),a.setState({sectorToFocus:c});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!qd(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,s=a.sectors,c=a.className,d=a.label,f=a.cx,p=a.cy,h=a.innerRadius,g=a.outerRadius,x=a.isAnimationActive,_=this.state.isAnimationFinished;if(i||!s||!s.length||!Ne(f)||!Ne(p)||!Ne(h)||!Ne(g))return null;var b=st("recharts-pie",c);return $.createElement(jt,{tabIndex:this.props.rootTabIndex,className:b,ref:function(j){n.pieRef=j}},this.renderSectors(),d&&this.renderLabels(s),Ar.renderCallByParent(this.props,null,!1),(!x||_)&&wi.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if($.isValidElement(n))return $.cloneElement(n,a);if(at(n))return n(a);var s=st("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return $.createElement(Np,Nl({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,a,i){if($.isValidElement(n))return $.cloneElement(n,a);var s=i;if(at(n)&&(s=n(a),$.isValidElement(s)))return s;var c=st("recharts-pie-label-text",typeof n!="boolean"&&!at(n)?n.className:"");return $.createElement(Ss,Nl({},a,{alignmentBaseline:"middle",className:c}),s)}}])})(w.PureComponent);Th=Ka;ea(Ka,"displayName","Pie");ea(Ka,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ts.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ea(Ka,"parseDeltaAngle",function(e,t){var r=rn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});ea(Ka,"getRealPieData",function(e){var t=e.data,r=e.children,n=Ye(e,!1),a=Ln(r,Qu);return t&&t.length?t.map(function(i,s){return It(It(It({payload:i},n),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return It(It({},n),i.props)}):[]});ea(Ka,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,s=e5(a,i),c=n+nn(e.cx,a,a/2),d=r+nn(e.cy,i,i/2),f=nn(e.innerRadius,s,0),p=nn(e.outerRadius,s,s*.8),h=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:c,cy:d,innerRadius:f,outerRadius:p,maxRadius:h}});ea(Ka,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?It(It({},t.type.defaultProps),t.props):t.props,a=Th.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,s=n.startAngle,c=n.endAngle,d=n.paddingAngle,f=n.dataKey,p=n.nameKey,h=n.valueKey,g=n.tooltipType,x=Math.abs(n.minAngle),_=Th.parseCoordinateOfPie(n,r),b=Th.parseDeltaAngle(s,c),v=Math.abs(b),j=f;it(f)&&it(h)?(Ea(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):it(f)&&(Ea(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=h);var S=a.filter(function(T){return xr(T,j,0)!==0}).length,A=(v>=360?S:S-1)*d,P=v-S*x-A,E=a.reduce(function(T,I){var R=xr(I,j,0);return T+(Ne(R)?R:0)},0),O;if(E>0){var C;O=a.map(function(T,I){var R=xr(T,j,0),D=xr(T,p,I),B=(Ne(R)?R:0)/E,W;I?W=C.endAngle+rn(b)*d*(R!==0?1:0):W=s;var Y=W+rn(b)*((R!==0?x:0)+B*P),J=(W+Y)/2,F=(_.innerRadius+_.outerRadius)/2,K=[{name:D,value:R,payload:T,dataKey:j,type:g}],L=$t(_.cx,_.cy,F,J);return C=It(It(It({percent:B,cornerRadius:i,name:D,tooltipPayload:K,midAngle:J,middleRadius:F,tooltipPosition:L},T),_),{},{value:xr(T,j),startAngle:W,endAngle:Y,payload:T,paddingAngle:rn(b)*d}),C})}return It(It({},_),{},{sectors:O,data:a})});var aw,FR;function Wfe(){if(FR)return aw;FR=1;var e=Math.ceil,t=Math.max;function r(n,a,i,s){for(var c=-1,d=t(e((a-n)/(i||1)),0),f=Array(d);d--;)f[s?d:++c]=n,n+=i;return f}return aw=r,aw}var iw,BR;function x5(){if(BR)return iw;BR=1;var e=Bz(),t=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-t){var i=a<0?-1:1;return i*r}return a===a?a:0}return iw=n,iw}var ow,qR;function Hfe(){if(qR)return ow;qR=1;var e=Wfe(),t=qm(),r=x5();function n(a){return function(i,s,c){return c&&typeof c!="number"&&t(i,s,c)&&(s=c=void 0),i=r(i),s===void 0?(s=i,i=0):s=r(s),c=c===void 0?i<s?1:-1:r(c),e(i,s,c,a)}}return ow=n,ow}var sw,UR;function Gfe(){if(UR)return sw;UR=1;var e=Hfe(),t=e();return sw=t,sw}var Kfe=Gfe();const $p=Ct(Kfe);function jd(e){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jd(e)}function VR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VR(Object(r),!0).forEach(function(n){b5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b5(e,t,r){return t=Yfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yfe(e){var t=Xfe(e,"string");return jd(t)=="symbol"?t:t+""}function Xfe(e,t){if(jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jfe=["Webkit","Moz","O","ms"],Qfe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Jfe.reduce(function(i,s){return WR(WR({},i),{},b5({},s+n,r))},{});return a[t]=r,a};function ec(e){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(e)}function Lp(){return Lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lp.apply(this,arguments)}function HR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(r),!0).forEach(function(n){Cn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_5(n.key),n)}}function ehe(e,t,r){return t&&GR(e.prototype,t),r&&GR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function the(e,t,r){return t=zp(t),rhe(e,w5()?Reflect.construct(t,r||[],zp(e).constructor):t.apply(e,r))}function rhe(e,t){if(t&&(ec(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nhe(e)}function nhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w5=function(){return!!e})()}function zp(e){return zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zp(e)}function ahe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sj(e,t)}function sj(e,t){return sj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sj(e,t)}function Cn(e,t,r){return t=_5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _5(e){var t=ihe(e,"string");return ec(t)=="symbol"?t:t+""}function ihe(e,t){if(ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ohe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,c=t.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=ku().domain($p(0,d)).range([i,i+s-c]),p=f.domain().map(function(h){return f(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(a),scale:f,scaleValues:p}},KR=function(t){return t.changedTouches&&!!t.changedTouches.length},tc=(function(e){function t(r){var n;return Zfe(this,t),n=the(this,t,[r]),Cn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Cn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Cn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,c=a.startIndex;s?.({endIndex:i,startIndex:c})}),n.detachDragEndListener()}),Cn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Cn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Cn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Cn(n,"handleSlideDragStart",function(a){var i=KR(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return ahe(t,e),ehe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,c=this.props,d=c.gap,f=c.data,p=f.length-1,h=Math.min(a,i),g=Math.max(a,i),x=t.getIndexInRange(s,h),_=t.getIndexInRange(s,g);return{startIndex:x-x%d,endIndex:_===p?p:_-_%d}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,c=a.dataKey,d=xr(i[n],c,n);return at(s)?s(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,c=a.endX,d=this.props,f=d.x,p=d.width,h=d.travellerWidth,g=d.startIndex,x=d.endIndex,_=d.onChange,b=n.pageX-i;b>0?b=Math.min(b,f+p-h-c,f+p-h-s):b<0&&(b=Math.max(b,f-s,f-c));var v=this.getIndex({startX:s+b,endX:c+b});(v.startIndex!==g||v.endIndex!==x)&&_&&_(v),this.setState({startX:s+b,endX:c+b,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=KR(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,c=a.endX,d=a.startX,f=this.state[s],p=this.props,h=p.x,g=p.width,x=p.travellerWidth,_=p.onChange,b=p.gap,v=p.data,j={startX:this.state.startX,endX:this.state.endX},S=n.pageX-i;S>0?S=Math.min(S,h+g-x-f):S<0&&(S=Math.max(S,h-f)),j[s]=f+S;var A=this.getIndex(j),P=A.startIndex,E=A.endIndex,O=function(){var T=v.length-1;return s==="startX"&&(c>d?P%b===0:E%b===0)||c<d&&E===T||s==="endX"&&(c>d?E%b===0:P%b===0)||c>d&&E===T};this.setState(Cn(Cn({},s,f+S),"brushMoveStartX",n.pageX),function(){_&&O()&&_(A)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,c=s.scaleValues,d=s.startX,f=s.endX,p=this.state[a],h=c.indexOf(p);if(h!==-1){var g=h+n;if(!(g===-1||g>=c.length)){var x=c[g];a==="startX"&&x>=f||a==="endX"&&x<=d||this.setState(Cn({},a,x),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,c=n.height,d=n.fill,f=n.stroke;return $.createElement("rect",{stroke:f,fill:d,x:a,y:i,width:s,height:c})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,c=n.height,d=n.data,f=n.children,p=n.padding,h=w.Children.only(f);return h?$.cloneElement(h,{x:a,y:i,width:s,height:c,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,c=this,d=this.props,f=d.y,p=d.travellerWidth,h=d.height,g=d.traveller,x=d.ariaLabel,_=d.data,b=d.startIndex,v=d.endIndex,j=Math.max(n,this.props.x),S=lw(lw({},Ye(this.props,!1)),{},{x:j,y:f,width:p,height:h}),A=x||"Min value: ".concat((i=_[b])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=_[v])===null||s===void 0?void 0:s.name);return $.createElement(jt,{tabIndex:0,role:"slider","aria-label":A,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),c.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,a))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(g,S))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,c=i.height,d=i.stroke,f=i.travellerWidth,p=Math.min(n,a)+f,h=Math.max(Math.abs(a-n)-f,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:s,width:h,height:c})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,c=n.height,d=n.travellerWidth,f=n.stroke,p=this.state,h=p.startX,g=p.endX,x=5,_={pointerEvents:"none",fill:f};return $.createElement(jt,{className:"recharts-brush-texts"},$.createElement(Ss,Lp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,g)-x,y:s+c/2},_),this.getTextOfTick(a)),$.createElement(Ss,Lp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,g)+d+x,y:s+c/2},_),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,c=n.x,d=n.y,f=n.width,p=n.height,h=n.alwaysShowText,g=this.state,x=g.startX,_=g.endX,b=g.isTextActive,v=g.isSlideMoving,j=g.isTravellerMoving,S=g.isTravellerFocused;if(!a||!a.length||!Ne(c)||!Ne(d)||!Ne(f)||!Ne(p)||f<=0||p<=0)return null;var A=st("recharts-brush",i),P=$.Children.count(s)===1,E=Qfe("userSelect","none");return $.createElement(jt,{className:A,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(x,_),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(_,"endX"),(b||v||j||S||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,c=n.height,d=n.stroke,f=Math.floor(i+c/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:a,y:i,width:s,height:c,fill:d,stroke:"none"}),$.createElement("line",{x1:a+1,y1:f,x2:a+s-1,y2:f,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:a+1,y1:f+2,x2:a+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return $.isValidElement(n)?i=$.cloneElement(n,a):at(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,c=n.x,d=n.travellerWidth,f=n.updateId,p=n.startIndex,h=n.endIndex;if(i!==a.prevData||f!==a.prevUpdateId)return lw({prevData:i,prevTravellerWidth:d,prevUpdateId:f,prevX:c,prevWidth:s},i&&i.length?ohe({data:i,width:s,x:c,travellerWidth:d,startIndex:p,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||c!==a.prevX||d!==a.prevTravellerWidth)){a.scale.range([c,c+s-d]);var g=a.scale.domain().map(function(x){return a.scale(x)});return{prevData:i,prevTravellerWidth:d,prevUpdateId:f,prevX:c,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,c=i-1;c-s>1;){var d=Math.floor((s+c)/2);n[d]>a?c=d:s=d}return a>=n[c]?c:s}}])})(w.PureComponent);Cn(tc,"displayName","Brush");Cn(tc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var cw,YR;function she(){if(YR)return cw;YR=1;var e=YS();function t(r,n){var a;return e(r,function(i,s,c){return a=n(i,s,c),!a}),!!a}return cw=t,cw}var uw,XR;function lhe(){if(XR)return uw;XR=1;var e=yz(),t=Qa(),r=she(),n=yn(),a=qm();function i(s,c,d){var f=n(s)?e:r;return d&&a(s,c,d)&&(c=void 0),f(s,t(c,3))}return uw=i,uw}var che=lhe();const uhe=Ct(che);var Va=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},dw,JR;function dhe(){if(JR)return dw;JR=1;var e=Dz();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return dw=t,dw}var fw,QR;function fhe(){if(QR)return fw;QR=1;var e=dhe(),t=Iz(),r=Qa();function n(a,i){var s={};return i=r(i,3),t(a,function(c,d,f){e(s,d,i(c,d,f))}),s}return fw=n,fw}var hhe=fhe();const phe=Ct(hhe);var hw,ZR;function mhe(){if(ZR)return hw;ZR=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(!r(t[n],n,t))return!1;return!0}return hw=e,hw}var pw,eI;function ghe(){if(eI)return pw;eI=1;var e=YS();function t(r,n){var a=!0;return e(r,function(i,s,c){return a=!!n(i,s,c),a}),a}return pw=t,pw}var mw,tI;function vhe(){if(tI)return mw;tI=1;var e=mhe(),t=ghe(),r=Qa(),n=yn(),a=qm();function i(s,c,d){var f=n(s)?e:t;return d&&a(s,c,d)&&(c=void 0),f(s,r(c,3))}return mw=i,mw}var yhe=vhe();const j5=Ct(yhe);var xhe=["x","y"];function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(e)}function lj(){return lj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lj.apply(this,arguments)}function rI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rI(Object(r),!0).forEach(function(n){bhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bhe(e,t,r){return t=whe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function whe(e){var t=_he(e,"string");return Sd(t)=="symbol"?t:t+""}function _he(e,t){if(Sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jhe(e,t){if(e==null)return{};var r=She(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function She(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ehe(e,t){var r=e.x,n=e.y,a=jhe(e,xhe),i="".concat(r),s=parseInt(i,10),c="".concat(n),d=parseInt(c,10),f="".concat(t.height||a.height),p=parseInt(f,10),h="".concat(t.width||a.width),g=parseInt(h,10);return bu(bu(bu(bu(bu({},t),a),s?{x:s}:{}),d?{y:d}:{}),{},{height:p,width:g,name:t.name,radius:t.radius})}function nI(e){return $.createElement(g5,lj({shapeType:"rectangle",propTransformer:Ehe,activeClassName:"recharts-active-bar"},e))}var Nhe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=Ne(n)||HZ(n);return i?t(n,a):(i||Ns(),r)}},Che=["value","background"],S5;function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function Ahe(e,t){if(e==null)return{};var r=Phe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Phe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fp(){return Fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fp.apply(this,arguments)}function aI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aI(Object(r),!0).forEach(function(n){xo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ohe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N5(n.key),n)}}function khe(e,t,r){return t&&iI(e.prototype,t),r&&iI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function The(e,t,r){return t=Bp(t),Rhe(e,E5()?Reflect.construct(t,r||[],Bp(e).constructor):t.apply(e,r))}function Rhe(e,t){if(t&&(rc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ihe(e)}function Ihe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E5=function(){return!!e})()}function Bp(e){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bp(e)}function Mhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cj(e,t)}function cj(e,t){return cj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cj(e,t)}function xo(e,t,r){return t=N5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N5(e){var t=Dhe(e,"string");return rc(t)=="symbol"?t:t+""}function Dhe(e,t){if(rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _i=(function(e){function t(){var r;Ohe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=The(this,t,[].concat(a)),xo(r,"state",{isAnimationFinished:!1}),xo(r,"id",Sc("recharts-bar-")),xo(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),xo(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Mhe(t,e),khe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,c=i.dataKey,d=i.activeIndex,f=i.activeBar,p=Ye(this.props,!1);return n&&n.map(function(h,g){var x=g===d,_=x?f:s,b=or(or(or({},p),h),{},{isActive:x,option:_,index:g,dataKey:c,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return $.createElement(jt,Fp({className:"recharts-bar-rectangle"},js(a.props,h,g),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(g)}),$.createElement(nI,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,c=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,p=a.animationEasing,h=a.animationId,g=this.state.prevData;return $.createElement(Ga,{begin:d,duration:f,isActive:c,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var _=x.t,b=i.map(function(v,j){var S=g&&g[j];if(S){var A=Tn(S.x,v.x),P=Tn(S.y,v.y),E=Tn(S.width,v.width),O=Tn(S.height,v.height);return or(or({},v),{},{x:A(_),y:P(_),width:E(_),height:O(_)})}if(s==="horizontal"){var C=Tn(0,v.height),T=C(_);return or(or({},v),{},{y:v.y+v.height-T,height:T})}var I=Tn(0,v.width),R=I(_);return or(or({},v),{},{width:R})});return $.createElement(jt,null,n.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!qd(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,c=a.activeIndex,d=Ye(this.props.background,!1);return i.map(function(f,p){f.value;var h=f.background,g=Ahe(f,Che);if(!h)return null;var x=or(or(or(or(or({},g),{},{fill:"#eee"},h),d),js(n.props,f,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:p,className:"recharts-bar-background-rectangle"});return $.createElement(nI,Fp({key:"background-bar-".concat(p),option:n.props.background,isActive:p===c},x))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,c=i.xAxis,d=i.yAxis,f=i.layout,p=i.children,h=Ln(p,Ud);if(!h)return null;var g=f==="vertical"?s[0].height/2:s[0].width/2,x=function(v,j){var S=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:S,errorVal:xr(v,j)}},_={clipPath:n?"url(#clipPath-".concat(a,")"):null};return $.createElement(jt,_,h.map(function(b){return $.cloneElement(b,{key:"error-bar-".concat(a,"-").concat(b.props.dataKey),data:s,xAxis:c,yAxis:d,layout:f,offset:g,dataPointFormatter:x})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,c=n.xAxis,d=n.yAxis,f=n.left,p=n.top,h=n.width,g=n.height,x=n.isAnimationActive,_=n.background,b=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,j=st("recharts-bar",s),S=c&&c.allowDataOverflow,A=d&&d.allowDataOverflow,P=S||A,E=it(b)?this.id:b;return $.createElement(jt,{className:j},S||A?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(E)},$.createElement("rect",{x:S?f:f-h/2,y:A?p:p-g/2,width:S?h:h*2,height:A?g:g*2}))):null,$.createElement(jt,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(E,")"):null},_?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,E),(!x||v)&&wi.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(w.PureComponent);S5=_i;xo(_i,"displayName","Bar");xo(_i,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ts.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});xo(_i,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,c=e.xAxisTicks,d=e.yAxisTicks,f=e.stackedData,p=e.dataStartIndex,h=e.displayedData,g=e.offset,x=sle(n,r);if(!x)return null;var _=t.layout,b=r.type.defaultProps,v=b!==void 0?or(or({},b),r.props):r.props,j=v.dataKey,S=v.children,A=v.minPointSize,P=_==="horizontal"?s:i,E=f?P.scale.domain():null,O=ple({numericAxis:P}),C=Ln(S,Qu),T=h.map(function(I,R){var D,B,W,Y,J,F;f?D=lle(f[p+R],E):(D=xr(I,j),Array.isArray(D)||(D=[O,D]));var K=Nhe(A,S5.defaultProps.minPointSize)(D[1],R);if(_==="horizontal"){var L,H=[s.scale(D[0]),s.scale(D[1])],te=H[0],q=H[1];B=R2({axis:i,ticks:c,bandSize:a,offset:x.offset,entry:I,index:R}),W=(L=q??te)!==null&&L!==void 0?L:void 0,Y=x.size;var Q=te-q;if(J=Number.isNaN(Q)?0:Q,F={x:B,y:s.y,width:Y,height:s.height},Math.abs(K)>0&&Math.abs(J)<Math.abs(K)){var U=rn(J||K)*(Math.abs(K)-Math.abs(J));W-=U,J+=U}}else{var ne=[i.scale(D[0]),i.scale(D[1])],se=ne[0],ve=ne[1];if(B=se,W=R2({axis:s,ticks:d,bandSize:a,offset:x.offset,entry:I,index:R}),Y=ve-se,J=x.size,F={x:i.x,y:W,width:i.width,height:J},Math.abs(K)>0&&Math.abs(Y)<Math.abs(K)){var re=rn(Y||K)*(Math.abs(K)-Math.abs(Y));Y+=re}}return or(or(or({},I),{},{x:B,y:W,width:Y,height:J,value:f?D:D[1],payload:I,background:F},C&&C[R]&&C[R].props),{},{tooltipPayload:[QF(r,I)],tooltipPosition:{x:B+Y/2,y:W+J/2}})});return or({data:T,layout:_},g)});function Ed(e){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ed(e)}function $he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C5(n.key),n)}}function Lhe(e,t,r){return t&&oI(e.prototype,t),r&&oI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sI(Object(r),!0).forEach(function(n){sg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sg(e,t,r){return t=C5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C5(e){var t=zhe(e,"string");return Ed(t)=="symbol"?t:t+""}function zhe(e,t){if(Ed(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A5=function(t,r,n,a,i){var s=t.width,c=t.height,d=t.layout,f=t.children,p=Object.keys(r),h={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:c-n.bottom,bottomMirror:c-n.bottom},g=!!Pn(f,_i);return p.reduce(function(x,_){var b=r[_],v=b.orientation,j=b.domain,S=b.padding,A=S===void 0?{}:S,P=b.mirror,E=b.reversed,O="".concat(v).concat(P?"Mirror":""),C,T,I,R,D;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var B=j[1]-j[0],W=1/0,Y=b.categoricalDomain.sort(YZ);if(Y.forEach(function(ne,se){se>0&&(W=Math.min((ne||0)-(Y[se-1]||0),W))}),Number.isFinite(W)){var J=W/B,F=b.layout==="vertical"?n.height:n.width;if(b.padding==="gap"&&(C=J*F/2),b.padding==="no-gap"){var K=nn(t.barCategoryGap,J*F),L=J*F/2;C=L-K-(L-K)/F*K}}}a==="xAxis"?T=[n.left+(A.left||0)+(C||0),n.left+n.width-(A.right||0)-(C||0)]:a==="yAxis"?T=d==="horizontal"?[n.top+n.height-(A.bottom||0),n.top+(A.top||0)]:[n.top+(A.top||0)+(C||0),n.top+n.height-(A.bottom||0)-(C||0)]:T=b.range,E&&(T=[T[1],T[0]]);var H=KF(b,i,g),te=H.scale,q=H.realScaleType;te.domain(j).range(T),YF(te);var Q=XF(te,_a(_a({},b),{},{realScaleType:q}));a==="xAxis"?(D=v==="top"&&!P||v==="bottom"&&P,I=n.left,R=h[O]-D*b.height):a==="yAxis"&&(D=v==="left"&&!P||v==="right"&&P,I=h[O]-D*b.width,R=n.top);var U=_a(_a(_a({},b),Q),{},{realScaleType:q,x:I,y:R,scale:te,width:a==="xAxis"?n.width:b.width,height:a==="yAxis"?n.height:b.height});return U.bandSize=jp(U,Q),!b.hide&&a==="xAxis"?h[O]+=(D?-1:1)*U.height:b.hide||(h[O]+=(D?-1:1)*U.width),_a(_a({},x),{},sg({},_,U))},{})},P5=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},Fhe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return P5({x:r,y:n},{x:a,y:i})},O5=(function(){function e(t){$he(this,e),this.scale=t}return Lhe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(r)+c}default:return this.scale(r)}if(a){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])})();sg(O5,"EPS",1e-4);var S1=function(t){var r=Object.keys(t).reduce(function(n,a){return _a(_a({},n),{},sg({},a,O5.create(t[a])))},{});return _a(_a({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,c=i.position;return phe(a,function(d,f){return r[f].apply(d,{bandAware:s,position:c})})},isInRange:function(a){return j5(a,function(i,s){return r[s].isInRange(i)})}})};function Bhe(e){return(e%180+180)%180}var qhe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Bhe(a),s=i*Math.PI/180,c=Math.atan(n/r),d=s>c&&s<Math.PI-c?n/Math.sin(s):r/Math.cos(s);return Math.abs(d)},gw,lI;function Uhe(){if(lI)return gw;lI=1;var e=Qa(),t=$d(),r=Fm();function n(a){return function(i,s,c){var d=Object(i);if(!t(i)){var f=e(s,3);i=r(i),s=function(h){return f(d[h],h,d)}}var p=a(i,s,c);return p>-1?d[f?i[p]:p]:void 0}}return gw=n,gw}var vw,cI;function Vhe(){if(cI)return vw;cI=1;var e=x5();function t(r){var n=e(r),a=n%1;return n===n?a?n-a:n:0}return vw=t,vw}var yw,uI;function Whe(){if(uI)return yw;uI=1;var e=Pz(),t=Qa(),r=Vhe(),n=Math.max;function a(i,s,c){var d=i==null?0:i.length;if(!d)return-1;var f=c==null?0:r(c);return f<0&&(f=n(d+f,0)),e(i,t(s,3),f)}return yw=a,yw}var xw,dI;function Hhe(){if(dI)return xw;dI=1;var e=Uhe(),t=Whe(),r=e(t);return xw=r,xw}var Ghe=Hhe();const Khe=Ct(Ghe);var Yhe=W4();const Xhe=Ct(Yhe);var Jhe=Xhe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),E1=w.createContext(void 0),N1=w.createContext(void 0),k5=w.createContext(void 0),T5=w.createContext({}),R5=w.createContext(void 0),I5=w.createContext(0),M5=w.createContext(0),fI=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,c=t.children,d=t.width,f=t.height,p=Jhe(i);return $.createElement(E1.Provider,{value:n},$.createElement(N1.Provider,{value:a},$.createElement(T5.Provider,{value:i},$.createElement(k5.Provider,{value:p},$.createElement(R5.Provider,{value:s},$.createElement(I5.Provider,{value:f},$.createElement(M5.Provider,{value:d},c)))))))},Qhe=function(){return w.useContext(R5)},D5=function(t){var r=w.useContext(E1);r==null&&Ns();var n=r[t];return n==null&&Ns(),n},Zhe=function(){var t=w.useContext(E1);return yo(t)},epe=function(){var t=w.useContext(N1),r=Khe(t,function(n){return j5(n.domain,Number.isFinite)});return r||yo(t)},$5=function(t){var r=w.useContext(N1);r==null&&Ns();var n=r[t];return n==null&&Ns(),n},tpe=function(){var t=w.useContext(k5);return t},rpe=function(){return w.useContext(T5)},C1=function(){return w.useContext(M5)},A1=function(){return w.useContext(I5)};function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function npe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ape(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z5(n.key),n)}}function ipe(e,t,r){return t&&ape(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ope(e,t,r){return t=qp(t),spe(e,L5()?Reflect.construct(t,r||[],qp(e).constructor):t.apply(e,r))}function spe(e,t){if(t&&(nc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lpe(e)}function lpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L5=function(){return!!e})()}function qp(e){return qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qp(e)}function cpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uj(e,t)}function uj(e,t){return uj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uj(e,t)}function hI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hI(Object(r),!0).forEach(function(n){P1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P1(e,t,r){return t=z5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z5(e){var t=upe(e,"string");return nc(t)=="symbol"?t:t+""}function upe(e,t){if(nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function dpe(e,t){return mpe(e)||ppe(e,t)||hpe(e,t)||fpe()}function fpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hpe(e,t){if(e){if(typeof e=="string")return mI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mI(e,t)}}function mI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ppe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function mpe(e){if(Array.isArray(e))return e}function dj(){return dj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dj.apply(this,arguments)}var gpe=function(t,r){var n;return $.isValidElement(t)?n=$.cloneElement(t,r):at(t)?n=t(r):n=$.createElement("line",dj({},r,{className:"recharts-reference-line-line"})),n},vpe=function(t,r,n,a,i,s,c,d,f){var p=i.x,h=i.y,g=i.width,x=i.height;if(n){var _=f.y,b=t.y.apply(_,{position:s});if(Va(f,"discard")&&!t.y.isInRange(b))return null;var v=[{x:p+g,y:b},{x:p,y:b}];return d==="left"?v.reverse():v}if(r){var j=f.x,S=t.x.apply(j,{position:s});if(Va(f,"discard")&&!t.x.isInRange(S))return null;var A=[{x:S,y:h+x},{x:S,y:h}];return c==="top"?A.reverse():A}if(a){var P=f.segment,E=P.map(function(O){return t.apply(O,{position:s})});return Va(f,"discard")&&uhe(E,function(O){return!t.isInRange(O)})?null:E}return null};function ype(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,c=e.className,d=e.alwaysShow,f=Qhe(),p=D5(a),h=$5(i),g=tpe();if(!f||!g)return null;Ea(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=S1({x:p.scale,y:h.scale}),_=br(t),b=br(r),v=n&&n.length===2,j=vpe(x,_,b,v,g,e.position,p.orientation,h.orientation,e);if(!j)return null;var S=dpe(j,2),A=S[0],P=A.x,E=A.y,O=S[1],C=O.x,T=O.y,I=Va(e,"hidden")?"url(#".concat(f,")"):void 0,R=pI(pI({clipPath:I},Ye(e,!0)),{},{x1:P,y1:E,x2:C,y2:T});return $.createElement(jt,{className:st("recharts-reference-line",c)},gpe(s,R),Ar.renderCallByParent(e,Fhe({x1:P,y1:E,x2:C,y2:T})))}var O1=(function(e){function t(){return npe(this,t),ope(this,t,arguments)}return cpe(t,e),ipe(t,[{key:"render",value:function(){return $.createElement(ype,this.props)}}])})($.Component);P1(O1,"displayName","ReferenceLine");P1(O1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function fj(){return fj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fj.apply(this,arguments)}function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function gI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(r),!0).forEach(function(n){lg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bpe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B5(n.key),n)}}function wpe(e,t,r){return t&&bpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _pe(e,t,r){return t=Up(t),jpe(e,F5()?Reflect.construct(t,r||[],Up(e).constructor):t.apply(e,r))}function jpe(e,t){if(t&&(ac(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Spe(e)}function Spe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F5=function(){return!!e})()}function Up(e){return Up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Up(e)}function Epe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hj(e,t)}function hj(e,t){return hj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hj(e,t)}function lg(e,t,r){return t=B5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B5(e){var t=Npe(e,"string");return ac(t)=="symbol"?t:t+""}function Npe(e,t){if(ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cpe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=S1({x:a.scale,y:i.scale}),c=s.apply({x:r,y:n},{bandAware:!0});return Va(t,"discard")&&!s.isInRange(c)?null:c},cg=(function(e){function t(){return xpe(this,t),_pe(this,t,arguments)}return Epe(t,e),wpe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,c=n.alwaysShow,d=n.clipPathId,f=br(a),p=br(i);if(Ea(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!p)return null;var h=Cpe(this.props);if(!h)return null;var g=h.x,x=h.y,_=this.props,b=_.shape,v=_.className,j=Va(this.props,"hidden")?"url(#".concat(d,")"):void 0,S=vI(vI({clipPath:j},Ye(this.props,!0)),{},{cx:g,cy:x});return $.createElement(jt,{className:st("recharts-reference-dot",v)},t.renderDot(b,S),Ar.renderCallByParent(this.props,{x:g-s,y:x-s,width:2*s,height:2*s}))}}])})($.Component);lg(cg,"displayName","ReferenceDot");lg(cg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});lg(cg,"renderDot",function(e,t){var r;return $.isValidElement(e)?r=$.cloneElement(e,t):at(e)?r=e(t):r=$.createElement(eg,fj({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function pj(){return pj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pj.apply(this,arguments)}function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}function yI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yI(Object(r),!0).forEach(function(n){ug(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ape(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ppe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U5(n.key),n)}}function Ope(e,t,r){return t&&Ppe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kpe(e,t,r){return t=Vp(t),Tpe(e,q5()?Reflect.construct(t,r||[],Vp(e).constructor):t.apply(e,r))}function Tpe(e,t){if(t&&(ic(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rpe(e)}function Rpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q5=function(){return!!e})()}function Vp(e){return Vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vp(e)}function Ipe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mj(e,t)}function mj(e,t){return mj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mj(e,t)}function ug(e,t,r){return t=U5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U5(e){var t=Mpe(e,"string");return ic(t)=="symbol"?t:t+""}function Mpe(e,t){if(ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Dpe=function(t,r,n,a,i){var s=i.x1,c=i.x2,d=i.y1,f=i.y2,p=i.xAxis,h=i.yAxis;if(!p||!h)return null;var g=S1({x:p.scale,y:h.scale}),x={x:t?g.x.apply(s,{position:"start"}):g.x.rangeMin,y:n?g.y.apply(d,{position:"start"}):g.y.rangeMin},_={x:r?g.x.apply(c,{position:"end"}):g.x.rangeMax,y:a?g.y.apply(f,{position:"end"}):g.y.rangeMax};return Va(i,"discard")&&(!g.isInRange(x)||!g.isInRange(_))?null:P5(x,_)},dg=(function(e){function t(){return Ape(this,t),kpe(this,t,arguments)}return Ipe(t,e),Ope(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,c=n.y2,d=n.className,f=n.alwaysShow,p=n.clipPathId;Ea(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=br(a),g=br(i),x=br(s),_=br(c),b=this.props.shape;if(!h&&!g&&!x&&!_&&!b)return null;var v=Dpe(h,g,x,_,this.props);if(!v&&!b)return null;var j=Va(this.props,"hidden")?"url(#".concat(p,")"):void 0;return $.createElement(jt,{className:st("recharts-reference-area",d)},t.renderRect(b,xI(xI({clipPath:j},Ye(this.props,!0)),v)),Ar.renderCallByParent(this.props,v))}}])})($.Component);ug(dg,"displayName","ReferenceArea");ug(dg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ug(dg,"renderRect",function(e,t){var r;return $.isValidElement(e)?r=$.cloneElement(e,t):at(e)?r=e(t):r=$.createElement(j1,pj({},t,{className:"recharts-reference-area-rect"})),r});function V5(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function $pe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return qhe(n,r)}function Lpe(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,c=e.height;return t===1?{start:n?a:i,end:n?a+s:i+c}:{start:n?a+s:i+c,end:n?a:i}}function Wp(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function zpe(e,t){return V5(e,t+1)}function Fpe(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,c=t.end,d=0,f=1,p=s,h=function(){var _=n?.[d];if(_===void 0)return{v:V5(n,f)};var b=d,v,j=function(){return v===void 0&&(v=r(_,b)),v},S=_.coordinate,A=d===0||Wp(e,S,j,p,c);A||(d=0,p=s,f+=1),A&&(p=S+e*(j()/2+a),d+=f)},g;f<=i.length;)if(g=h(),g)return g.v;return[]}function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(e)}function bI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bI(Object(r),!0).forEach(function(n){Bpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bpe(e,t,r){return t=qpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qpe(e){var t=Upe(e,"string");return Nd(t)=="symbol"?t:t+""}function Upe(e,t){if(Nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vpe(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,c=t.start,d=t.end,f=function(g){var x=i[g],_,b=function(){return _===void 0&&(_=r(x,g)),_};if(g===s-1){var v=e*(x.coordinate+e*b()/2-d);i[g]=x=Yr(Yr({},x),{},{tickCoord:v>0?x.coordinate-v*e:x.coordinate})}else i[g]=x=Yr(Yr({},x),{},{tickCoord:x.coordinate});var j=Wp(e,x.tickCoord,b,c,d);j&&(d=x.tickCoord-e*(b()/2+a),i[g]=Yr(Yr({},x),{},{isShow:!0}))},p=s-1;p>=0;p--)f(p);return i}function Wpe(e,t,r,n,a,i){var s=(n||[]).slice(),c=s.length,d=t.start,f=t.end;if(i){var p=n[c-1],h=r(p,c-1),g=e*(p.coordinate+e*h/2-f);s[c-1]=p=Yr(Yr({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate});var x=Wp(e,p.tickCoord,function(){return h},d,f);x&&(f=p.tickCoord-e*(h/2+a),s[c-1]=Yr(Yr({},p),{},{isShow:!0}))}for(var _=i?c-1:c,b=function(S){var A=s[S],P,E=function(){return P===void 0&&(P=r(A,S)),P};if(S===0){var O=e*(A.coordinate-e*E()/2-d);s[S]=A=Yr(Yr({},A),{},{tickCoord:O<0?A.coordinate-O*e:A.coordinate})}else s[S]=A=Yr(Yr({},A),{},{tickCoord:A.coordinate});var C=Wp(e,A.tickCoord,E,d,f);C&&(d=A.tickCoord+e*(E()/2+a),s[S]=Yr(Yr({},A),{},{isShow:!0}))},v=0;v<_;v++)b(v);return s}function k1(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,c=e.orientation,d=e.interval,f=e.tickFormatter,p=e.unit,h=e.angle;if(!a||!a.length||!n)return[];if(Ne(d)||Ts.isSsr)return zpe(a,typeof d=="number"&&Ne(d)?d:0);var g=[],x=c==="top"||c==="bottom"?"width":"height",_=p&&x==="width"?Ou(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=function(A,P){var E=at(f)?f(A.value,P):A.value;return x==="width"?$pe(Ou(E,{fontSize:t,letterSpacing:r}),_,h):Ou(E,{fontSize:t,letterSpacing:r})[x]},v=a.length>=2?rn(a[1].coordinate-a[0].coordinate):1,j=Lpe(i,v,x);return d==="equidistantPreserveStart"?Fpe(v,j,b,a,s):(d==="preserveStart"||d==="preserveStartEnd"?g=Wpe(v,j,b,a,s,d==="preserveStartEnd"):g=Vpe(v,j,b,a,s),g.filter(function(S){return S.isShow}))}var Hpe=["viewBox"],Gpe=["viewBox"],Kpe=["ticks"];function oc(e){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cl.apply(this,arguments)}function wI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(r),!0).forEach(function(n){T1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bw(e,t){if(e==null)return{};var r=Ype(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ype(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Xpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H5(n.key),n)}}function Jpe(e,t,r){return t&&_I(e.prototype,t),r&&_I(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qpe(e,t,r){return t=Hp(t),Zpe(e,W5()?Reflect.construct(t,r||[],Hp(e).constructor):t.apply(e,r))}function Zpe(e,t){if(t&&(oc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eme(e)}function eme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W5=function(){return!!e})()}function Hp(e){return Hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hp(e)}function tme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gj(e,t)}function gj(e,t){return gj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gj(e,t)}function T1(e,t,r){return t=H5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H5(e){var t=rme(e,"string");return oc(t)=="symbol"?t:t+""}function rme(e,t){if(oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Pc=(function(e){function t(r){var n;return Xpe(this,t),n=Qpe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return tme(t,e),Jpe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=bw(n,Hpe),c=this.props,d=c.viewBox,f=bw(c,Gpe);return!Ml(i,d)||!Ml(s,f)||!Ml(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,c=a.width,d=a.height,f=a.orientation,p=a.tickSize,h=a.mirror,g=a.tickMargin,x,_,b,v,j,S,A=h?-1:1,P=n.tickSize||p,E=Ne(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":x=_=n.coordinate,v=s+ +!h*d,b=v-A*P,S=b-A*g,j=E;break;case"left":b=v=n.coordinate,_=i+ +!h*c,x=_-A*P,j=x-A*g,S=E;break;case"right":b=v=n.coordinate,_=i+ +h*c,x=_+A*P,j=x+A*g,S=E;break;default:x=_=n.coordinate,v=s+ +h*d,b=v+A*P,S=b+A*g,j=E;break}return{line:{x1:x,y1:b,x2:_,y2:v},tick:{x:j,y:S}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,c=n.height,d=n.orientation,f=n.mirror,p=n.axisLine,h=gr(gr(gr({},Ye(this.props,!1)),Ye(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var g=+(d==="top"&&!f||d==="bottom"&&f);h=gr(gr({},h),{},{x1:a,y1:i+g*c,x2:a+s,y2:i+g*c})}else{var x=+(d==="left"&&!f||d==="right"&&f);h=gr(gr({},h),{},{x1:a+x*s,y1:i,x2:a+x*s,y2:i+c})}return $.createElement("line",Cl({},h,{className:st("recharts-cartesian-axis-line",$n(p,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,c=this.props,d=c.tickLine,f=c.stroke,p=c.tick,h=c.tickFormatter,g=c.unit,x=k1(gr(gr({},this.props),{},{ticks:n}),a,i),_=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),v=Ye(this.props,!1),j=Ye(p,!1),S=gr(gr({},v),{},{fill:"none"},Ye(d,!1)),A=x.map(function(P,E){var O=s.getTickLineCoord(P),C=O.line,T=O.tick,I=gr(gr(gr(gr({textAnchor:_,verticalAnchor:b},v),{},{stroke:"none",fill:f},j),T),{},{index:E,payload:P,visibleTicksCount:x.length,tickFormatter:h});return $.createElement(jt,Cl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},js(s.props,P,E)),d&&$.createElement("line",Cl({},S,C,{className:st("recharts-cartesian-axis-tick-line",$n(d,"className"))})),p&&t.renderTickItem(p,I,"".concat(at(h)?h(P.value,E):P.value).concat(g||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},A)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,c=a.height,d=a.ticksGenerator,f=a.className,p=a.hide;if(p)return null;var h=this.props,g=h.ticks,x=bw(h,Kpe),_=g;return at(d)&&(_=g&&g.length>0?d(this.props):d(x)),s<=0||c<=0||!_||!_.length?null:$.createElement(jt,{className:st("recharts-cartesian-axis",f),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(_,this.state.fontSize,this.state.letterSpacing),Ar.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s,c=st(a.className,"recharts-cartesian-axis-tick-value");return $.isValidElement(n)?s=$.cloneElement(n,gr(gr({},a),{},{className:c})):at(n)?s=n(gr(gr({},a),{},{className:c})):s=$.createElement(Ss,Cl({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])})(w.Component);T1(Pc,"displayName","CartesianAxis");T1(Pc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var nme=["x1","y1","x2","y2","key"],ame=["offset"];function Cs(e){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(e)}function jI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jI(Object(r),!0).forEach(function(n){ime(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ime(e,t,r){return t=ome(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ome(e){var t=sme(e,"string");return Cs(t)=="symbol"?t:t+""}function sme(e,t){if(Cs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fs(){return fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fs.apply(this,arguments)}function SI(e,t){if(e==null)return{};var r=lme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var cme=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,c=t.height,d=t.ry;return $.createElement("rect",{x:a,y:i,ry:d,width:s,height:c,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function G5(e,t){var r;if($.isValidElement(e))r=$.cloneElement(e,t);else if(at(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,c=t.key,d=SI(t,nme),f=Ye(d,!1);f.offset;var p=SI(f,ame);r=$.createElement("line",fs({},p,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:c}))}return r}function ume(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(c,d){var f=Xr(Xr({},e),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(d),index:d});return G5(a,f)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function dme(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(c,d){var f=Xr(Xr({},e),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(d),index:d});return G5(a,f)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function fme(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,c=e.horizontalPoints,d=e.horizontal,f=d===void 0?!0:d;if(!f||!t||!t.length)return null;var p=c.map(function(g){return Math.round(g+a-a)}).sort(function(g,x){return g-x});a!==p[0]&&p.unshift(0);var h=p.map(function(g,x){var _=!p[x+1],b=_?a+s-g:p[x+1]-g;if(b<=0)return null;var v=x%t.length;return $.createElement("rect",{key:"react-".concat(x),y:g,x:n,height:b,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function hme(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,c=e.width,d=e.height,f=e.verticalPoints;if(!r||!n||!n.length)return null;var p=f.map(function(g){return Math.round(g+i-i)}).sort(function(g,x){return g-x});i!==p[0]&&p.unshift(0);var h=p.map(function(g,x){var _=!p[x+1],b=_?i+c-g:p[x+1]-g;if(b<=0)return null;var v=x%n.length;return $.createElement("rect",{key:"react-".concat(x),x:g,y:s,width:b,height:d,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var pme=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return GF(k1(Xr(Xr(Xr({},Pc.defaultProps),n),{},{ticks:yi(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},mme=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return GF(k1(Xr(Xr(Xr({},Pc.defaultProps),n),{},{ticks:yi(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},gl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function vj(e){var t,r,n,a,i,s,c=C1(),d=A1(),f=rpe(),p=Xr(Xr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:gl.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:gl.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:gl.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:gl.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:gl.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:gl.verticalFill,x:Ne(e.x)?e.x:f.left,y:Ne(e.y)?e.y:f.top,width:Ne(e.width)?e.width:f.width,height:Ne(e.height)?e.height:f.height}),h=p.x,g=p.y,x=p.width,_=p.height,b=p.syncWithTicks,v=p.horizontalValues,j=p.verticalValues,S=Zhe(),A=epe();if(!Ne(x)||x<=0||!Ne(_)||_<=0||!Ne(h)||h!==+h||!Ne(g)||g!==+g)return null;var P=p.verticalCoordinatesGenerator||pme,E=p.horizontalCoordinatesGenerator||mme,O=p.horizontalPoints,C=p.verticalPoints;if((!O||!O.length)&&at(E)){var T=v&&v.length,I=E({yAxis:A?Xr(Xr({},A),{},{ticks:T?v:A.ticks}):void 0,width:c,height:d,offset:f},T?!0:b);Ea(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Cs(I),"]")),Array.isArray(I)&&(O=I)}if((!C||!C.length)&&at(P)){var R=j&&j.length,D=P({xAxis:S?Xr(Xr({},S),{},{ticks:R?j:S.ticks}):void 0,width:c,height:d,offset:f},R?!0:b);Ea(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Cs(D),"]")),Array.isArray(D)&&(C=D)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(cme,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),$.createElement(ume,fs({},p,{offset:f,horizontalPoints:O,xAxis:S,yAxis:A})),$.createElement(dme,fs({},p,{offset:f,verticalPoints:C,xAxis:S,yAxis:A})),$.createElement(fme,fs({},p,{horizontalPoints:O})),$.createElement(hme,fs({},p,{verticalPoints:C})))}vj.displayName="CartesianGrid";var gme=["type","layout","connectNulls","ref"],vme=["key"];function sc(e){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}function EI(e,t){if(e==null)return{};var r=yme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Du(){return Du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Du.apply(this,arguments)}function NI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NI(Object(r),!0).forEach(function(n){ja(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vl(e){return _me(e)||wme(e)||bme(e)||xme()}function xme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bme(e,t){if(e){if(typeof e=="string")return yj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yj(e,t)}}function wme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _me(e){if(Array.isArray(e))return yj(e)}function yj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y5(n.key),n)}}function Sme(e,t,r){return t&&CI(e.prototype,t),r&&CI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Eme(e,t,r){return t=Gp(t),Nme(e,K5()?Reflect.construct(t,r||[],Gp(e).constructor):t.apply(e,r))}function Nme(e,t){if(t&&(sc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cme(e)}function Cme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K5=function(){return!!e})()}function Gp(e){return Gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gp(e)}function Ame(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xj(e,t)}function xj(e,t){return xj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xj(e,t)}function ja(e,t,r){return t=Y5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y5(e){var t=Pme(e,"string");return sc(t)=="symbol"?t:t+""}function Pme(e,t){if(sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vs=(function(e){function t(){var r;jme(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Eme(this,t,[].concat(a)),ja(r,"state",{isAnimationFinished:!0,totalLength:0}),ja(r,"generateSimpleStrokeDasharray",function(s,c){return"".concat(c,"px ").concat(s-c,"px")}),ja(r,"getStrokeDasharray",function(s,c,d){var f=d.reduce(function(j,S){return j+S});if(!f)return r.generateSimpleStrokeDasharray(c,s);for(var p=Math.floor(s/f),h=s%f,g=c-s,x=[],_=0,b=0;_<d.length;b+=d[_],++_)if(b+d[_]>h){x=[].concat(vl(d.slice(0,_)),[h-b]);break}var v=x.length%2===0?[0,g]:[g];return[].concat(vl(t.repeat(d,p)),vl(x),v).map(function(j){return"".concat(j,"px")}).join(", ")}),ja(r,"id",Sc("recharts-line-")),ja(r,"pathRef",function(s){r.mainCurve=s}),ja(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ja(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Ame(t,e),Sme(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,c=i.xAxis,d=i.yAxis,f=i.layout,p=i.children,h=Ln(p,Ud);if(!h)return null;var g=function(b,v){return{x:b.x,y:b.y,value:b.value,errorVal:xr(b.payload,v)}},x={clipPath:n?"url(#clipPath-".concat(a,")"):null};return $.createElement(jt,x,h.map(function(_){return $.cloneElement(_,{key:"bar-".concat(_.props.dataKey),data:s,xAxis:c,yAxis:d,layout:f,dataPointFormatter:g})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var c=this.props,d=c.dot,f=c.points,p=c.dataKey,h=Ye(this.props,!1),g=Ye(d,!0),x=f.map(function(b,v){var j=Nn(Nn(Nn({key:"dot-".concat(v),r:3},h),g),{},{index:v,cx:b.x,cy:b.y,value:b.value,dataKey:p,payload:b.payload,points:f});return t.renderDotItem(d,j)}),_={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return $.createElement(jt,Du({className:"recharts-line-dots",key:"dots"},_),x)}},{key:"renderCurveStatically",value:function(n,a,i,s){var c=this.props,d=c.type,f=c.layout,p=c.connectNulls;c.ref;var h=EI(c,gme),g=Nn(Nn(Nn({},Ye(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:d,layout:f,connectNulls:p});return $.createElement(Np,Du({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,c=s.points,d=s.strokeDasharray,f=s.isAnimationActive,p=s.animationBegin,h=s.animationDuration,g=s.animationEasing,x=s.animationId,_=s.animateNewValues,b=s.width,v=s.height,j=this.state,S=j.prevPoints,A=j.totalLength;return $.createElement(Ga,{begin:p,duration:h,isActive:f,easing:g,from:{t:0},to:{t:1},key:"line-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var E=P.t;if(S){var O=S.length/c.length,C=c.map(function(B,W){var Y=Math.floor(W*O);if(S[Y]){var J=S[Y],F=Tn(J.x,B.x),K=Tn(J.y,B.y);return Nn(Nn({},B),{},{x:F(E),y:K(E)})}if(_){var L=Tn(b*2,B.x),H=Tn(v/2,B.y);return Nn(Nn({},B),{},{x:L(E),y:H(E)})}return Nn(Nn({},B),{},{x:B.x,y:B.y})});return i.renderCurveStatically(C,n,a)}var T=Tn(0,A),I=T(E),R;if(d){var D="".concat(d).split(/[,\s]+/gim).map(function(B){return parseFloat(B)});R=i.getStrokeDasharray(I,A,D)}else R=i.generateSimpleStrokeDasharray(A,I);return i.renderCurveStatically(c,n,a,{strokeDasharray:R})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,c=i.isAnimationActive,d=this.state,f=d.prevPoints,p=d.totalLength;return c&&s&&s.length&&(!f&&p>0||!qd(f,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,c=a.points,d=a.className,f=a.xAxis,p=a.yAxis,h=a.top,g=a.left,x=a.width,_=a.height,b=a.isAnimationActive,v=a.id;if(i||!c||!c.length)return null;var j=this.state.isAnimationFinished,S=c.length===1,A=st("recharts-line",d),P=f&&f.allowDataOverflow,E=p&&p.allowDataOverflow,O=P||E,C=it(v)?this.id:v,T=(n=Ye(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},I=T.r,R=I===void 0?3:I,D=T.strokeWidth,B=D===void 0?2:D,W=aee(s)?s:{},Y=W.clipDot,J=Y===void 0?!0:Y,F=R*2+B;return $.createElement(jt,{className:A},P||E?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(C)},$.createElement("rect",{x:P?g:g-x/2,y:E?h:h-_/2,width:P?x:x*2,height:E?_:_*2})),!J&&$.createElement("clipPath",{id:"clipPath-dots-".concat(C)},$.createElement("rect",{x:g-F/2,y:h-F/2,width:x+F,height:_+F}))):null,!S&&this.renderCurve(O,C),this.renderErrorBar(O,C),(S||s)&&this.renderDots(O,J,C),(!b||j)&&wi.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(vl(n),[0]):n,s=[],c=0;c<a;++c)s=[].concat(vl(s),vl(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if($.isValidElement(n))i=$.cloneElement(n,a);else if(at(n))i=n(a);else{var s=a.key,c=EI(a,vme),d=st("recharts-line-dot",typeof n!="boolean"?n.className:"");i=$.createElement(eg,Du({key:s},c,{className:d}))}return i}}])})(w.PureComponent);ja(vs,"displayName","Line");ja(vs,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ts.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ja(vs,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,c=e.bandSize,d=e.displayedData,f=e.offset,p=t.layout,h=d.map(function(g,x){var _=xr(g,s);return p==="horizontal"?{x:T2({axis:r,ticks:a,bandSize:c,entry:g,index:x}),y:it(_)?null:n.scale(_),value:_,payload:g}:{x:it(_)?null:r.scale(_),y:T2({axis:n,ticks:i,bandSize:c,entry:g,index:x}),value:_,payload:g}});return Nn({points:h,layout:p},f)});function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(e)}function Ome(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q5(n.key),n)}}function Tme(e,t,r){return t&&kme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rme(e,t,r){return t=Kp(t),Ime(e,X5()?Reflect.construct(t,r||[],Kp(e).constructor):t.apply(e,r))}function Ime(e,t){if(t&&(lc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mme(e)}function Mme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X5=function(){return!!e})()}function Kp(e){return Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kp(e)}function Dme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bj(e,t)}function bj(e,t){return bj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bj(e,t)}function J5(e,t,r){return t=Q5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q5(e){var t=$me(e,"string");return lc(t)=="symbol"?t:t+""}function $me(e,t){if(lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function wj(){return wj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wj.apply(this,arguments)}function Lme(e){var t=e.xAxisId,r=C1(),n=A1(),a=D5(t);return a==null?null:w.createElement(Pc,wj({},a,{className:st("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return yi(s,!0)}}))}var cc=(function(e){function t(){return Ome(this,t),Rme(this,t,arguments)}return Dme(t,e),Tme(t,[{key:"render",value:function(){return w.createElement(Lme,this.props)}}])})(w.Component);J5(cc,"displayName","XAxis");J5(cc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function zme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t3(n.key),n)}}function Bme(e,t,r){return t&&Fme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qme(e,t,r){return t=Yp(t),Ume(e,Z5()?Reflect.construct(t,r||[],Yp(e).constructor):t.apply(e,r))}function Ume(e,t){if(t&&(uc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vme(e)}function Vme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z5=function(){return!!e})()}function Yp(e){return Yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yp(e)}function Wme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_j(e,t)}function _j(e,t){return _j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_j(e,t)}function e3(e,t,r){return t=t3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t3(e){var t=Hme(e,"string");return uc(t)=="symbol"?t:t+""}function Hme(e,t){if(uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function jj(){return jj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jj.apply(this,arguments)}var Gme=function(t){var r=t.yAxisId,n=C1(),a=A1(),i=$5(r);return i==null?null:w.createElement(Pc,jj({},i,{className:st("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(c){return yi(c,!0)}}))},dc=(function(e){function t(){return zme(this,t),qme(this,t,arguments)}return Wme(t,e),Bme(t,[{key:"render",value:function(){return w.createElement(Gme,this.props)}}])})(w.Component);e3(dc,"displayName","YAxis");e3(dc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function AI(e){return Jme(e)||Xme(e)||Yme(e)||Kme()}function Kme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yme(e,t){if(e){if(typeof e=="string")return Sj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sj(e,t)}}function Xme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jme(e){if(Array.isArray(e))return Sj(e)}function Sj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ej=function(t,r,n,a,i){var s=Ln(t,O1),c=Ln(t,cg),d=[].concat(AI(s),AI(c)),f=Ln(t,dg),p="".concat(a,"Id"),h=a[0],g=r;if(d.length&&(g=d.reduce(function(b,v){if(v.props[p]===n&&Va(v.props,"extendDomain")&&Ne(v.props[h])){var j=v.props[h];return[Math.min(b[0],j),Math.max(b[1],j)]}return b},g)),f.length){var x="".concat(h,"1"),_="".concat(h,"2");g=f.reduce(function(b,v){if(v.props[p]===n&&Va(v.props,"extendDomain")&&Ne(v.props[x])&&Ne(v.props[_])){var j=v.props[x],S=v.props[_];return[Math.min(b[0],j,S),Math.max(b[1],j,S)]}return b},g)}return i&&i.length&&(g=i.reduce(function(b,v){return Ne(v)?[Math.min(b[0],v),Math.max(b[1],v)]:b},g)),g},ww={exports:{}},PI;function Qme(){return PI||(PI=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function i(d,f,p,h,g){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new a(p,h||d,g),_=r?r+f:f;return d._events[_]?d._events[_].fn?d._events[_]=[d._events[_],x]:d._events[_].push(x):(d._events[_]=x,d._eventsCount++),d}function s(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],p,h;if(this._eventsCount===0)return f;for(h in p=this._events)t.call(p,h)&&f.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},c.prototype.listeners=function(f){var p=r?r+f:f,h=this._events[p];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,x=h.length,_=new Array(x);g<x;g++)_[g]=h[g].fn;return _},c.prototype.listenerCount=function(f){var p=r?r+f:f,h=this._events[p];return h?h.fn?1:h.length:0},c.prototype.emit=function(f,p,h,g,x,_){var b=r?r+f:f;if(!this._events[b])return!1;var v=this._events[b],j=arguments.length,S,A;if(v.fn){switch(v.once&&this.removeListener(f,v.fn,void 0,!0),j){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,p),!0;case 3:return v.fn.call(v.context,p,h),!0;case 4:return v.fn.call(v.context,p,h,g),!0;case 5:return v.fn.call(v.context,p,h,g,x),!0;case 6:return v.fn.call(v.context,p,h,g,x,_),!0}for(A=1,S=new Array(j-1);A<j;A++)S[A-1]=arguments[A];v.fn.apply(v.context,S)}else{var P=v.length,E;for(A=0;A<P;A++)switch(v[A].once&&this.removeListener(f,v[A].fn,void 0,!0),j){case 1:v[A].fn.call(v[A].context);break;case 2:v[A].fn.call(v[A].context,p);break;case 3:v[A].fn.call(v[A].context,p,h);break;case 4:v[A].fn.call(v[A].context,p,h,g);break;default:if(!S)for(E=1,S=new Array(j-1);E<j;E++)S[E-1]=arguments[E];v[A].fn.apply(v[A].context,S)}}return!0},c.prototype.on=function(f,p,h){return i(this,f,p,h,!1)},c.prototype.once=function(f,p,h){return i(this,f,p,h,!0)},c.prototype.removeListener=function(f,p,h,g){var x=r?r+f:f;if(!this._events[x])return this;if(!p)return s(this,x),this;var _=this._events[x];if(_.fn)_.fn===p&&(!g||_.once)&&(!h||_.context===h)&&s(this,x);else{for(var b=0,v=[],j=_.length;b<j;b++)(_[b].fn!==p||g&&!_[b].once||h&&_[b].context!==h)&&v.push(_[b]);v.length?this._events[x]=v.length===1?v[0]:v:s(this,x)}return this},c.prototype.removeAllListeners=function(f){var p;return f?(p=r?r+f:f,this._events[p]&&s(this,p)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c})(ww)),ww.exports}var Zme=Qme();const ege=Ct(Zme);var _w=new ege,jw="recharts.syncMouseEvents";function Cd(e){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(e)}function tge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r3(n.key),n)}}function nge(e,t,r){return t&&rge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sw(e,t,r){return t=r3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r3(e){var t=age(e,"string");return Cd(t)=="symbol"?t:t+""}function age(e,t){if(Cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ige=(function(){function e(){tge(this,e),Sw(this,"activeIndex",0),Sw(this,"coordinateList",[]),Sw(this,"layout","horizontal")}return nge(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,c=s===void 0?null:s,d=r.layout,f=d===void 0?null:d,p=r.offset,h=p===void 0?null:p,g=r.mouseHandlerCallback,x=g===void 0?null:g;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=c??this.container,this.layout=f??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,c=a.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=i+d+f,g=s+this.offset.top+c/2+p;this.mouseHandlerCallback({pageX:h,pageY:g})}}}])})();function oge(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],a=e?.[1];if(n&&a&&Ne(n)&&Ne(a))return!0}return!1}function sge(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function n3(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=$t(t,r,n,a),c=$t(t,r,n,i);return{points:[s,c],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function lge(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var c=t.cx,d=t.cy,f=t.innerRadius,p=t.outerRadius,h=t.angle,g=$t(c,d,f,h),x=$t(c,d,p,h);n=g.x,a=g.y,i=x.x,s=x.y}else return n3(t);return[{x:n,y:a},{x:i,y:s}]}function Ad(e){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad(e)}function OI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OI(Object(r),!0).forEach(function(n){cge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cge(e,t,r){return t=uge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uge(e){var t=dge(e,"string");return Ad(t)=="symbol"?t:t+""}function dge(e,t){if(Ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fge(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,c=e.activePayload,d=e.offset,f=e.activeTooltipIndex,p=e.tooltipAxisBandSize,h=e.layout,g=e.chartName,x=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!x||!i||!s||g!=="ScatterChart"&&a!=="axis")return null;var _,b=Np;if(g==="ScatterChart")_=s,b=Ide;else if(g==="BarChart")_=sge(h,s,d,p),b=j1;else if(h==="radial"){var v=n3(s),j=v.cx,S=v.cy,A=v.radius,P=v.startAngle,E=v.endAngle;_={cx:j,cy:S,startAngle:P,endAngle:E,innerRadius:A,outerRadius:A},b=a5}else _={points:lge(h,s,d)},b=Np;var O=jh(jh(jh(jh({stroke:"#ccc",pointerEvents:"none"},d),_),Ye(x,!1)),{},{payload:c,payloadIndex:f,className:st("recharts-tooltip-cursor",x.className)});return w.isValidElement(x)?w.cloneElement(x,O):w.createElement(b,O)}var hge=["item"],pge=["children","className","width","height","style","compact","title","desc"];function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Al.apply(this,arguments)}function kI(e,t){return vge(e)||gge(e,t)||i3(e,t)||mge()}function mge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function vge(e){if(Array.isArray(e))return e}function TI(e,t){if(e==null)return{};var r=yge(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o3(n.key),n)}}function wge(e,t,r){return t&&bge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _ge(e,t,r){return t=Xp(t),jge(e,a3()?Reflect.construct(t,r||[],Xp(e).constructor):t.apply(e,r))}function jge(e,t){if(t&&(fc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sge(e)}function Sge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a3=function(){return!!e})()}function Xp(e){return Xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xp(e)}function Ege(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nj(e,t)}function Nj(e,t){return Nj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Nj(e,t)}function hc(e){return Age(e)||Cge(e)||i3(e)||Nge()}function Nge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i3(e,t){if(e){if(typeof e=="string")return Cj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cj(e,t)}}function Cge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Age(e){if(Array.isArray(e))return Cj(e)}function Cj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(r),!0).forEach(function(n){Qe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qe(e,t,r){return t=o3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o3(e){var t=Pge(e,"string");return fc(t)=="symbol"?t:t+""}function Pge(e,t){if(fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oge={xAxis:["bottom","top"],yAxis:["left","right"]},kge={width:"100%",height:"100%"},s3={x:0,y:0};function Sh(e){return e}var Tge=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Rge=function(t,r,n,a){var i=r.find(function(p){return p&&p.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,c=a.radius;return he(he(he({},a),$t(a.cx,a.cy,c,s)),{},{angle:s,radius:c})}var d=i.coordinate,f=a.angle;return he(he(he({},a),$t(a.cx,a.cy,d,f)),{},{angle:f,radius:d})}return s3},fg=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(c,d){var f=d.props.data;return f&&f.length?[].concat(hc(c),hc(f)):c},[]);return s.length>0?s:t&&t.length&&Ne(a)&&Ne(i)?t.slice(a,i+1):[]};function l3(e){return e==="number"?[0,"auto"]:void 0}var Aj=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,c=fg(r,t);return n<0||!i||!i.length||n>=c.length?null:i.reduce(function(d,f){var p,h=(p=f.props.data)!==null&&p!==void 0?p:r;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var g;if(s.dataKey&&!s.allowDuplicatedCategory){var x=h===void 0?c:h;g=Qh(x,s.dataKey,a)}else g=h&&h[n]||c[n];return g?[].concat(hc(d),[QF(f,g)]):d},[])},II=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=Tge(i,n),c=t.orderedTooltipTicks,d=t.tooltipAxis,f=t.tooltipTicks,p=tle(s,c,f,d);if(p>=0&&f){var h=f[p]&&f[p].value,g=Aj(t,r,p,h),x=Rge(n,c,p,i);return{activeTooltipIndex:p,activeLabel:h,activePayload:g,activeCoordinate:x}}return null},Ige=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,c=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=t.layout,h=t.children,g=t.stackOffset,x=HF(p,i);return n.reduce(function(_,b){var v,j=b.type.defaultProps!==void 0?he(he({},b.type.defaultProps),b.props):b.props,S=j.type,A=j.dataKey,P=j.allowDataOverflow,E=j.allowDuplicatedCategory,O=j.scale,C=j.ticks,T=j.includeHidden,I=j[s];if(_[I])return _;var R=fg(t.data,{graphicalItems:a.filter(function(Q){var U,ne=s in Q.props?Q.props[s]:(U=Q.type.defaultProps)===null||U===void 0?void 0:U[s];return ne===I}),dataStartIndex:d,dataEndIndex:f}),D=R.length,B,W,Y;oge(j.domain,P,S)&&(B=B_(j.domain,null,P),x&&(S==="number"||O!=="auto")&&(Y=Tu(R,A,"category")));var J=l3(S);if(!B||B.length===0){var F,K=(F=j.domain)!==null&&F!==void 0?F:J;if(A){if(B=Tu(R,A,S),S==="category"&&x){var L=KZ(B);E&&L?(W=B,B=$p(0,D)):E||(B=D2(K,B,b).reduce(function(Q,U){return Q.indexOf(U)>=0?Q:[].concat(hc(Q),[U])},[]))}else if(S==="category")E?B=B.filter(function(Q){return Q!==""&&!it(Q)}):B=D2(K,B,b).reduce(function(Q,U){return Q.indexOf(U)>=0||U===""||it(U)?Q:[].concat(hc(Q),[U])},[]);else if(S==="number"){var H=ole(R,a.filter(function(Q){var U,ne,se=s in Q.props?Q.props[s]:(U=Q.type.defaultProps)===null||U===void 0?void 0:U[s],ve="hide"in Q.props?Q.props.hide:(ne=Q.type.defaultProps)===null||ne===void 0?void 0:ne.hide;return se===I&&(T||!ve)}),A,i,p);H&&(B=H)}x&&(S==="number"||O!=="auto")&&(Y=Tu(R,A,"category"))}else x?B=$p(0,D):c&&c[I]&&c[I].hasStack&&S==="number"?B=g==="expand"?[0,1]:JF(c[I].stackGroups,d,f):B=WF(R,a.filter(function(Q){var U=s in Q.props?Q.props[s]:Q.type.defaultProps[s],ne="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return U===I&&(T||!ne)}),S,p,!0);if(S==="number")B=Ej(h,B,I,i,C),K&&(B=B_(K,B,P));else if(S==="category"&&K){var te=K,q=B.every(function(Q){return te.indexOf(Q)>=0});q&&(B=te)}}return he(he({},_),{},Qe({},I,he(he({},j),{},{axisType:i,domain:B,categoricalDomain:Y,duplicateDomain:W,originalDomain:(v=j.domain)!==null&&v!==void 0?v:J,isCategorical:x,layout:p})))},{})},Mge=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,c=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=t.layout,h=t.children,g=fg(t.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:f}),x=g.length,_=HF(p,i),b=-1;return n.reduce(function(v,j){var S=j.type.defaultProps!==void 0?he(he({},j.type.defaultProps),j.props):j.props,A=S[s],P=l3("number");if(!v[A]){b++;var E;return _?E=$p(0,x):c&&c[A]&&c[A].hasStack?(E=JF(c[A].stackGroups,d,f),E=Ej(h,E,A,i)):(E=B_(P,WF(g,n.filter(function(O){var C,T,I=s in O.props?O.props[s]:(C=O.type.defaultProps)===null||C===void 0?void 0:C[s],R="hide"in O.props?O.props.hide:(T=O.type.defaultProps)===null||T===void 0?void 0:T.hide;return I===A&&!R}),"number",p),a.defaultProps.allowDataOverflow),E=Ej(h,E,A,i)),he(he({},v),{},Qe({},A,he(he({axisType:i},a.defaultProps),{},{hide:!0,orientation:$n(Oge,"".concat(i,".").concat(b%2),null),domain:E,originalDomain:P,isCategorical:_,layout:p})))}return v},{})},Dge=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,c=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=t.children,h="".concat(a,"Id"),g=Ln(p,i),x={};return g&&g.length?x=Ige(t,{axes:g,graphicalItems:s,axisType:a,axisIdKey:h,stackGroups:c,dataStartIndex:d,dataEndIndex:f}):s&&s.length&&(x=Mge(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:h,stackGroups:c,dataStartIndex:d,dataEndIndex:f})),x},$ge=function(t){var r=yo(t),n=yi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:XS(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:jp(r,n)}},MI=function(t){var r=t.children,n=t.defaultShowTooltip,a=Pn(r,tc),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},Lge=function(t){return!t||!t.length?!1:t.some(function(r){var n=xi(r&&r.type);return n&&n.indexOf("Bar")>=0})},DI=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},zge=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,c=t.yAxisMap,d=c===void 0?{}:c,f=n.width,p=n.height,h=n.children,g=n.margin||{},x=Pn(h,tc),_=Pn(h,_o),b=Object.keys(d).reduce(function(E,O){var C=d[O],T=C.orientation;return!C.mirror&&!C.hide?he(he({},E),{},Qe({},T,E[T]+C.width)):E},{left:g.left||0,right:g.right||0}),v=Object.keys(s).reduce(function(E,O){var C=s[O],T=C.orientation;return!C.mirror&&!C.hide?he(he({},E),{},Qe({},T,$n(E,"".concat(T))+C.height)):E},{top:g.top||0,bottom:g.bottom||0}),j=he(he({},v),b),S=j.bottom;x&&(j.bottom+=x.props.height||tc.defaultProps.height),_&&r&&(j=ale(j,a,n,r));var A=f-j.left-j.right,P=p-j.top-j.bottom;return he(he({brushBottom:S},j),{},{width:Math.max(A,0),height:Math.max(P,0)})},Fge=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},R1=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,c=s===void 0?["axis"]:s,d=t.axisComponents,f=t.legendContent,p=t.formatAxisMap,h=t.defaultProps,g=function(j,S){var A=S.graphicalItems,P=S.stackGroups,E=S.offset,O=S.updateId,C=S.dataStartIndex,T=S.dataEndIndex,I=j.barSize,R=j.layout,D=j.barGap,B=j.barCategoryGap,W=j.maxBarSize,Y=DI(R),J=Y.numericAxisName,F=Y.cateAxisName,K=Lge(A),L=[];return A.forEach(function(H,te){var q=fg(j.data,{graphicalItems:[H],dataStartIndex:C,dataEndIndex:T}),Q=H.type.defaultProps!==void 0?he(he({},H.type.defaultProps),H.props):H.props,U=Q.dataKey,ne=Q.maxBarSize,se=Q["".concat(J,"Id")],ve=Q["".concat(F,"Id")],re={},oe=d.reduce(function(Gt,G){var pe=S["".concat(G.axisType,"Map")],ke=Q["".concat(G.axisType,"Id")];pe&&pe[ke]||G.axisType==="zAxis"||Ns();var Le=pe[ke];return he(he({},Gt),{},Qe(Qe({},G.axisType,Le),"".concat(G.axisType,"Ticks"),yi(Le)))},re),ee=oe[F],me=oe["".concat(F,"Ticks")],xe=P&&P[se]&&P[se].hasStack&&mle(H,P[se].stackGroups),ue=xi(H.type).indexOf("Bar")>=0,He=jp(ee,me),Fe=[],ut=K&&rle({barSize:I,stackGroups:P,totalSize:Fge(oe,F)});if(ue){var vt,yt,tr=it(ne)?W:ne,kt=(vt=(yt=jp(ee,me,!0))!==null&&yt!==void 0?yt:tr)!==null&&vt!==void 0?vt:0;Fe=nle({barGap:D,barCategoryGap:B,bandSize:kt!==He?kt:He,sizeList:ut[ve],maxBarSize:tr}),kt!==He&&(Fe=Fe.map(function(Gt){return he(he({},Gt),{},{position:he(he({},Gt.position),{},{offset:Gt.position.offset-kt/2})})}))}var dr=H&&H.type&&H.type.getComposedData;dr&&L.push({props:he(he({},dr(he(he({},oe),{},{displayedData:q,props:j,dataKey:U,item:H,bandSize:He,barPosition:Fe,offset:E,stackedData:xe,layout:R,dataStartIndex:C,dataEndIndex:T}))),{},Qe(Qe(Qe({key:H.key||"item-".concat(te)},J,oe[J]),F,oe[F]),"animationId",O)),childIndex:see(H,j.children),item:H})}),L},x=function(j,S){var A=j.props,P=j.dataStartIndex,E=j.dataEndIndex,O=j.updateId;if(!XP({props:A}))return null;var C=A.children,T=A.layout,I=A.stackOffset,R=A.data,D=A.reverseStackOrder,B=DI(T),W=B.numericAxisName,Y=B.cateAxisName,J=Ln(C,n),F=hle(R,J,"".concat(W,"Id"),"".concat(Y,"Id"),I,D),K=d.reduce(function(Q,U){var ne="".concat(U.axisType,"Map");return he(he({},Q),{},Qe({},ne,Dge(A,he(he({},U),{},{graphicalItems:J,stackGroups:U.axisType===W&&F,dataStartIndex:P,dataEndIndex:E}))))},{}),L=zge(he(he({},K),{},{props:A,graphicalItems:J}),S?.legendBBox);Object.keys(K).forEach(function(Q){K[Q]=p(A,K[Q],L,Q.replace("Map",""),r)});var H=K["".concat(Y,"Map")],te=$ge(H),q=g(A,he(he({},K),{},{dataStartIndex:P,dataEndIndex:E,updateId:O,graphicalItems:J,stackGroups:F,offset:L}));return he(he({formattedGraphicalItems:q,graphicalItems:J,offset:L,stackGroups:F},te),K)},_=(function(v){function j(S){var A,P,E;return xge(this,j),E=_ge(this,j,[S]),Qe(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Qe(E,"accessibilityManager",new ige),Qe(E,"handleLegendBBoxUpdate",function(O){if(O){var C=E.state,T=C.dataStartIndex,I=C.dataEndIndex,R=C.updateId;E.setState(he({legendBBox:O},x({props:E.props,dataStartIndex:T,dataEndIndex:I,updateId:R},he(he({},E.state),{},{legendBBox:O}))))}}),Qe(E,"handleReceiveSyncEvent",function(O,C,T){if(E.props.syncId===O){if(T===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(C)}}),Qe(E,"handleBrushChange",function(O){var C=O.startIndex,T=O.endIndex;if(C!==E.state.dataStartIndex||T!==E.state.dataEndIndex){var I=E.state.updateId;E.setState(function(){return he({dataStartIndex:C,dataEndIndex:T},x({props:E.props,dataStartIndex:C,dataEndIndex:T,updateId:I},E.state))}),E.triggerSyncEvent({dataStartIndex:C,dataEndIndex:T})}}),Qe(E,"handleMouseEnter",function(O){var C=E.getMouseInfo(O);if(C){var T=he(he({},C),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var I=E.props.onMouseEnter;at(I)&&I(T,O)}}),Qe(E,"triggeredAfterMouseMove",function(O){var C=E.getMouseInfo(O),T=C?he(he({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var I=E.props.onMouseMove;at(I)&&I(T,O)}),Qe(E,"handleItemMouseEnter",function(O){E.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),Qe(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Qe(E,"handleMouseMove",function(O){O.persist(),E.throttleTriggeredAfterMouseMove(O)}),Qe(E,"handleMouseLeave",function(O){E.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};E.setState(C),E.triggerSyncEvent(C);var T=E.props.onMouseLeave;at(T)&&T(C,O)}),Qe(E,"handleOuterEvent",function(O){var C=oee(O),T=$n(E.props,"".concat(C));if(C&&at(T)){var I,R;/.*touch.*/i.test(C)?R=E.getMouseInfo(O.changedTouches[0]):R=E.getMouseInfo(O),T((I=R)!==null&&I!==void 0?I:{},O)}}),Qe(E,"handleClick",function(O){var C=E.getMouseInfo(O);if(C){var T=he(he({},C),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var I=E.props.onClick;at(I)&&I(T,O)}}),Qe(E,"handleMouseDown",function(O){var C=E.props.onMouseDown;if(at(C)){var T=E.getMouseInfo(O);C(T,O)}}),Qe(E,"handleMouseUp",function(O){var C=E.props.onMouseUp;if(at(C)){var T=E.getMouseInfo(O);C(T,O)}}),Qe(E,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),Qe(E,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&E.handleMouseDown(O.changedTouches[0])}),Qe(E,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&E.handleMouseUp(O.changedTouches[0])}),Qe(E,"handleDoubleClick",function(O){var C=E.props.onDoubleClick;if(at(C)){var T=E.getMouseInfo(O);C(T,O)}}),Qe(E,"handleContextMenu",function(O){var C=E.props.onContextMenu;if(at(C)){var T=E.getMouseInfo(O);C(T,O)}}),Qe(E,"triggerSyncEvent",function(O){E.props.syncId!==void 0&&_w.emit(jw,E.props.syncId,O,E.eventEmitterSymbol)}),Qe(E,"applySyncEvent",function(O){var C=E.props,T=C.layout,I=C.syncMethod,R=E.state.updateId,D=O.dataStartIndex,B=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)E.setState(he({dataStartIndex:D,dataEndIndex:B},x({props:E.props,dataStartIndex:D,dataEndIndex:B,updateId:R},E.state)));else if(O.activeTooltipIndex!==void 0){var W=O.chartX,Y=O.chartY,J=O.activeTooltipIndex,F=E.state,K=F.offset,L=F.tooltipTicks;if(!K)return;if(typeof I=="function")J=I(L,O);else if(I==="value"){J=-1;for(var H=0;H<L.length;H++)if(L[H].value===O.activeLabel){J=H;break}}var te=he(he({},K),{},{x:K.left,y:K.top}),q=Math.min(W,te.x+te.width),Q=Math.min(Y,te.y+te.height),U=L[J]&&L[J].value,ne=Aj(E.state,E.props.data,J),se=L[J]?{x:T==="horizontal"?L[J].coordinate:q,y:T==="horizontal"?Q:L[J].coordinate}:s3;E.setState(he(he({},O),{},{activeLabel:U,activeCoordinate:se,activePayload:ne,activeTooltipIndex:J}))}else E.setState(O)}),Qe(E,"renderCursor",function(O){var C,T=E.state,I=T.isTooltipActive,R=T.activeCoordinate,D=T.activePayload,B=T.offset,W=T.activeTooltipIndex,Y=T.tooltipAxisBandSize,J=E.getTooltipEventType(),F=(C=O.props.active)!==null&&C!==void 0?C:I,K=E.props.layout,L=O.key||"_recharts-cursor";return $.createElement(fge,{key:L,activeCoordinate:R,activePayload:D,activeTooltipIndex:W,chartName:r,element:O,isActive:F,layout:K,offset:B,tooltipAxisBandSize:Y,tooltipEventType:J})}),Qe(E,"renderPolarAxis",function(O,C,T){var I=$n(O,"type.axisType"),R=$n(E.state,"".concat(I,"Map")),D=O.type.defaultProps,B=D!==void 0?he(he({},D),O.props):O.props,W=R&&R[B["".concat(I,"Id")]];return w.cloneElement(O,he(he({},W),{},{className:st(I,W.className),key:O.key||"".concat(C,"-").concat(T),ticks:yi(W,!0)}))}),Qe(E,"renderPolarGrid",function(O){var C=O.props,T=C.radialLines,I=C.polarAngles,R=C.polarRadius,D=E.state,B=D.radiusAxisMap,W=D.angleAxisMap,Y=yo(B),J=yo(W),F=J.cx,K=J.cy,L=J.innerRadius,H=J.outerRadius;return w.cloneElement(O,{polarAngles:Array.isArray(I)?I:yi(J,!0).map(function(te){return te.coordinate}),polarRadius:Array.isArray(R)?R:yi(Y,!0).map(function(te){return te.coordinate}),cx:F,cy:K,innerRadius:L,outerRadius:H,key:O.key||"polar-grid",radialLines:T})}),Qe(E,"renderLegend",function(){var O=E.state.formattedGraphicalItems,C=E.props,T=C.children,I=C.width,R=C.height,D=E.props.margin||{},B=I-(D.left||0)-(D.right||0),W=UF({children:T,formattedGraphicalItems:O,legendWidth:B,legendContent:f});if(!W)return null;var Y=W.item,J=TI(W,hge);return w.cloneElement(Y,he(he({},J),{},{chartWidth:I,chartHeight:R,margin:D,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Qe(E,"renderTooltip",function(){var O,C=E.props,T=C.children,I=C.accessibilityLayer,R=Pn(T,On);if(!R)return null;var D=E.state,B=D.isTooltipActive,W=D.activeCoordinate,Y=D.activePayload,J=D.activeLabel,F=D.offset,K=(O=R.props.active)!==null&&O!==void 0?O:B;return w.cloneElement(R,{viewBox:he(he({},F),{},{x:F.left,y:F.top}),active:K,label:J,payload:K?Y:[],coordinate:W,accessibilityLayer:I})}),Qe(E,"renderBrush",function(O){var C=E.props,T=C.margin,I=C.data,R=E.state,D=R.offset,B=R.dataStartIndex,W=R.dataEndIndex,Y=R.updateId;return w.cloneElement(O,{key:O.key||"_recharts-brush",onChange:xh(E.handleBrushChange,O.props.onChange),data:I,x:Ne(O.props.x)?O.props.x:D.left,y:Ne(O.props.y)?O.props.y:D.top+D.height+D.brushBottom-(T.bottom||0),width:Ne(O.props.width)?O.props.width:D.width,startIndex:B,endIndex:W,updateId:"brush-".concat(Y)})}),Qe(E,"renderReferenceElement",function(O,C,T){if(!O)return null;var I=E,R=I.clipPathId,D=E.state,B=D.xAxisMap,W=D.yAxisMap,Y=D.offset,J=O.type.defaultProps||{},F=O.props,K=F.xAxisId,L=K===void 0?J.xAxisId:K,H=F.yAxisId,te=H===void 0?J.yAxisId:H;return w.cloneElement(O,{key:O.key||"".concat(C,"-").concat(T),xAxis:B[L],yAxis:W[te],viewBox:{x:Y.left,y:Y.top,width:Y.width,height:Y.height},clipPathId:R})}),Qe(E,"renderActivePoints",function(O){var C=O.item,T=O.activePoint,I=O.basePoint,R=O.childIndex,D=O.isRange,B=[],W=C.props.key,Y=C.item.type.defaultProps!==void 0?he(he({},C.item.type.defaultProps),C.item.props):C.item.props,J=Y.activeDot,F=Y.dataKey,K=he(he({index:R,dataKey:F,cx:T.x,cy:T.y,r:4,fill:_1(C.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},Ye(J,!1)),Zh(J));return B.push(j.renderActiveDot(J,K,"".concat(W,"-activePoint-").concat(R))),I?B.push(j.renderActiveDot(J,he(he({},K),{},{cx:I.x,cy:I.y}),"".concat(W,"-basePoint-").concat(R))):D&&B.push(null),B}),Qe(E,"renderGraphicChild",function(O,C,T){var I=E.filterFormatItem(O,C,T);if(!I)return null;var R=E.getTooltipEventType(),D=E.state,B=D.isTooltipActive,W=D.tooltipAxis,Y=D.activeTooltipIndex,J=D.activeLabel,F=E.props.children,K=Pn(F,On),L=I.props,H=L.points,te=L.isRange,q=L.baseLine,Q=I.item.type.defaultProps!==void 0?he(he({},I.item.type.defaultProps),I.item.props):I.item.props,U=Q.activeDot,ne=Q.hide,se=Q.activeBar,ve=Q.activeShape,re=!!(!ne&&B&&K&&(U||se||ve)),oe={};R!=="axis"&&K&&K.props.trigger==="click"?oe={onClick:xh(E.handleItemMouseEnter,O.props.onClick)}:R!=="axis"&&(oe={onMouseLeave:xh(E.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:xh(E.handleItemMouseEnter,O.props.onMouseEnter)});var ee=w.cloneElement(O,he(he({},I.props),oe));function me(G){return typeof W.dataKey=="function"?W.dataKey(G.payload):null}if(re)if(Y>=0){var xe,ue;if(W.dataKey&&!W.allowDuplicatedCategory){var He=typeof W.dataKey=="function"?me:"payload.".concat(W.dataKey.toString());xe=Qh(H,He,J),ue=te&&q&&Qh(q,He,J)}else xe=H?.[Y],ue=te&&q&&q[Y];if(ve||se){var Fe=O.props.activeIndex!==void 0?O.props.activeIndex:Y;return[w.cloneElement(O,he(he(he({},I.props),oe),{},{activeIndex:Fe})),null,null]}if(!it(xe))return[ee].concat(hc(E.renderActivePoints({item:I,activePoint:xe,basePoint:ue,childIndex:Y,isRange:te})))}else{var ut,vt=(ut=E.getItemByXY(E.state.activeCoordinate))!==null&&ut!==void 0?ut:{graphicalItem:ee},yt=vt.graphicalItem,tr=yt.item,kt=tr===void 0?O:tr,dr=yt.childIndex,Gt=he(he(he({},I.props),oe),{},{activeIndex:dr});return[w.cloneElement(kt,Gt),null,null]}return te?[ee,null,null]:[ee,null]}),Qe(E,"renderCustomized",function(O,C,T){return w.cloneElement(O,he(he({key:"recharts-customized-".concat(T)},E.props),E.state))}),Qe(E,"renderMap",{CartesianGrid:{handler:Sh,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:Sh},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:Sh},YAxis:{handler:Sh},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((A=S.id)!==null&&A!==void 0?A:Sc("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=qz(E.triggeredAfterMouseMove,(P=S.throttleDelay)!==null&&P!==void 0?P:1e3/60),E.state={},E}return Ege(j,v),wge(j,[{key:"componentDidMount",value:function(){var A,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var A=this.props,P=A.children,E=A.data,O=A.height,C=A.layout,T=Pn(P,On);if(T){var I=T.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,D=Aj(this.state,E,I,R),B=this.state.tooltipTicks[I].coordinate,W=(this.state.offset.top+O)/2,Y=C==="horizontal",J=Y?{x:B,y:W}:{y:B,x:W},F=this.state.formattedGraphicalItems.find(function(L){var H=L.item;return H.type.name==="Scatter"});F&&(J=he(he({},J),F.props.points[I].tooltipPosition),D=F.props.points[I].tooltipPayload);var K={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:R,activePayload:D,activeCoordinate:J};this.setState(K),this.renderCursor(T),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(A,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==A.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==A.margin){var E,O;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(A){c_([Pn(A.children,On)],[Pn(this.props.children,On)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var A=Pn(this.props.children,On);if(A&&typeof A.props.shared=="boolean"){var P=A.props.shared?"axis":"item";return c.indexOf(P)>=0?P:i}return i}},{key:"getMouseInfo",value:function(A){if(!this.container)return null;var P=this.container,E=P.getBoundingClientRect(),O=Gne(E),C={chartX:Math.round(A.pageX-O.left),chartY:Math.round(A.pageY-O.top)},T=E.width/P.offsetWidth||1,I=this.inRange(C.chartX,C.chartY,T);if(!I)return null;var R=this.state,D=R.xAxisMap,B=R.yAxisMap,W=this.getTooltipEventType(),Y=II(this.state,this.props.data,this.props.layout,I);if(W!=="axis"&&D&&B){var J=yo(D).scale,F=yo(B).scale,K=J&&J.invert?J.invert(C.chartX):null,L=F&&F.invert?F.invert(C.chartY):null;return he(he({},C),{},{xValue:K,yValue:L},Y)}return Y?he(he({},C),Y):null}},{key:"inRange",value:function(A,P){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,C=A/E,T=P/E;if(O==="horizontal"||O==="vertical"){var I=this.state.offset,R=C>=I.left&&C<=I.left+I.width&&T>=I.top&&T<=I.top+I.height;return R?{x:C,y:T}:null}var D=this.state,B=D.angleAxisMap,W=D.radiusAxisMap;if(B&&W){var Y=yo(B);return z2({x:C,y:T},Y)}return null}},{key:"parseEventsOfWrapper",value:function(){var A=this.props.children,P=this.getTooltipEventType(),E=Pn(A,On),O={};E&&P==="axis"&&(E.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=Zh(this.props,this.handleOuterEvent);return he(he({},C),O)}},{key:"addListener",value:function(){_w.on(jw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){_w.removeListener(jw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(A,P,E){for(var O=this.state.formattedGraphicalItems,C=0,T=O.length;C<T;C++){var I=O[C];if(I.item===A||I.props.key===A.key||P===xi(I.item.type)&&E===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var A=this.clipPathId,P=this.state.offset,E=P.left,O=P.top,C=P.height,T=P.width;return $.createElement("defs",null,$.createElement("clipPath",{id:A},$.createElement("rect",{x:E,y:O,height:C,width:T})))}},{key:"getXScales",value:function(){var A=this.state.xAxisMap;return A?Object.entries(A).reduce(function(P,E){var O=kI(E,2),C=O[0],T=O[1];return he(he({},P),{},Qe({},C,T.scale))},{}):null}},{key:"getYScales",value:function(){var A=this.state.yAxisMap;return A?Object.entries(A).reduce(function(P,E){var O=kI(E,2),C=O[0],T=O[1];return he(he({},P),{},Qe({},C,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(A){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[A])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(A){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[A])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(A){var P=this.state,E=P.formattedGraphicalItems,O=P.activeItem;if(E&&E.length)for(var C=0,T=E.length;C<T;C++){var I=E[C],R=I.props,D=I.item,B=D.type.defaultProps!==void 0?he(he({},D.type.defaultProps),D.props):D.props,W=xi(D.type);if(W==="Bar"){var Y=(R.data||[]).find(function(L){return pde(A,L)});if(Y)return{graphicalItem:I,payload:Y}}else if(W==="RadialBar"){var J=(R.data||[]).find(function(L){return z2(A,L)});if(J)return{graphicalItem:I,payload:J}}else if(ig(I,O)||og(I,O)||_d(I,O)){var F=$fe({graphicalItem:I,activeTooltipItem:O,itemData:B.data}),K=B.activeIndex===void 0?F:B.activeIndex;return{graphicalItem:he(he({},I),{},{childIndex:K}),payload:_d(I,O)?B.data[F]:I.props.data[F]}}}return null}},{key:"render",value:function(){var A=this;if(!XP(this))return null;var P=this.props,E=P.children,O=P.className,C=P.width,T=P.height,I=P.style,R=P.compact,D=P.title,B=P.desc,W=TI(P,pge),Y=Ye(W,!1);if(R)return $.createElement(fI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement(d_,Al({},Y,{width:C,height:T,title:D,desc:B}),this.renderClipPath(),QP(E,this.renderMap)));if(this.props.accessibilityLayer){var J,F;Y.tabIndex=(J=this.props.tabIndex)!==null&&J!==void 0?J:0,Y.role=(F=this.props.role)!==null&&F!==void 0?F:"application",Y.onKeyDown=function(L){A.accessibilityManager.keyboardEvent(L)},Y.onFocus=function(){A.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return $.createElement(fI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",Al({className:st("recharts-wrapper",O),style:he({position:"relative",cursor:"default",width:C,height:T},I)},K,{ref:function(H){A.container=H}}),$.createElement(d_,Al({},Y,{width:C,height:T,title:D,desc:B,style:kge}),this.renderClipPath(),QP(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(w.Component);Qe(_,"displayName",r),Qe(_,"defaultProps",he({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Qe(_,"getDerivedStateFromProps",function(v,j){var S=v.dataKey,A=v.data,P=v.children,E=v.width,O=v.height,C=v.layout,T=v.stackOffset,I=v.margin,R=j.dataStartIndex,D=j.dataEndIndex;if(j.updateId===void 0){var B=MI(v);return he(he(he({},B),{},{updateId:0},x(he(he({props:v},B),{},{updateId:0}),j)),{},{prevDataKey:S,prevData:A,prevWidth:E,prevHeight:O,prevLayout:C,prevStackOffset:T,prevMargin:I,prevChildren:P})}if(S!==j.prevDataKey||A!==j.prevData||E!==j.prevWidth||O!==j.prevHeight||C!==j.prevLayout||T!==j.prevStackOffset||!Ml(I,j.prevMargin)){var W=MI(v),Y={chartX:j.chartX,chartY:j.chartY,isTooltipActive:j.isTooltipActive},J=he(he({},II(j,A,C)),{},{updateId:j.updateId+1}),F=he(he(he({},W),Y),J);return he(he(he({},F),x(he({props:v},F),j)),{},{prevDataKey:S,prevData:A,prevWidth:E,prevHeight:O,prevLayout:C,prevStackOffset:T,prevMargin:I,prevChildren:P})}if(!c_(P,j.prevChildren)){var K,L,H,te,q=Pn(P,tc),Q=q&&(K=(L=q.props)===null||L===void 0?void 0:L.startIndex)!==null&&K!==void 0?K:R,U=q&&(H=(te=q.props)===null||te===void 0?void 0:te.endIndex)!==null&&H!==void 0?H:D,ne=Q!==R||U!==D,se=!it(A),ve=se&&!ne?j.updateId:j.updateId+1;return he(he({updateId:ve},x(he(he({props:v},j),{},{updateId:ve,dataStartIndex:Q,dataEndIndex:U}),j)),{},{prevChildren:P,dataStartIndex:Q,dataEndIndex:U})}return null}),Qe(_,"renderActiveDot",function(v,j,S){var A;return w.isValidElement(v)?A=w.cloneElement(v,j):at(v)?A=v(j):A=$.createElement(eg,j),$.createElement(jt,{className:"recharts-active-dot",key:S},A)});var b=w.forwardRef(function(j,S){return $.createElement(_,Al({},j,{ref:S}))});return b.displayName=_.displayName,b},Bge=R1({chartName:"LineChart",GraphicalChild:vs,axisComponents:[{axisType:"xAxis",AxisComp:cc},{axisType:"yAxis",AxisComp:dc}],formatAxisMap:A5}),qge=R1({chartName:"BarChart",GraphicalChild:_i,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:cc},{axisType:"yAxis",AxisComp:dc}],formatAxisMap:A5}),$I=R1({chartName:"PieChart",GraphicalChild:Ka,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ag},{axisType:"radiusAxis",AxisComp:rg}],formatAxisMap:Ele,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});async function Uge(e,t){try{console.log(" Calculando estadsticas generales...");const{count:r}=await we.from("paciente").select("*",{count:"exact",head:!0}).eq("estado","activo");let n=we.from("cita").select("*");e&&(n=n.gte("fecha_cita",e)),t&&(n=n.lte("fecha_cita",t));const{data:a,error:i}=await n;if(i)return console.error(" Error al obtener citas:",i),LI();const s=a?.length||0,c=a?.filter(S=>S.consulta_realizada).length||0,d=a?.filter(S=>S.estado_cita==="cancelada").length||0,f=a?.filter(S=>S.estado_cita==="agendada"&&!S.consulta_realizada).length||0;let p=0,h=0;a?.forEach(S=>{S.consulta_realizada&&(p+=parseFloat(S.precio_cita)||0,S.estado_pago==="pagado"?h+=parseFloat(S.precio_cita)||0:S.estado_pago==="parcial"&&(h+=(parseFloat(S.precio_cita)||0)*.5))});const g=p-h,x=e&&t?Math.ceil((new Date(t).getTime()-new Date(e).getTime())/(1e3*60*60*24)):30,_=s/Math.max(x,1),b=s>0?c/s*100:0,v=s>0?d/s*100:0,j={totalPacientes:r||0,totalCitas:s,citasCompletadas:c,citasCanceladas:d,citasPendientes:f,totalIngresos:p,totalPendienteCobro:g,promedioConsultaPorDia:_,tasaAsistencia:b,tasaCancelacion:v};return console.log(" Estadsticas calculadas:",j),j}catch(r){return console.error(" Error al calcular estadsticas:",r),LI()}}function LI(){return{totalPacientes:0,totalCitas:0,citasCompletadas:0,citasCanceladas:0,citasPendientes:0,totalIngresos:0,totalPendienteCobro:0,promedioConsultaPorDia:0,tasaAsistencia:0,tasaCancelacion:0}}async function Vge(e,t){try{console.log(" Obteniendo citas por da...");const{data:r,error:n}=await we.from("cita").select("fecha_cita, estado_cita, consulta_realizada").gte("fecha_cita",e).lte("fecha_cita",t).order("fecha_cita",{ascending:!0});if(n)return console.error(" Error al obtener citas por da:",n),[];const a=new Map;return r?.forEach(i=>{const s=i.fecha_cita;a.has(s)||a.set(s,{fecha:s,total:0,completadas:0,canceladas:0,pendientes:0});const c=a.get(s);c.total++,i.consulta_realizada?c.completadas++:i.estado_cita==="cancelada"?c.canceladas++:c.pendientes++}),Array.from(a.values())}catch(r){return console.error(" Error inesperado:",r),[]}}async function Wge(e,t){try{console.log(" Obteniendo ingresos por da...");const{data:r,error:n}=await we.from("cita").select(`
        fecha_cita,
        precio_cita,
        consulta_realizada,
        estado_pago
      `).eq("consulta_realizada",!0).gte("fecha_cita",e).lte("fecha_cita",t).order("fecha_cita",{ascending:!0});if(n)return console.error(" Error al obtener ingresos:",n),[];const a=new Map;return r?.forEach(i=>{const s=i.fecha_cita;a.has(s)||a.set(s,{fecha:s,ingresos:0,pagado:0,pendiente:0});const c=a.get(s),d=parseFloat(i.precio_cita)||0;c.ingresos+=d,i.estado_pago==="pagado"?c.pagado+=d:i.estado_pago==="parcial"&&(c.pagado+=d*.5),c.pendiente+=d-c.pagado}),Array.from(a.values())}catch(r){return console.error(" Error inesperado:",r),[]}}async function Hge(e,t){try{console.log(" Obteniendo estadsticas por mdico...");let r=we.from("cita").select(`
        id_usuario_sucursal,
        estado_cita,
        consulta_realizada,
        precio_cita,
        usuario_sucursal:usuario_sucursal!inner(
          id_usuario_sucursal,
          usuario:usuario!inner(
            id_usuario,
            nombre,
            apellido
          )
        ),
        estado_pago
      `);e&&(r=r.gte("fecha_cita",e)),t&&(r=r.lte("fecha_cita",t));const{data:n,error:a}=await r;if(a)return console.error(" Error al obtener estadsticas por mdico:",a),[];const i=new Map;return n?.forEach(s=>{const c=s.usuario_sucursal.usuario.id_usuario,d=`Dr. ${s.usuario_sucursal.usuario.nombre} ${s.usuario_sucursal.usuario.apellido}`;i.has(c)||i.set(c,{medico:d,idMedico:c,totalCitas:0,citasCompletadas:0,totalIngresos:0,ingresosRecaudados:0,tasaAsistencia:0});const f=i.get(c);f.totalCitas++,s.consulta_realizada&&(f.citasCompletadas++,f.totalIngresos+=parseFloat(s.precio_cita)||0,s.estado_pago==="pagado"?f.ingresosRecaudados+=parseFloat(s.precio_cita)||0:s.estado_pago==="parcial"&&(f.ingresosRecaudados+=(parseFloat(s.precio_cita)||0)*.5))}),i.forEach(s=>{s.tasaAsistencia=s.totalCitas>0?s.citasCompletadas/s.totalCitas*100:0}),Array.from(i.values())}catch(r){return console.error(" Error inesperado:",r),[]}}async function Gge(e,t){try{console.log(" Obteniendo estadsticas por sucursal...");let r=we.from("cita").select(`
        estado_cita,
        consulta_realizada,
        precio_cita,
        usuario_sucursal:usuario_sucursal!inner(
          id_usuario,
          sucursal:sucursal!inner(
            id_sucursal,
            nombre
          )
        ),
        estado_pago
      `);e&&(r=r.gte("fecha_cita",e)),t&&(r=r.lte("fecha_cita",t));const{data:n,error:a}=await r;if(a)return console.error(" Error al obtener estadsticas por sucursal:",a),[];const i=new Map,s=new Map;return n?.forEach(c=>{const d=c.usuario_sucursal.sucursal.id_sucursal,f=c.usuario_sucursal.sucursal.nombre,p=c.usuario_sucursal.id_usuario;i.has(d)||(i.set(d,{sucursal:f,idSucursal:d,totalCitas:0,citasCompletadas:0,totalIngresos:0,ingresosRecaudados:0,numeroMedicos:0}),s.set(d,new Set));const h=i.get(d);h.totalCitas++,s.get(d).add(p),c.consulta_realizada&&(h.citasCompletadas++,h.totalIngresos+=parseFloat(c.precio_cita)||0,c.estado_pago==="pagado"?h.ingresosRecaudados+=parseFloat(c.precio_cita)||0:c.estado_pago==="parcial"&&(h.ingresosRecaudados+=(parseFloat(c.precio_cita)||0)*.5))}),i.forEach((c,d)=>{c.numeroMedicos=s.get(d)?.size||0}),Array.from(i.values())}catch(r){return console.error(" Error inesperado:",r),[]}}async function Kge(e=10,t="citas",r,n){try{console.log(" Obteniendo top pacientes...");let a=we.from("cita").select(`
        id_paciente,
        precio_cita,
        consulta_realizada,
        fecha_cita,
        paciente:paciente!inner(
          id_paciente,
          nombres,
          apellidos,
          cedula
        )
      `).eq("consulta_realizada",!0);r&&(a=a.gte("fecha_cita",r)),n&&(a=a.lte("fecha_cita",n));const{data:i,error:s}=await a;if(s)return console.error(" Error al obtener top pacientes:",s),[];const c=new Map;i?.forEach(f=>{const p=f.paciente.id_paciente,h=`${f.paciente.nombres} ${f.paciente.apellidos}`;c.has(p)||c.set(p,{paciente:h,idPaciente:p,cedula:f.paciente.cedula,totalCitas:0,totalGastado:0,ultimaCita:f.fecha_cita});const g=c.get(p);g.totalCitas++,g.totalGastado+=parseFloat(f.precio_cita)||0,f.fecha_cita>g.ultimaCita&&(g.ultimaCita=f.fecha_cita)});let d=Array.from(c.values());return t==="citas"?d.sort((f,p)=>p.totalCitas-f.totalCitas):d.sort((f,p)=>p.totalGastado-f.totalGastado),d.slice(0,e)}catch(a){return console.error(" Error inesperado:",a),[]}}async function Yge(e,t){try{console.log(" Obteniendo distribucin de estados de pago...");let r=we.from("cita").select(`
        precio_cita,
        consulta_realizada,
        estado_pago
      `).eq("consulta_realizada",!0);e&&(r=r.gte("fecha_cita",e)),t&&(r=r.lte("fecha_cita",t));const{data:n,error:a}=await r;if(a)return console.error(" Error:",a),[];const i={pendiente:{cantidad:0,monto:0},pagado:{cantidad:0,monto:0},parcial:{cantidad:0,monto:0}};n?.forEach(c=>{const d=parseFloat(c.precio_cita)||0,f=c.estado_pago;f==="pendiente"?(i.pendiente.cantidad++,i.pendiente.monto+=d):f==="pagado"?(i.pagado.cantidad++,i.pagado.monto+=d):f==="parcial"&&(i.parcial.cantidad++,i.parcial.monto+=d)});const s=n?.length||0;return[{estado:"Pagado",cantidad:i.pagado.cantidad,monto:i.pagado.monto,porcentaje:s>0?i.pagado.cantidad/s*100:0},{estado:"Pendiente",cantidad:i.pendiente.cantidad,monto:i.pendiente.monto,porcentaje:s>0?i.pendiente.cantidad/s*100:0},{estado:"Parcial",cantidad:i.parcial.cantidad,monto:i.parcial.monto,porcentaje:s>0?i.parcial.cantidad/s*100:0}]}catch(r){return console.error(" Error inesperado:",r),[]}}async function Xge(e,t){try{console.log(" Obteniendo distribucin de formas de pago...");let r=we.from("cita").select(`
        forma_pago,
        precio_cita,
        estado_pago
      `).eq("consulta_realizada",!0).eq("estado_pago","pagado");e&&(r=r.gte("fecha_cita",e)),t&&(r=r.lte("fecha_cita",t));const{data:n,error:a}=await r;if(a)return console.error(" Error:",a),[];const i=new Map;n?.forEach(c=>{const d=c.forma_pago||"efectivo";i.has(d)||i.set(d,{cantidad:0,monto:0});const f=i.get(d);f.cantidad++,f.monto+=parseFloat(c.precio_cita)||0});const s=n?.length||0;return Array.from(i.entries()).map(([c,d])=>({forma:c.charAt(0).toUpperCase()+c.slice(1),cantidad:d.cantidad,monto:d.monto,porcentaje:s>0?d.cantidad/s*100:0}))}catch(r){return console.error(" Error inesperado:",r),[]}}function mn(e){return new Intl.NumberFormat("es-EC",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e)}function es(e){return`${e.toFixed(1)}%`}function Eh(e){return new Date(e+"T00:00:00").toLocaleDateString("es-ES",{day:"2-digit",month:"short"})}function Jge(e,t){const[r,n]=w.useState(null),[a,i]=w.useState(!0),[s,c]=w.useState(null);w.useEffect(()=>{d()},[e,t]);const d=async()=>{i(!0),c(null);try{const f=await Uge(e,t);n(f)}catch(f){c("Error al cargar estadsticas"),console.error(f)}i(!1)};return{estadisticasGenerales:r,isLoading:a,error:s,loadEstadisticasGenerales:d}}function Qge(e,t){const[r,n]=w.useState([]),[a,i]=w.useState(!0);w.useEffect(()=>{s()},[e,t]);const s=async()=>{i(!0);const c=await Vge(e,t);n(c),i(!1)};return{citasPorDia:r,isLoading:a,loadCitasPorDia:s}}function Zge(e,t){const[r,n]=w.useState([]),[a,i]=w.useState(!0);w.useEffect(()=>{s()},[e,t]);const s=async()=>{i(!0);const c=await Wge(e,t);n(c),i(!1)};return{ingresosPorDia:r,isLoading:a,loadIngresosPorDia:s}}function eve(e,t){const[r,n]=w.useState([]),[a,i]=w.useState(!0);w.useEffect(()=>{s()},[e,t]);const s=async()=>{i(!0);const c=await Hge(e,t);n(c),i(!1)};return{estadisticasPorMedico:r,isLoading:a,loadEstadisticasPorMedico:s}}function tve(e,t){const[r,n]=w.useState([]),[a,i]=w.useState(!0);w.useEffect(()=>{s()},[e,t]);const s=async()=>{i(!0);const c=await Gge(e,t);n(c),i(!1)};return{estadisticasPorSucursal:r,isLoading:a,loadEstadisticasPorSucursal:s}}function rve(e=10,t="citas",r,n){const[a,i]=w.useState([]),[s,c]=w.useState(!0);w.useEffect(()=>{d()},[e,t,r,n]);const d=async()=>{c(!0);const f=await Kge(e,t,r,n);i(f),c(!1)};return{topPacientes:a,isLoading:s,loadTopPacientes:d}}function nve(e,t){const[r,n]=w.useState([]),[a,i]=w.useState([]),[s,c]=w.useState(!0);w.useEffect(()=>{d()},[e,t]);const d=async()=>{c(!0);const[f,p]=await Promise.all([Yge(e,t),Xge(e,t)]);n(f),i(p),c(!1)};return{distribucionEstadoPago:r,distribucionFormaPago:a,isLoading:s,loadDistribuciones:d}}const yl=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"];function ave(){const[e,t]=w.useState("30dias"),[r,n]=w.useState("citas"),{fechaInicio:a,fechaFin:i}=w.useMemo(()=>{const I=new Date;let R=new Date;switch(e){case"7dias":R.setDate(I.getDate()-7);break;case"30dias":R.setDate(I.getDate()-30);break;case"90dias":R.setDate(I.getDate()-90);break;case"1ano":R.setFullYear(I.getFullYear()-1);break;case"mesActual":R=new Date(I.getFullYear(),I.getMonth(),1);break;case"mesAnterior":R=new Date(I.getFullYear(),I.getMonth()-1,1);const D=new Date(I.getFullYear(),I.getMonth(),0);return{fechaInicio:R.toISOString().split("T")[0],fechaFin:D.toISOString().split("T")[0]};default:R.setDate(I.getDate()-30)}return{fechaInicio:R.toISOString().split("T")[0],fechaFin:I.toISOString().split("T")[0]}},[e]),{estadisticasGenerales:s,isLoading:c,loadEstadisticasGenerales:d}=Jge(a,i),{citasPorDia:f,isLoading:p}=Qge(a,i),{ingresosPorDia:h,isLoading:g}=Zge(a,i),{estadisticasPorMedico:x,isLoading:_}=eve(a,i),{estadisticasPorSucursal:b,isLoading:v}=tve(a,i),{topPacientes:j,isLoading:S}=rve(10,r,a,i),{distribucionEstadoPago:A,distribucionFormaPago:P,isLoading:E}=nve(a,i),O=c||p||g||_||v||S||E,C=()=>{d(),de.success("Datos actualizados")},T=()=>{de.success("Reporte exportado (funcionalidad en desarrollo)")};return o.jsxs("div",{className:"h-full p-6 space-y-6",children:[o.jsx(bc,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl",children:"Reportes y Estadsticas"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Anlisis completo del desempeo"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ft,{value:e,onValueChange:t,children:[o.jsx(pt,{className:"w-40",children:o.jsx(ht,{})}),o.jsxs(mt,{children:[o.jsx(Ae,{value:"7dias",children:"ltimos 7 das"}),o.jsx(Ae,{value:"30dias",children:"ltimos 30 das"}),o.jsx(Ae,{value:"90dias",children:"ltimos 90 das"}),o.jsx(Ae,{value:"mesActual",children:"Mes actual"}),o.jsx(Ae,{value:"mesAnterior",children:"Mes anterior"}),o.jsx(Ae,{value:"1ano",children:"ltimo ao"})]})]}),o.jsxs(fe,{variant:"outline",onClick:C,children:[o.jsx(bD,{className:"size-4 mr-2"}),"Actualizar"]}),o.jsxs(fe,{variant:"outline",onClick:T,children:[o.jsx(Cu,{className:"size-4 mr-2"}),"Exportar"]})]})]}),O?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(lr,{className:"size-8 animate-spin text-blue-600"})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[o.jsx(tt,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Total Pacientes"}),o.jsx("p",{className:"text-2xl mt-1",children:s?.totalPacientes||0})]}),o.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:o.jsx(pm,{className:"size-5 text-blue-600"})})]})}),o.jsx(tt,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Total Citas"}),o.jsx("p",{className:"text-2xl mt-1",children:s?.totalCitas||0}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[es(s?.tasaAsistencia||0)," completadas"]})]}),o.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:o.jsx(mi,{className:"size-5 text-purple-600"})})]})}),o.jsx(tt,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Citas Completadas"}),o.jsx("p",{className:"text-2xl mt-1 text-green-600",children:s?.citasCompletadas||0}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[es(s?.tasaAsistencia||0)," tasa"]})]}),o.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:o.jsx(zw,{className:"size-5 text-green-600"})})]})}),o.jsx(tt,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Ingresos Totales"}),o.jsx("p",{className:"text-2xl mt-1 text-green-600",children:mn(s?.totalIngresos||0)}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Perodo seleccionado"})]}),o.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:o.jsx(kl,{className:"size-5 text-green-600"})})]})}),o.jsx(tt,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Pendiente Cobro"}),o.jsx("p",{className:"text-2xl mt-1 text-red-600",children:mn(s?.totalPendienteCobro||0)}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Por cobrar"})]}),o.jsx("div",{className:"bg-red-100 p-2 rounded-lg",children:o.jsx(yD,{className:"size-5 text-red-600"})})]})})]}),o.jsxs(OL,{defaultValue:"general",className:"space-y-4",children:[o.jsxs(kL,{children:[o.jsx(_l,{value:"general",children:"General"}),o.jsx(_l,{value:"medicos",children:"Por Mdico"}),o.jsx(_l,{value:"sucursales",children:"Por Sucursal"}),o.jsx(_l,{value:"pacientes",children:"Pacientes"}),o.jsx(_l,{value:"financiero",children:"Financiero"})]}),o.jsxs(An,{value:"general",className:"space-y-4",children:[o.jsxs(tt,{className:"p-6",children:[o.jsx("h3",{className:"mb-4",children:"Citas por Da"}),o.jsx(ph,{width:"100%",height:300,children:o.jsxs(qge,{data:f,children:[o.jsx(vj,{strokeDasharray:"3 3"}),o.jsx(cc,{dataKey:"fecha",tickFormatter:Eh}),o.jsx(dc,{}),o.jsx(On,{labelFormatter:I=>Eh(I)}),o.jsx(_o,{}),o.jsx(_i,{dataKey:"completadas",name:"Completadas",fill:"#10b981"}),o.jsx(_i,{dataKey:"canceladas",name:"Canceladas",fill:"#ef4444"}),o.jsx(_i,{dataKey:"pendientes",name:"Pendientes",fill:"#f59e0b"})]})})]}),o.jsxs(tt,{className:"p-6",children:[o.jsx("h3",{className:"mb-4",children:"Ingresos por Da"}),o.jsx(ph,{width:"100%",height:300,children:o.jsxs(Bge,{data:h,children:[o.jsx(vj,{strokeDasharray:"3 3"}),o.jsx(cc,{dataKey:"fecha",tickFormatter:Eh}),o.jsx(dc,{tickFormatter:I=>`$${I}`}),o.jsx(On,{labelFormatter:I=>Eh(I),formatter:I=>mn(I)}),o.jsx(_o,{}),o.jsx(vs,{type:"monotone",dataKey:"ingresos",name:"Ingresos",stroke:"#10b981",strokeWidth:2}),o.jsx(vs,{type:"monotone",dataKey:"pagado",name:"Pagado",stroke:"#3b82f6",strokeWidth:2}),o.jsx(vs,{type:"monotone",dataKey:"pendiente",name:"Pendiente",stroke:"#ef4444",strokeWidth:2})]})})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx(tt,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Promedio citas/da"}),o.jsx("p",{className:"text-2xl mt-1",children:s?.promedioConsultaPorDia.toFixed(1)||0})]}),o.jsx(Lw,{className:"size-8 text-blue-600"})]})}),o.jsx(tt,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Tasa de asistencia"}),o.jsx("p",{className:"text-2xl mt-1 text-green-600",children:es(s?.tasaAsistencia||0)})]}),o.jsx(zw,{className:"size-8 text-green-600"})]})}),o.jsx(tt,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Tasa de cancelacin"}),o.jsx("p",{className:"text-2xl mt-1 text-red-600",children:es(s?.tasaCancelacion||0)})]}),o.jsx(Fw,{className:"size-8 text-red-600"})]})})]})]}),o.jsx(An,{value:"medicos",className:"space-y-4",children:o.jsx(tt,{children:o.jsxs(aa,{children:[o.jsx(ia,{children:o.jsxs(gt,{children:[o.jsx(Ce,{children:"Mdico"}),o.jsx(Ce,{className:"text-right",children:"Total Citas"}),o.jsx(Ce,{className:"text-right",children:"Completadas"}),o.jsx(Ce,{className:"text-right",children:"Tasa Asistencia"}),o.jsx(Ce,{className:"text-right",children:"Ingresos"}),o.jsx(Ce,{className:"text-right",children:"Recaudado"})]})}),o.jsx(oa,{children:x.length===0?o.jsx(gt,{children:o.jsx(_e,{colSpan:6,className:"text-center py-8 text-gray-500",children:"No hay datos para mostrar"})}):x.map(I=>o.jsxs(gt,{children:[o.jsx(_e,{children:I.medico}),o.jsx(_e,{className:"text-right",children:I.totalCitas}),o.jsx(_e,{className:"text-right",children:I.citasCompletadas}),o.jsx(_e,{className:"text-right",children:o.jsx("span",{className:I.tasaAsistencia>=80?"text-green-600":I.tasaAsistencia>=60?"text-yellow-600":"text-red-600",children:es(I.tasaAsistencia)})}),o.jsx(_e,{className:"text-right",children:mn(I.totalIngresos)}),o.jsx(_e,{className:"text-right text-green-600",children:mn(I.ingresosRecaudados)})]},I.idMedico))})]})})}),o.jsx(An,{value:"sucursales",className:"space-y-4",children:o.jsx(tt,{children:o.jsxs(aa,{children:[o.jsx(ia,{children:o.jsxs(gt,{children:[o.jsx(Ce,{children:"Sucursal"}),o.jsx(Ce,{className:"text-right",children:"Mdicos"}),o.jsx(Ce,{className:"text-right",children:"Total Citas"}),o.jsx(Ce,{className:"text-right",children:"Completadas"}),o.jsx(Ce,{className:"text-right",children:"Ingresos"}),o.jsx(Ce,{className:"text-right",children:"Recaudado"})]})}),o.jsx(oa,{children:b.length===0?o.jsx(gt,{children:o.jsx(_e,{colSpan:6,className:"text-center py-8 text-gray-500",children:"No hay datos para mostrar"})}):b.map(I=>o.jsxs(gt,{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(zl,{className:"size-4 text-gray-400"}),I.sucursal]}),o.jsx(_e,{className:"text-right",children:I.numeroMedicos}),o.jsx(_e,{className:"text-right",children:I.totalCitas}),o.jsx(_e,{className:"text-right",children:I.citasCompletadas}),o.jsx(_e,{className:"text-right",children:mn(I.totalIngresos)}),o.jsx(_e,{className:"text-right text-green-600",children:mn(I.ingresosRecaudados)})]},I.idSucursal))})]})})}),o.jsxs(An,{value:"pacientes",className:"space-y-4",children:[o.jsx("div",{className:"flex justify-end mb-4",children:o.jsxs(ft,{value:r,onValueChange:I=>n(I),children:[o.jsx(pt,{className:"w-48",children:o.jsx(ht,{})}),o.jsxs(mt,{children:[o.jsx(Ae,{value:"citas",children:"Ordenar por Citas"}),o.jsx(Ae,{value:"gastos",children:"Ordenar por Gastos"})]})]})}),o.jsx(tt,{children:o.jsxs(aa,{children:[o.jsx(ia,{children:o.jsxs(gt,{children:[o.jsx(Ce,{children:"#"}),o.jsx(Ce,{children:"Paciente"}),o.jsx(Ce,{children:"Identificacin"}),o.jsx(Ce,{className:"text-right",children:"Total Citas"}),o.jsx(Ce,{className:"text-right",children:"Total Gastado"}),o.jsx(Ce,{children:"ltima Cita"})]})}),o.jsx(oa,{children:j.length===0?o.jsx(gt,{children:o.jsx(_e,{colSpan:6,className:"text-center py-8 text-gray-500",children:"No hay datos para mostrar"})}):j.map((I,R)=>o.jsxs(gt,{children:[o.jsx(_e,{className:"font-semibold",children:R+1}),o.jsx(_e,{children:I.paciente}),o.jsx(_e,{children:I.identificacion}),o.jsx(_e,{className:"text-right",children:I.totalCitas}),o.jsx(_e,{className:"text-right text-green-600",children:mn(I.totalGastado)}),o.jsx(_e,{children:new Date(I.ultimaCita).toLocaleDateString("es-ES")})]},I.idPaciente))})]})})]}),o.jsxs(An,{value:"financiero",className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs(tt,{className:"p-6",children:[o.jsx("h3",{className:"mb-4",children:"Distribucin por Estado de Pago"}),o.jsx(ph,{width:"100%",height:250,children:o.jsxs($I,{children:[o.jsx(Ka,{data:A,dataKey:"cantidad",nameKey:"estado",cx:"50%",cy:"50%",outerRadius:80,label:I=>`${I.estado}: ${es(I.porcentaje)}`,children:A.map((I,R)=>o.jsx(Qu,{fill:yl[R%yl.length]},`cell-${R}`))}),o.jsx(On,{formatter:(I,R,D)=>[I,D.payload.estado]})]})}),o.jsx("div",{className:"mt-4 space-y-2",children:A.map((I,R)=>o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:yl[R]}}),I.estado]}),o.jsx("span",{children:mn(I.monto)})]},R))})]}),o.jsxs(tt,{className:"p-6",children:[o.jsx("h3",{className:"mb-4",children:"Distribucin por Forma de Pago"}),o.jsx(ph,{width:"100%",height:250,children:o.jsxs($I,{children:[o.jsx(Ka,{data:P,dataKey:"monto",nameKey:"forma",cx:"50%",cy:"50%",outerRadius:80,label:I=>`${I.forma}: ${es(I.porcentaje)}`,children:P.map((I,R)=>o.jsx(Qu,{fill:yl[R%yl.length]},`cell-${R}`))}),o.jsx(On,{formatter:I=>mn(I)})]})}),o.jsx("div",{className:"mt-4 space-y-2",children:P.map((I,R)=>o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:yl[R]}}),I.forma]}),o.jsx("span",{children:mn(I.monto)})]},R))})]})]}),o.jsxs(tt,{className:"p-6",children:[o.jsx("h3",{className:"mb-4",children:"Resumen Financiero"}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Total Ingresos"}),o.jsx("p",{className:"text-2xl text-green-600 mt-1",children:mn(s?.totalIngresos||0)})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Total Recaudado"}),o.jsx("p",{className:"text-2xl text-blue-600 mt-1",children:mn((s?.totalIngresos||0)-(s?.totalPendienteCobro||0))})]}),o.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Pendiente de Cobro"}),o.jsx("p",{className:"text-2xl text-red-600 mt-1",children:mn(s?.totalPendienteCobro||0)})]})]})]})]})]})]})]})}function ive({onClose:e}){const[t,r]=w.useState([{id:"1",text:"Hola! Soy tu asistente virtual. En qu puedo ayudarte hoy?",sender:"ai",timestamp:new Date}]),[n,a]=w.useState(""),[i,s]=w.useState(!1),c=()=>{if(!n.trim())return;const f={id:Date.now().toString(),text:n,sender:"user",timestamp:new Date};r(p=>[...p,f]),a(""),s(!0),setTimeout(()=>{const p={id:(Date.now()+1).toString(),text:"Gracias por tu mensaje. Esta es una respuesta simulada. En el futuro, aqu podrs conectar un servicio de IA real para asistencia con citas, pacientes y ms.",sender:"ai",timestamp:new Date};r(h=>[...h,p]),s(!1)},1e3)},d=f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),c())};return o.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-end p-4 lg:p-6 pointer-events-none",children:o.jsxs(tt,{className:"w-full max-w-md h-[600px] flex flex-col pointer-events-auto shadow-2xl",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-t-lg",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:o.jsx(Kj,{className:"size-5"})}),o.jsxs("div",{children:[o.jsx("h3",{children:"Asistente IA"}),o.jsx("p",{className:"text-xs text-blue-100",children:"En lnea"})]})]}),o.jsx(fe,{variant:"ghost",size:"sm",onClick:e,className:"text-white hover:bg-white/20",children:o.jsx(bo,{className:"size-5"})})]}),o.jsx(t_,{className:"flex-1 p-4",children:o.jsxs("div",{className:"space-y-4",children:[t.map(f=>o.jsxs("div",{className:`flex gap-2 ${f.sender==="user"?"justify-end":"justify-start"}`,children:[f.sender==="ai"&&o.jsx("div",{className:"bg-blue-100 p-2 rounded-full size-8 flex items-center justify-center flex-shrink-0",children:o.jsx(hs,{className:"size-4 text-blue-600"})}),o.jsxs("div",{className:`max-w-[80%] rounded-lg px-4 py-2 ${f.sender==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-800"}`,children:[o.jsx("p",{className:"text-sm",children:f.text}),o.jsx("span",{className:"text-xs opacity-70 mt-1 block",children:f.timestamp.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})})]}),f.sender==="user"&&o.jsx("div",{className:"bg-gray-200 p-2 rounded-full size-8 flex items-center justify-center flex-shrink-0",children:o.jsx(hm,{className:"size-4 text-gray-600"})})]},f.id)),i&&o.jsxs("div",{className:"flex gap-2 justify-start",children:[o.jsx("div",{className:"bg-blue-100 p-2 rounded-full size-8 flex items-center justify-center flex-shrink-0",children:o.jsx(hs,{className:"size-4 text-blue-600"})}),o.jsx("div",{className:"bg-gray-100 text-gray-800 rounded-lg px-4 py-2",children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),o.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce [animation-delay:0.2s]"}),o.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce [animation-delay:0.4s]"})]})})]})]})}),o.jsx("div",{className:"p-4 border-t bg-gray-50",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Se,{value:n,onChange:f=>a(f.target.value),onKeyPress:d,placeholder:"Escribe tu mensaje...",className:"flex-1"}),o.jsx(fe,{onClick:c,className:"bg-blue-600 hover:bg-blue-700",disabled:!n.trim(),children:o.jsx(wD,{className:"size-4"})})]})})]})})}function ove({onLogout:e,currentUser:t}){const[r,n]=w.useState("agenda"),[a,i]=w.useState(!1),[s,c]=w.useState(!1),[d,f]=w.useState(!0),[p,h]=w.useState(!1),[g,x]=w.useState(null),[_,b]=w.useState(null),j=[{id:"agenda",label:"Agenda",icon:mi},{id:"pacientes",label:"Pacientes",icon:pm},{id:"cargos",label:"Cobros",icon:KV},{id:"reportes",label:"Reportes",icon:No},{id:"chatbot",label:"Chatbot",icon:hs},{id:"configuraciones",label:"Configuraciones",icon:KW}].filter(E=>t?.tipo_usuario==="secretaria"?E.id==="agenda"||E.id==="pacientes":t?.tipo_usuario==="administrativo"?!0:E.id!=="configuraciones"&&E.id!=="chatbot"),S=(E,O)=>{x(E),b(O),n("pacientes")},A=E=>{E!=="pacientes"&&(x(null),b(null)),n(E)},P=()=>{switch(r){case"agenda":return o.jsx(HJ,{currentUser:t,onIniciarConsulta:S});case"pacientes":return o.jsx(GQ,{currentUser:t,pacienteIdInicial:g,citaIdInicial:_,onConsultaCompletada:()=>{x(null),b(null)}});case"cargos":return o.jsx(iZ,{});case"reportes":return o.jsx(ave,{});case"chatbot":return o.jsx(NX,{currentUser:t});case"configuraciones":return o.jsx(NJ,{});default:return null}};return o.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[o.jsx("aside",{className:`
          fixed lg:static inset-y-0 left-0 z-40
          ${d&&!p?"w-16":"w-64"} bg-white border-r border-gray-200
          transform transition-all duration-300 ease-in-out
          ${a?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        `,onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx("div",{className:"p-4 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("div",{className:`${d&&!p?"hidden":"block"}`,children:o.jsx("img",{src:e_,alt:"Clnicas ATLAS",className:"h-16 object-contain"})}),d&&!p&&o.jsx("img",{src:e_,alt:"Clnicas ATLAS",className:"h-10 object-contain"}),o.jsx(fe,{variant:"ghost",size:"sm",className:"lg:hidden absolute right-2 top-2",onClick:()=>i(!1),children:o.jsx(bo,{className:"size-5"})})]})}),o.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:j.map(E=>{const O=E.icon;return o.jsxs("button",{onClick:()=>A(E.id),className:`
                    w-full flex items-center gap-3 px-4 py-3 rounded-lg
                    transition-colors duration-200
                    ${r===E.id?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50"}
                  `,title:d&&!p?E.label:"",children:[o.jsx(O,{className:"size-5 flex-shrink-0"}),o.jsx("span",{className:d&&!p?"hidden":"",children:E.label})]},E.id)})}),o.jsxs("div",{className:"p-4 border-t border-gray-200 space-y-1",children:[(!d||p)&&o.jsxs(fe,{variant:"ghost",onClick:e,className:"w-full justify-start gap-3 text-red-600 hover:bg-red-50 hover:text-red-700",children:[o.jsx(uy,{className:"size-5"}),o.jsx("span",{children:"Cerrar Sesin"})]}),d&&!p&&o.jsx(fe,{variant:"ghost",onClick:e,className:"w-full justify-center text-red-600 hover:bg-red-50 hover:text-red-700",title:"Cerrar Sesin",children:o.jsx(uy,{className:"size-5"})}),o.jsx(fe,{variant:"ghost",onClick:()=>f(!d),className:`hidden lg:flex w-full ${d&&!p?"justify-center":"justify-start gap-3"} text-gray-600 hover:bg-gray-50`,title:d?"Expandir men":"Contraer men",children:d&&!p?o.jsx(Fh,{className:"size-5"}):o.jsxs(o.Fragment,{children:[o.jsx(Hj,{className:"size-5"}),o.jsx("span",{children:"Contraer"})]})})]})]})}),a&&o.jsx("div",{className:"fixed inset-0 bg-transparent z-30 lg:hidden",onClick:()=>i(!1)}),o.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[o.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(fe,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>i(!0),children:o.jsx(TW,{className:"size-6"})}),o.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[t&&o.jsxs("div",{className:"hidden md:flex items-center gap-3 bg-gray-50 px-4 py-2 rounded-lg border border-gray-200",children:[o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsx("span",{className:"text-sm text-gray-800",children:t.name}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[t.compania&&o.jsxs(o.Fragment,{children:[o.jsx(zl,{className:"size-3"}),o.jsx("span",{children:t.compania})]}),t.sucursal&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsx(Co,{className:"size-3"}),o.jsx("span",{children:t.sucursal})]})]})]}),o.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:o.jsx(hm,{className:"size-4 text-blue-600"})})]}),o.jsxs(fe,{variant:"outline",onClick:e,className:"gap-2 text-red-600 border-red-200 hover:bg-red-50 hover:text-red-700 hover:border-red-300",children:[o.jsx(uy,{className:"size-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Cerrar Sesin"})]})]})]})}),o.jsx("main",{className:"flex-1 p-6",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:P()})})]}),s&&o.jsx(ive,{onClose:()=>c(!1)}),!s&&o.jsx(fe,{onClick:()=>c(!0),className:"fixed bottom-6 right-6 size-14 rounded-full shadow-lg bg-blue-600 hover:bg-blue-700 z-40",children:o.jsx(Kj,{className:"size-6"})})]})}var sve=(e,t,r,n,a,i,s,c)=>{let d=document.documentElement,f=["light","dark"];function p(x){(Array.isArray(e)?e:[e]).forEach(_=>{let b=_==="class",v=b&&i?a.map(j=>i[j]||j):a;b?(d.classList.remove(...v),d.classList.add(i&&i[x]?i[x]:x)):d.setAttribute(_,x)}),h(x)}function h(x){c&&f.includes(x)&&(d.style.colorScheme=x)}function g(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)p(n);else try{let x=localStorage.getItem(t)||r,_=s&&x==="system"?g():x;p(_)}catch{}},lve=w.createContext(void 0),cve={setTheme:e=>{},themes:[]},uve=()=>{var e;return(e=w.useContext(lve))!=null?e:cve};w.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:s,themes:c,nonce:d,scriptProps:f})=>{let p=JSON.stringify([r,t,i,e,c,s,n,a]).slice(1,-1);return w.createElement("script",{...f,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${sve.toString()})(${p})`}})});const dve=({...e})=>{const{theme:t="system"}=uve();return o.jsx(BH,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})},fve=[{id_usuario:1,nombre:"Juan",apellido:"Yepez",cedula:"1715834692",email:"jyepez@hospitalatlas.com",telefono:"0998765432",password:"password123",tipo_usuario:"medico",fecha_ingreso:"2020-01-15",estado:"activo"},{id_usuario:2,nombre:"Mara",apellido:"Lpez",cedula:"1709876543",email:"mlopez@hospitalatlas.com",telefono:"0987654321",password:"password123",tipo_usuario:"medico",fecha_ingreso:"2023-06-01",estado:"activo"},{id_usuario:3,nombre:"Carlos",apellido:"Ramrez",cedula:"1712345678",email:"cramirez@hospitalatlas.com",telefono:"0976543210",password:"password123",tipo_usuario:"medico",fecha_ingreso:"2021-03-10",estado:"activo"},{id_usuario:4,nombre:"Ana",apellido:"Torres",cedula:"1713456789",email:"atorres@hospitalatlas.com",telefono:"0965432109",password:"admin123",tipo_usuario:"administrativo",fecha_ingreso:"2022-08-20",estado:"activo"},{id_usuario:5,nombre:"Luis",apellido:"Gonzlez",cedula:"1714567890",email:"lgonzalez@hospitalatlas.com",telefono:"0954321098",password:"admin123",tipo_usuario:"administrativo",fecha_ingreso:"2019-03-15",estado:"activo"}],hve=[{id_usuario_sucursal:1,id_usuario:1,id_sucursal:1,especialidad:"Cardiologa",es_sucursal_principal:!0,fecha_asignacion:"2020-01-15",estado:"activo"},{id_usuario_sucursal:2,id_usuario:1,id_sucursal:2,especialidad:"Cardiologa",es_sucursal_principal:!1,fecha_asignacion:"2021-06-10",estado:"activo"},{id_usuario_sucursal:3,id_usuario:2,id_sucursal:1,especialidad:"Cardiologa",es_sucursal_principal:!0,fecha_asignacion:"2023-06-01",estado:"activo"},{id_usuario_sucursal:4,id_usuario:3,id_sucursal:2,especialidad:"Pediatra",es_sucursal_principal:!0,fecha_asignacion:"2021-03-10",estado:"activo"},{id_usuario_sucursal:5,id_usuario:4,id_sucursal:1,especialidad:"Administracin",es_sucursal_principal:!0,fecha_asignacion:"2022-08-20",estado:"activo"},{id_usuario_sucursal:6,id_usuario:5,id_sucursal:1,especialidad:"Administracin",es_sucursal_principal:!0,fecha_asignacion:"2019-03-15",estado:"activo"},{id_usuario_sucursal:7,id_usuario:5,id_sucursal:2,especialidad:"Administracin",es_sucursal_principal:!1,fecha_asignacion:"2020-01-10",estado:"activo"}];let pve=[{id_consultorio:1,id_sucursal:1,nombre:"Consultorio 1",numero:"101",piso:"1",descripcion:"Consultorio general con equipamiento bsico",capacidad:3,equipamiento:"Camilla, Tensimetro, Estetoscopio, Mesa de examen",estado:"activo",fecha_creacion:"2024-01-01"},{id_consultorio:2,id_sucursal:1,nombre:"Consultorio 2",numero:"102",piso:"1",descripcion:"Consultorio cardiolgico especializado",capacidad:4,equipamiento:"Camilla, Tensimetro, ECG, Estetoscopio, Desfibrilador",estado:"activo",fecha_creacion:"2024-01-01"},{id_consultorio:3,id_sucursal:1,nombre:"Consultorio Peditrico",numero:"201",piso:"2",descripcion:"Consultorio especializado en pediatra",capacidad:3,equipamiento:"Camilla peditrica, Bscula infantil, Tallmetro, Juguetes",estado:"activo",fecha_creacion:"2024-01-01"},{id_consultorio:4,id_sucursal:2,nombre:"Consultorio A",numero:"A-01",piso:"1",descripcion:"Consultorio general amplio",capacidad:5,equipamiento:"Camilla, Tensimetro, Estetoscopio, Lmpara de examen",estado:"activo",fecha_creacion:"2024-01-01"},{id_consultorio:5,id_sucursal:2,nombre:"Consultorio B",numero:"B-01",piso:"1",descripcion:"Consultorio de cardiologa",capacidad:4,equipamiento:"Camilla, Tensimetro digital, ECG, Monitor cardaco",estado:"activo",fecha_creacion:"2024-01-01"},{id_consultorio:6,id_sucursal:2,nombre:"Sala de Emergencias",numero:"E-01",piso:"1",descripcion:"Sala equipada para emergencias",capacidad:6,equipamiento:"Camilla, Desfibrilador, Equipo de oxgeno, Monitor multiparamtrico",estado:"mantenimiento",fecha_creacion:"2024-01-01"}],mve=[{id_asignacion:1,id_consultorio:2,id_usuario_sucursal:1,dia_semana:1,hora_inicio:"08:00",hora_fin:"17:00",es_asignacion_fija:!0,fecha_vigencia_desde:"2024-01-01",fecha_vigencia_hasta:null,estado:"activo"},{id_asignacion:2,id_consultorio:2,id_usuario_sucursal:1,dia_semana:2,hora_inicio:"08:00",hora_fin:"17:00",es_asignacion_fija:!0,fecha_vigencia_desde:"2024-01-01",fecha_vigencia_hasta:null,estado:"activo"},{id_asignacion:3,id_consultorio:5,id_usuario_sucursal:2,dia_semana:3,hora_inicio:"14:00",hora_fin:"18:00",es_asignacion_fija:!0,fecha_vigencia_desde:"2024-01-01",fecha_vigencia_hasta:null,estado:"activo"},{id_asignacion:4,id_consultorio:5,id_usuario_sucursal:2,dia_semana:4,hora_inicio:"14:00",hora_fin:"18:00",es_asignacion_fija:!0,fecha_vigencia_desde:"2024-01-01",fecha_vigencia_hasta:null,estado:"activo"},{id_asignacion:5,id_consultorio:1,id_usuario_sucursal:3,dia_semana:1,hora_inicio:"09:00",hora_fin:"13:00",es_asignacion_fija:!0,fecha_vigencia_desde:"2024-01-01",fecha_vigencia_hasta:null,estado:"activo"},{id_asignacion:6,id_consultorio:1,id_usuario_sucursal:3,dia_semana:2,hora_inicio:"09:00",hora_fin:"13:00",es_asignacion_fija:!0,fecha_vigencia_desde:"2024-01-01",fecha_vigencia_hasta:null,estado:"activo"},{id_asignacion:7,id_consultorio:1,id_usuario_sucursal:3,dia_semana:3,hora_inicio:"09:00",hora_fin:"13:00",es_asignacion_fija:!0,fecha_vigencia_desde:"2024-01-01",fecha_vigencia_hasta:null,estado:"activo"},{id_asignacion:8,id_consultorio:1,id_usuario_sucursal:3,dia_semana:4,hora_inicio:"09:00",hora_fin:"13:00",es_asignacion_fija:!0,fecha_vigencia_desde:"2024-01-01",fecha_vigencia_hasta:null,estado:"activo"},{id_asignacion:9,id_consultorio:1,id_usuario_sucursal:3,dia_semana:5,hora_inicio:"09:00",hora_fin:"13:00",es_asignacion_fija:!0,fecha_vigencia_desde:"2024-01-01",fecha_vigencia_hasta:null,estado:"activo"}];function gve(e,t,r){return r.map(n=>n.id_consultorio!==e?n:t==="mantenimiento"?{...n,estado:"inactivo"}:t==="activo"?{...n,estado:"activo"}:{...n,estado:"inactivo"})}function zI(e,t,r,n){return r.map(a=>{if(n){const i=n.find(s=>s.id_usuario_sucursal===a.id_usuario_sucursal);if(!i||i.id_usuario!==e)return a}return t==="inactivo"?{...a,estado:"inactivo"}:t==="activo"?{...a,estado:"activo"}:a})}const vve=w.createContext(void 0);function yve({children:e}){const[t,r]=w.useState([...pve]),[n,a]=w.useState([...fve]),[i,s]=w.useState([...hve]),[c,d]=w.useState([...mve]),f=E=>{r(O=>{const C=O.find(T=>T.id_consultorio===E.id_consultorio);if(C&&C.estado!==E.estado){const T=gve(E.id_consultorio,E.estado,c);d(T)}return O.map(T=>T.id_consultorio===E.id_consultorio?E:T)})},p=E=>{r(O=>[...O,E])},h=E=>{r(O=>O.filter(C=>C.id_consultorio!==E)),d(O=>O.filter(C=>C.id_consultorio!==E))},g=E=>{d(O=>[...O,E])},x=E=>{d(O=>O.map(C=>C.id_asignacion===E.id_asignacion?E:C))},_=E=>{d(O=>O.filter(C=>C.id_asignacion!==E))},b=E=>{a(O=>{const C=O.find(T=>T.id_usuario===E.id_usuario);if(C&&C.estado!==E.estado){const T=zI(E.id_usuario,E.estado,c,i);d(T)}return O.map(T=>T.id_usuario===E.id_usuario?E:T)})},v=E=>{a(O=>[...O,E])},j=E=>{a(C=>C.filter(T=>T.id_usuario!==E)),s(C=>C.filter(T=>T.id_usuario!==E));const O=i.filter(C=>C.id_usuario===E).map(C=>C.id_usuario_sucursal);d(C=>C.filter(T=>!O.includes(T.id_usuario_sucursal)))},S=E=>{s(O=>{const C=O.find(T=>T.id_usuario_sucursal===E.id_usuario_sucursal);if(C&&C.estado!==E.estado){const T=zI(E.id_usuario,E.estado,c,[...O.map(I=>I.id_usuario_sucursal===E.id_usuario_sucursal?E:I)]);d(T)}return O.map(T=>T.id_usuario_sucursal===E.id_usuario_sucursal?E:T)})},A=E=>{s(O=>[...O,E])},P=E=>{s(O=>O.filter(C=>C.id_usuario_sucursal!==E)),d(O=>O.filter(C=>C.id_usuario_sucursal!==E))};return o.jsx(vve.Provider,{value:{consultorios:t,setConsultorios:r,updateConsultorio:f,addConsultorio:p,deleteConsultorio:h,usuarios:n,setUsuarios:a,updateUsuario:b,addUsuario:v,deleteUsuario:j,usuariosSucursales:i,setUsuariosSucursales:s,updateUsuarioSucursal:S,addUsuarioSucursal:A,deleteUsuarioSucursal:P,asignaciones:c,setAsignaciones:d,addAsignacion:g,updateAsignacion:x,deleteAsignacion:_},children:e})}function xve(){const[e,t]=w.useState(!1),[r,n]=w.useState(null),a=(c,d)=>{n({usuario:c,asignacion:d}),t(!0)},i=()=>{t(!1),n(null)},s=r?{name:`${r.usuario.tipo_usuario==="medico"?"Dr. ":""}${r.usuario.nombre} ${r.usuario.apellido}`,email:r.usuario.email,compania:r.asignacion.compania.nombre,sucursal:r.asignacion.sucursal.nombre,especialidad:r.asignacion.especialidad,tipo_usuario:r.usuario.tipo_usuario}:null;return o.jsx(yve,{children:o.jsxs("div",{className:"min-h-screen",children:[e?o.jsx(ove,{onLogout:i,currentUser:s}):o.jsx(SG,{onLogin:a}),o.jsx(dve,{})]})})}uq.createRoot(document.getElementById("root")).render(o.jsx(xve,{}));
